# å…¶ä»–

---

## 1. httpåè®® å˜ httpsï¼ˆç”³è¯·é…ç½®sslè¯ä¹¦ï¼‰

- ç”³è¯·äº†sslè¯ä¹¦ï¼Œå°±èƒ½è®©ç½‘ç«™å˜ä¸º httpså¼€å¤´çš„ï¼Œæ›´å®‰å…¨ï¼Œé¢ï¼Œä¼¼ä¹æ¯”æˆ‘æƒ³çš„ç®€å•

<img src="https://itzkp-1253302184.cos.ap-beijing.myqcloud.com/github%E5%9B%BE%E7%89%87/notes/1.quickcheck/3.%E8%BF%90%E7%BB%B4/1.png" />
<img src="https://itzkp-1253302184.cos.ap-beijing.myqcloud.com/github%E5%9B%BE%E7%89%87/notes/1.quickcheck/3.%E8%BF%90%E7%BB%B4/2.png" />
<img src="https://itzkp-1253302184.cos.ap-beijing.myqcloud.com/github%E5%9B%BE%E7%89%87/notes/1.quickcheck/3.%E8%BF%90%E7%BB%B4/3.png" />


- ä¹‹åè¿˜éœ€è¦è¿›è¡Œé…ç½®ï¼šhttps://cloud.tencent.com/document/product/400/35244

<img src="https://itzkp-1253302184.cos.ap-beijing.myqcloud.com/github%E5%9B%BE%E7%89%87/notes/1.quickcheck/3.%E8%BF%90%E7%BB%B4/3.png" />

- ğŸ”¥æ³¨æ„ï¼šä¸»åŸŸåç”³è¯·çš„å•åŸŸåè¯ä¹¦ï¼ŒäºŒçº§åŸŸåä¸åœ¨httpsåŠ å¯†ä¿æŠ¤å†…ï¼Œæ‰€ä»¥ notes.itzkp.com è¿˜æ˜¯ httpåè®®ï¼Œè€Œé€šé…ç¬¦è¯ä¹¦å¯ä»¥ä¿æŠ¤ä¸»åŸŸåä¸‹æ‰€æœ‰çš„äºŒçº§å­åŸŸå

äºæ˜¯ä¹æˆ‘åˆç”³è¯·äº†ï¼šnotes.itzkp.com å’Œ jl.itzkp.com çš„sslè¯ä¹¦ï¼Œéš¾ç‚¹å°±æ˜¯ äºŒçº§åŸŸåçš„è§£ææˆ‘æ˜¯æ”¾åˆ°äº†ï¼Œconf.d æ–‡ä»¶å¤¹ä¸‹ï¼Œæˆ‘è¿™æ€ä¹ˆè®¾ç½® sslå‘¢ï¼Ÿ

```sh
# ç¤ºä¾‹ï¼šåœ¨conf.d ä¸‹é¢çš„ notes.confä¸‹

server {
	listen 443;
    server_name notes.itzkp.com; #å¡«å†™ç»‘å®šè¯ä¹¦çš„åŸŸå
    ssl on;
    ssl_certificate 1_notes.itzkp.com_bundle.crt;#è¯ä¹¦æ–‡ä»¶åç§°
    ssl_certificate_key 2_notes.itzkp.com.key;#ç§é’¥æ–‡ä»¶åç§°
    ssl_session_timeout 5m;
    ssl_protocols TLSv1 TLSv1.1 TLSv1.2; #è¯·æŒ‰ç…§è¿™ä¸ªåè®®é…ç½®
    ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE;#è¯·æŒ‰ç…§è¿™ä¸ªå¥—ä»¶é…ç½®
    ssl_prefer_server_ciphers on;

    location / {

      proxy_pass http://140.143.3.244:9998;
    	proxy_set_header X-Real-IP $remote_addr;
   	 	proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
   	  proxy_set_header Host $http_host;
  		proxy_set_header X-Nginx-Proxy true;
  		proxy_redirect off;        
    }
}

server {
  listen 80;
  server_name notes.itzkp.com; #å¡«å†™ç»‘å®šè¯ä¹¦çš„åŸŸå
  rewrite ^(.*)$ https://$host$1 permanent; #æŠŠhttpçš„åŸŸåè¯·æ±‚è½¬æˆhttps
}

```

---