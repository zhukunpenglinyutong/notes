# 1.Nodeé€ŸæŸ¥

## ç¬¬ä¸€éƒ¨åˆ†ï¼šNodeåŸºç¡€æ“ä½œ

### 1.æ–‡ä»¶ç³»ç»Ÿ

### 2.å¯åŠ¨httpæœåŠ¡

```javascript
//å¯¼å…¥HTTPæ¨¡å—
let http = require('http')
 
//å®šä¹‰ä¸€ä¸ªè¦ç›‘å¬çš„ç«¯å£
const PORT = 8989;
 
// ä¸€ä¸ªå¤„ç†è¯·æ±‚å’Œå‘é€å“åº”çš„å‡½æ•°
const handleRequest = (request, response) => {
    response.end('Hello World!!!')
}

// åˆ›å»ºæœåŠ¡å™¨
let server = http.createServer(handleRequest);
 
// å¯åŠ¨æœåŠ¡
server.listen(PORT, () => {
    console.log("Server listening on: http://localhost:%s", PORT);
})
```

---

## 2.å¿«é€Ÿå¯åŠ¨ä¸€ä¸ªä»£ç†é™æ€èµ„æºçš„HTTPæœåŠ¡

### åˆè¯†ç‰ˆæœ¬ï¼Œäº²æµ‹å¯ç”¨ï¼ˆå¯¹äºä¸­æ–‡ç›®å½•æœ‰è®¿é—®ä¸åˆ°çš„æƒ…å†µå‘ç”Ÿï¼‰

```javascript
let http = require('http')
let fs = require('fs')
let url = require('url')
let path = require('path')

let server = http.createServer(function(request, response){
    //è·å–è¾“å…¥çš„urlè§£æåçš„å¯¹è±¡
    let pathObj = url.parse(request.url, true);
    //staticæ–‡ä»¶å¤¹çš„ç»å¯¹è·¯å¾„
    let staticPath = path.resolve(__dirname, 'dist')
    //è·å–èµ„æºæ–‡ä»¶ç»å¯¹è·¯å¾„
    let filePath = path.join(staticPath, pathObj.pathname)
    // å¦‚æœæ˜¯æ ¹ç›®å½•çš„æƒ…å†µä¸‹çš„è®¿é—®ï¼Œéœ€è¦æ‹¼æ¥ä¸Š /index.html
    if (filePath.charAt(filePath.length-1)=="/"){
      filePath+="index.html";
    }
    //å¼‚æ­¥è¯»å–file
    fs.readFile(filePath, 'binary', function(err, fileContent){
        if(err){
            console.log('404')
            response.writeHead(404, 'not found')
            response.end('<h1>404 Not Found</h1>')
        }else{
            console.log('ok')
            response.write(fileContent, 'binary')
            response.end()
        }
    })
})

server.listen(9999)
console.log('visit http://localhost:9999')
```

---

### Expresså¯åŠ¨ä¸€ä¸ªé™æ€æœåŠ¡

- å®‰è£…ï¼šnpm install express --save

```javascript
var express = require('express')
var app = express()

app.use(express.static('docs')) // ä»£ç†çš„æ–‡ä»¶å¤¹ï¼ˆè‡ªåŠ¨æ‰¾æ–‡ä»¶å¤¹ä¸‹çš„index.htmlä¸º /çº§ç›®å½•å†…å®¹ï¼‰

app.listen(3000, () => console.log('Example app listening on port 3000!'))
```

---

## 3.Nodeè¯»å†™æ–‡ä»¶

```javascript

// å¼‚æ­¥è¯»å–
fs.readFile('input.txt', function (err, data) {
   if (err) {
       return console.error(err);
   }
   console.log("å¼‚æ­¥è¯»å–: " + data.toString());
});

// å¼‚æ­¥å†™å…¥
fs.writeFile('input.txt', 'æˆ‘æ˜¯é€š è¿‡fs.writeFile å†™å…¥æ–‡ä»¶çš„å†…å®¹',  function(err) {
   if (err) {
       return console.error(err);
   }
   console.log('å†™å…¥æˆåŠŸ')
});


// åŒæ­¥è¯»å–
var data = fs.readFileSync('input.txt');
console.log("åŒæ­¥è¯»å–: " + data.toString());

// åŒæ­¥å†™å…¥
fs.writeFileSync('input.txt', 'æˆ‘æ˜¯é€š è¿‡fs.writeFile å†™å…¥æ–‡ä»¶çš„å†…å®¹')
```

- [Nodeæ–‡ä»¶ç³»ç»Ÿ|èœé¸Ÿæ•™ç¨‹](https://www.runoob.com/nodejs/nodejs-fs.html)

---

## ğŸ“šå‚è€ƒåˆ—è¡¨ï¼ˆè‡´æ•¬ï¼‰