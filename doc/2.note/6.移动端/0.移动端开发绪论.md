# 0.移动端开发绪论

::: tip
移动端开发系统有：Android 和 IOS，未来可以还有其他的操作系统，为了真正了解移动端，我决定写一下这个绪论，去探索一下，移动端开发的前因后果，技术演进（搞技术也好，还是工作也好，我就喜欢搞个前因后果，偏执。）
:::

---

## ⏱第一部分：移动端发展历史

### 1.手机发展历史

- 第一个时代：诺基亚，摩托罗拉之类的时代...（采用的系统是塞班）
- 2007年：IPhome问世，触屏+ 应用引爆智能手机时代（2008年 App Store问世）
- 2008年：首部Android手机问世，是由HTC制造的 HTC G1
- 之后就是我们知道的 小米 华为 等等

---

### 2.手机操作系统发展历史

- Symbian(塞班)(倒闭)
- BlackBerry OS(黑莓)(关闭)
- Windows Mobile(微软)
- iOS(苹果)
- 谷歌Android(安卓)


---

### 3.手机网络发展历史

- **1G时代**（模拟手机大哥大）
    - 第一代移动通信技术使用了多重蜂窝基站，允许用户在通话期间自由移动并在相邻基站之间无缝传输通话
- **2G时代**（数字网络，从1991年开始）
    - 第二代移动通信技术区别于前代，使用了数字传输取代模拟，并提高了电话寻找网络的效率。这一时期手机用户数量急速增长，预付费电话流行
    - 基站的大量设立缩短了基站的间距，并使单个基站需要承担的覆盖面积缩小，有助于提供更高质量的信号覆盖。因此接收机不用像以前那样设计成大功率的，体积小巧的手机成为主流。
    - 这一时期短信功能首先在GSM平台应用，后来扩展到所有手机制式。铃声等付费内容成为新的利润增长点。
    - GSM（全球移动通信系统）成为全世界最流行的移动通信标准制式。由于内部兼容，国际漫游变得更容易。全球2G网络中80%为GSM制式，覆盖212个国家/地区的30亿人口。"
- **3G时代**（高速IP数据网络，从2001年开始）
    - 第三代移动通信技术的最大特点是在数据传输中使用分组交换（Packet Switching）取代了电路交换（Circult Switching）。几年前，用于在计算机上访问移动互联网的USB加密狗问世。电路交换使手机与手机之间进行语音等数据传输；分组交换则将语音等转换为数字格式，通过互联网进行包括语音、视频和其他多媒体内容在内的数据包传输
- **4G时代**（全IP数据网络，从2009年开始）
    - 到4G时代，电路交换将完全消失。所有语音通话将通过数字转换，以VoIP形式进行。因此在4G网络进行通话，将可以依靠有线或无线网络而不一定需要移动信号覆盖


---

## 📡第二部分：移动端技术发展历史

### 1.第一个阶段：跨平台技术产生之前

那时候只有原生的 Android 和 IOS 开发，会的人少，大都是摸着石头过河，为了解决开发效率（一个业务需要写两套代码的问题），各大公司退出了自己的跨平台解决方案，于是就进入到了移动端技术发展的下个阶段

--- 

### 2.第二个阶段：Web App & PWA

**Web App是指基于Web的应用，运行于网络和标准浏览器上，相当于一个网页然后加一个App的壳。2014年HTML5的标准规范制定完成，在网络舆论上Web App大有取代Native App的气势，但Web App有以下缺点，使得它始终是“主角的心，配角的命”**，缺点如下：

- 性能低，操作体验不好
- 无法调用原生API，很多功能无法实现
- 依赖于网络，网速慢时体验很差，并且没有离线功能，优化不好的话会消耗流量
- 只能做为一个临时的入口，用户留存率低

**PWA（Progressive Web App）意为渐进式增强Web应用，它不是一门技术，而是一个概念，使用多种技术来增强 Web App的功能**

- 用Service Worker + HTTPS +Cache Api + indexedDB 等一系列Web技术实现离线加载和缓存
- 实现了推送和通知
- 可以直接添加到手机的桌面上
- 使用Service Worker可以进行后台同步

**总结起来，PWA的主要的能力就是离线、推送、桌面访问，可以说PWA赋予Web App原生的体验，但是PWA一直不温不火的原因主要有以下几点：**

- 游览器对PWA技术支持还不够全面， 不是每一款游览器都能100%的支持PWA
- 国内一些手机厂商对Android系统各种魔改，对PWA的兼容性不好，甚至不支持PWA
- 平台的竞争，iOS对PWA的支持力度远远低于Android，所以PWA在iOS上的体验打了折扣。PWA面对类似的微信小程序和快应用的竞争中，并没有优势。

---

### 3.第三个阶段：Hybrid App（HTML5+原生来进行混合开发）

**原生App的架构图如下所示：**

<img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/nk8ic4xzfuQ9icKH4xaVevGjA0VI3G5bfpaWSwnZKxjyBog29bf2JkRwuGsUVj20sRIfjDXic5hpLmOourdmg8RzA/640?wx_fmt=png" />


通过原生SDK提供的API，App可以与系统底层通信，以创建 UI 组件或访问系统服务。这些组件被渲染到手机屏幕，屏幕产生的相应的事件会被传回给组件。

因为每个平台的系统组件是不同的，你需要为每个平台开发单独的 App，而Hybrid App不必这样，Hybrid App的原生UI组件用来展示交互复杂和渲染要求高的界面，其他的可以交给HTML5来展示。

Hybrid App虽然开发效率高，可以跨平台，但是Hybrid体验比不上原生，Hybrid相关的技术有很多，比如PhoneGap、Cordova、Ionic、VasSonic等等

---

**Cordova**

Cordova的体系结构图如下：

<img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/nk8ic4xzfuQ9icKH4xaVevGjA0VI3G5bfpHT0NoxE4eVibswNSYr8KKmgrdGM0axoxU73QJQg2JvfTYYth3IDfVsQ/640?wx_fmt=png" />

Cordova同样使用WebView来展示界面，插件是Cordova中不可或缺的一部分，Apache Cordova维护了名为Core Plugins的插件，这些核心插件为App提供访问设备功能，如电池、相机、联系人等。除了核心插件之外，还有一些第三方插件可以使用，你也可以开发一个自己的插件。

---

**Ionic**

Ionic Framework是一个开源UI工具包，最早的目标是使用HTML、CSS和JavaScript等Web技术开发移动应用程序。由于Web技术的这一基础，Ionic可以在网络运行的任何地方运行，比如  iOS、Android、浏览器、Electron、PWA等等,目前，Ionic Framework已与Angular正式集成，但对Vue和React的支持正在开发中。

---

### 4.第四个阶段：原生渲染

::: tip
原生渲染在本篇文章中指的是由JavaScript开发并且由原生控件渲染，代表有React Native、Weex、快应用
:::

**React Native**

React Native是Facebook早先开源的 Web UI框架React在原生移动应用平台的衍生产物，底层对Android和iOS平台的原生代码进行封装，通过使用JavaScript就可以编写出原生代码。

Virtual DOM是DOM在内存中的一种轻量级表达方式，可以通过不同的渲染引擎生成不同平台下的UI。

React Native与原生框架通过Bridge进行通信，如果使用Chrome浏览器进行调试，那么所有的JavaScript代码将运行在Chrome V8引擎中，通过WebSocket和原生代码进行通信。

<img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/nk8ic4xzfuQ9icKH4xaVevGjA0VI3G5bfpBD4tPg7ZgnicB4WsHVCGXANXE2lLXMpOu67JSg06BLj0uqXveUibZXqw/640?wx_fmt=png" />


---

### 5.第五个阶段：Flutter

Flutter是谷歌的移动UI框架，可以快速在Android和iOS上构建高质量的原生用户界面， 它的前身是谷歌试验项目Sky。

Futter提出了一切皆为控件（Widget）的概念，除了基本的文本、图片、卡片、输入框等Widget，布局方式和动画等也都是Widget。通过使用不同类型的Widget，就可以实现复杂度的界面。

Flutter框架采用了分层设计，此设计的目标是帮助开发者使用更少的代码完成更多工作。例如，Material层是由Widgets层的普通Widget组成的，而Widgets层本身是通过来自Rendering层的低级对象构建的。

<img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/nk8ic4xzfuQ9icKH4xaVevGjA0VI3G5bfpsa9kB9ZoGpBnnp1dTKyibiaUYWcv8Zh9msHqDZliaQdhCvJ5HmRaALrVA/640?wx_fmt=png" />


---

## 📱第三部分：手机硬件组成

::: tip
为什么要整理这个呢？因为我感觉如果不知道我的数据存到哪里，我拿数据发数据是经过了那个硬件，我连接WiFi，蓝牙，啥的用的是什么，我就有点不是很稳的感觉
:::

---

### 1.硬件结构

**基础结构**

智能手机的主电路板上安装的都是贴片元器件，排列十分紧密，并且电路板上的主要芯片都采用BGA形式焊接在电路板上。

<img src="http://www.elecfans.com/uploads/allimg/180103/2755814-1P1031J241617.png" />

**电路结构**

::: tip
智能手机的电路是智能手机的核心，负责手机的供电、控制以及手机各种功能的实现。智能手机的电路主要包括：射频电路、语音电路、处理器及存储器电路、电源及充电电路、操作及屏显电路、接口电路，以及其他功能电路（如蓝牙、天线、收音、传感器、振动器、摄像头电路等）
:::

<img src="http://www.elecfans.com/uploads/allimg/180103/2755814-1P1031J3002U.png" />

---

### 2.智能手机中的重要芯片

**双处理器结构**

<img src="http://www.elecfans.com/uploads/allimg/180103/2755814-1P1031J504304.png" />

双处理器结构智能手机主要包括：主处理器和从处理器

- **主处理器（ApplicaTIonProcessor，应用处理器）**，运行开放式操作系统以及操作系统之上的各种应用，负责整个系统的控制
- **从处理器（BasebandProcessor，基带处理器）**，负责基本无线通信，主要包括DBB（DigitalBaseband，数字基带芯片）和ABB（AnalogBaseband，模拟基带），完成语音信号和数字语音信号调制解调、信道编码解码和无线Modem控制

备注：智能手机只是在传统手机的基本硬件结构中BP的部分增加一定的外围电路，如音频芯片、LCD控制、摄像机控制器、扬声器、天线等，就构成了一个完整的智能手机的硬件结构。

---

**单处理器结构**

<img src="http://www.elecfans.com/uploads/allimg/180103/2755814-1P1031J51M12.png" />

单处理器智能手机只包括一个处理器，所谓的单处理器就是说智能手机的基本通信功能（通话、信息、GPRS等）和多媒体、应用软件的处理只用一个处理器来解决。这枚单处理器集成了数字基带、模拟基带、射频、电源管理、SRAM等功能

---

**中央处理器芯片**

中央处理器（CenterProcessingUnit，CPU）芯片是智能手机的核心部件，手机中的微处理器类似计算机中的中央处理器，它是整台智能手机的控制中枢系统，也是逻辑部分的控制核心。微处理器通过运行存储器内的软件及调用存储器内的数据库，达到对手机整体监控的目的。凡是要处理的数据都要经过CPU来完成，手机各个部分的管理等都离不开微处理器这个司令部的统一、协调指挥。随着集成电路生产技术及工艺水平的不断提高，手机中微处理器的功能越来越强大，如在微处理器中集成先进的数字信号处理器（DSP）等。处理器的性能决定了整部手机的性能。目前智能手机处理器厂商主要有：德州仪器、Intel、高通、三星、Marvell、英伟达、华为等

<img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1568299815042&di=0df368955ea65f24a785f5a5aabdc3c9&imgtype=0&src=http%3A%2F%2Fimg.leikeji.com%2Fresource%2Fimg%2F1445a5fe0e964780b592b730e2500e5a.jpg" />

---

**存储芯片（储存信息）**

<img src="http://www.elecfans.com/uploads/allimg/180103/2755814-1P1031J625513.png" />

智能手机的存储器有多种：Flash存储器、RAM随机存储器、ROM只读存储器等，其中，手机存储器主要用来存储手机的主程序、字库、用户程序、用户数据等

- RAM随机存储器主要用于存储智能手机运行时的程序和数据，需要执行的程序或者需要处理的数据都必须先装入RAM内。
- ROM只读存储器是指只能从该设备中读取数据而不能往里面写数据的存储器。ROM中的数据是由手机制造商事先编好固化在里面的一些程序，使用者不能随意更改。ROM主要用于检查手机系统的配置情况，并提供最基本的输入输出（I/O）程序。
- Flash存储器是一种长寿命的非易失性（在断电情况下仍能保持所存储的数据信息）存储器，数据删除不是以单个的字节为单位，而是以固定的区块为单位。由于Flash存储器断电时仍能保存数据，它通常被用来保存设置信息，如用户对手机的设置信息等


---

**射频芯片（负责调制和解调信号）**

<img src="http://www.elecfans.com/uploads/allimg/180103/2755814-1P1031J530R4.png" />

在手机终端中，射频芯片负责射频收发、频率合成、功率放大；而基带芯片负责信号处理和协议处理。简单地说，射频芯片起到一个发射机和接收机的作用。有的射频芯片还为处理器芯片提供26MHz的系统时钟信号。

---

**放大器芯片（放大信号的射频功率）**

<img src="http://www.elecfans.com/uploads/allimg/180103/2755814-1P1031J544237.png" />

智能手机中的射频功率放大器芯片的作用主要是对射频信号进行放大，使得有足够的功率发射给基站。射频功率放大器是智能手机中耗电量较大的元件之一，它内部主要集成了滤波器、放大器、匹配电路、功率检测、偏压控制等电路

---

**电源管理芯片（管理手机供电）**

<img src="http://www.elecfans.com/uploads/allimg/180103/2755814-1P1031J610459.png" />

电源管理芯片（PowerManagemenTIntegratedCircuits）是在智能手机系统中承担对电能的变换、分配、检测及其他电能管理职责的芯片。同时，还可以对电池充电进行管理和控制

---

**音频处理器芯片（管理声音）**

智能手机的音频处理器主要处理手机的声音信号，它主要负责接收和发射音频信号，是实现手机听见对方声音的关键元件。音频处理器对基带信号进行解码、D/A转换等处理后输出音频信号

---

## 📚参考列表（致敬）

- [史上最全最详细手机发展史（绝对经典，收藏）](https://www.sohu.com/a/213599424_202311)
- [移动开发的跨平台技术发展史 | 技术头条（CSDN）](https://blog.csdn.net/csdnnews/article/details/89629327)
- [智能手机的硬件组成部分及结构图](http://www.elecfans.com/xinkeji/610458.html)

