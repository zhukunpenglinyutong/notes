# 3.JSæ–¹æ³•é€ŸæŸ¥

> æ­¤æ–‡ç« æ˜¯æˆ‘ç”¨è¿‡æœ€å¤šçš„æ–‡ç« ï¼Œéœ€è¦è¿›è¡Œé‡æ„ï¼ˆé‡æ„æœªå®Œæˆ...ï¼‰

## ğŸ¥ç¬¬ä¸€éƒ¨åˆ†ï¼šæ•°ç»„

### 1.æ•°ç»„å»é‡

```js
let arrs = [1,2,2,3,3,6,5,5];

// ES6
[...new Set(arr)] // [1,2,3,6,5]
// æ­¤æ–¹æ³•ä¹Ÿèƒ½å»é™¤å­—ç¬¦ä¸²ä¸­é‡å¤çš„é¡¹ï¼š[...new Set('ababbc')].join('') // abc

// å…¶ä»–å»é‡æ–¹æ³•
function uniq(array){
    let temp = [];
    let l = array.length;
    for(let i = 0; i < l; i++) {
        for(let j = i + 1; j < l; j++){
            if (array[i] === array[j]){
                i++;
                j = i;
            }
        }
        temp.push(array[i]);
    }
    return temp;
}
console.log(uniq(arrs)); // [1,2,3,6,5]
```

**æ•°ç»„å»é‡æ‹“å±•ï¼ˆä¼ å‚æ•° æŒ‡å®šå»é™¤å“ªä¸ªé‡å¤çš„ï¼Œæœªå®Œæˆï¼‰**

---

### 2.æ•°ç»„åˆå¹¶

```js
let arr1 = [1,2,3]
let arr2 = [4,5,6]

// ES6
[...arr1, ...arr2] //Â [1, 2, 3, 4, 5, 6]


// æ–¹æ³•2ï¼šconcatæ–¹æ³•ï¼ˆæŒ‚è½½ArrayåŸå‹é“¾ä¸Šï¼‰
let c = a.concat(b);
console.log(c); // [1, 2, 3, 4, 5, 6]
console.log(a); // [1, 2, 3]  ä¸æ”¹å˜æœ¬èº«
// å¤‡æ³¨ï¼šçœ‹ä¼¼concatä¼¼ä¹æ˜¯ æ•°ç»„å¯¹è±¡çš„æ·±æ‹·è´ï¼Œå…¶å®ï¼Œconcat åªæ˜¯å¯¹æ•°ç»„çš„ç¬¬ä¸€å±‚è¿›è¡Œæ·±æ‹·è´

// æ–¹æ³•3ï¼šapplyæ–¹æ³•
Array.prototype.push.apply(a, b);
console.log(a); // [1, 2, 3, 4, 5, 6] æ”¹å˜åŸç›®æ ‡æ•°ç»„
console.log(b); // [4, 5, 6]
```

---

### 3.æ•°ç»„æ’åºï¼ˆsortï¼‰
    
```js
let objArr = [
  {name: 'test1', age: 20},
  {name: 'test1', age: 22},
  {name: 'test1', age: 21}
]

// ç¬¬ä¸€å‚æ•°aï¼Œ ç¬¬äºŒå‚æ•°b ---> a-bå‡åºï¼ˆä»å°åˆ°å¤§ï¼‰;b-aé™åºï¼ˆä»å¤§åˆ°å°ï¼‰ï¼ŒåŸç†å°±æ˜¯ ä¸¤æ•°è®¡ç®—ï¼Œå¦‚æœè¿”å›çš„æ˜¯è´Ÿæ•°ï¼Œå°±ä¿ç•™å‰è€…ï¼ˆæˆ‘å¯èƒ½è¯´çš„ä¸å¯¹ï¼Œæ¬¢è¿çº æ­£ï¼‰
objArr.sort((a, b) => {
  return a.age - b.age
}) 
// ç»“æœä¼šæŒ‰ç…§å¹´é¾„ä»å°åˆ°å¤§çš„é¡ºåºæ’åˆ—


```

---

### 4.å¤šç»´æ•°ç»„è½¬ä¸€ç»´æ•°ç»„ï¼ˆflatï¼‰

```js
let arr = [1, [2], [[3], 4], 5];

// ES6 æ•°ç»„çš„flat()
arr.flat() // [1, 2, Array(1), 4, 5] å¦‚æœè¿™æ ·å†™çš„è¯åªèƒ½å±•å¼€äºŒç»´æ•°ç»„ï¼Œä½†æ˜¯å¯ä»¥åŠ å‚æ•°Infinityï¼Œå°±æ˜¯èƒ½å±•å¼€å¤šç»´æ•°ç»„
arr.flat(Infinity) // [1, 2, 3, 4, 5] æ³¨æ„å¦‚æœåŸæ•°ç»„æœ‰ç©ºä½ï¼Œflat()æ–¹æ³•ä¼šè·³è¿‡ç©ºä½

// å…¶ä»–æ–¹æ³•
const deepFlatten = arr => [].concat(...arr.map(v => (Array.isArray(v) ? deepFlatten(v) : v)));
deepFlatten(arr); // [1,2,3,4,5]


// æ‰§è¡Œæ•ˆç‡éªŒè¯ï¼ˆæ‹“å±•ï¼‰
// let start = new Date().getTime();
// console.log('reduceDimension: ', deepFlatten([1, [2], [[3], 4], 5]);
// console.log('è€—æ—¶: ', new Date().getTime() - start); // *ms

// ES6 æ•°ç»„çš„flatMap() æ–¹æ³•å¤§å®¶å¯ä»¥è‡ªè¡ŒæŸ¥é˜…ä¸€ä¸‹ï¼Œæ‹“å±•ä¸‹è‡ªå·±çš„çŸ¥è¯†é¢
```

---

### 5.è¿‡æ»¤æ•°ç»„ï¼ˆfilterï¼‰

```js
let json = [
  { id: 1, name: 'john', age: 24 },
  { id: 2, name: 'zkp', age: 21 },
  { id: 3, name: 'mike', age: 50 }
];

// ES6
json.filter( item => item.age > 22) // [{id: 1, name: 'john', age: 24}, { id: 3, name: 'mike', age: 50 }]

// ES5

```

---

### 6.åˆ¤æ–­æ•°ç»„ä¸­çš„é¡¹æ˜¯å¦æ»¡è¶³äºæŸä¸ªæ¡ä»¶ï¼ˆsomeï¼Œeveryï¼‰

```javascript
let arr = [4, 2, 3]

// ES6 someæ–¹æ³•ï¼ˆæœ‰ç¬¦åˆï¼‰
arr.some( item => item > 1) // true
arr.some( item => item > 3) // true

// ES5 everyï¼ˆå…¨ç¬¦åˆï¼‰

arr.every(item => item > 1) // true
arr.every(item => item > 3) // false

// æ³¨æ„ï¼šä¸Šé¢ä¸¤ä¸ªæœ‰ä¸åŒå“¦ï¼Œä¸€ä¸ªæ˜¯æœ‰ç¬¦åˆçš„åˆ¤å®šï¼Œä¸€ä¸ªæ˜¯å…¨ç¬¦åˆçš„åˆ¤å®š
```

---

### 7.æ“ä½œæ•°ç»„ä¸­çš„æ¯ä¸€é¡¹ï¼Œå¹¶ä½¿å…¶æŒ‰ç…§ä¸€å®šçš„é€»è¾‘è¿”å›ï¼ˆmapï¼‰

```js
var potatos = [
  { id: '1001', weight: 50 },
  { id: '1002', weight: 80 },
  { id: '1003', weight: 120 },
  { id: '1004', weight: 40 }
]

// ES6å†™æ³•
const fn = (arr, key) => arr.map(arr =>  arr[key])

fn(potatos, 'id') // ["1001", "1002", "1003", "1004"]
fn(potatos, 'weight') // [50, 80, 120, 40]
```


---

### 8.å…¶ä»–å¸¸ç”¨çš„ES6 Arrayæ–¹æ³•

```js
// forEach() éå†æ•°ç»„

// pop() åˆ é™¤æ•°ç»„ä¸­æœ€åä¸€ä¸ªå…ƒç´ ï¼Œå¹¶è¿”å›è¯¥å…ƒç´ çš„å€¼ã€‚æ­¤æ–¹æ³•æ›´æ”¹æ•°ç»„çš„é•¿åº¦

// shift() åˆ é™¤æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶è¿”å›è¯¥å…ƒç´ çš„å€¼ã€‚æ­¤æ–¹æ³•æ›´æ”¹æ•°ç»„çš„é•¿åº¦

// push() å°†ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ æ·»åŠ åˆ°æ•°ç»„çš„æœ«å°¾ï¼Œå¹¶è¿”å›è¯¥æ•°ç»„çš„æ–°é•¿åº¦

// unshift() å°†ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ æ·»åŠ åˆ°æ•°ç»„çš„å¼€å¤´ï¼Œå¹¶è¿”å›è¯¥æ•°ç»„çš„æ–°é•¿åº¦(è¯¥æ–¹æ³•ä¿®æ”¹åŸæœ‰æ•°ç»„)

// ğŸ”¥Array.prototype.filter() åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„, å…¶åŒ…å«é€šè¿‡æ‰€æä¾›å‡½æ•°å®ç°çš„æµ‹è¯•çš„æ‰€æœ‰å…ƒç´ ï¼Œä¸ä¼šæ”¹å˜åŸæœ‰å€¼ï¼Œå¦‚æœæ²¡ç¬¦åˆçš„è¿”å›[]
let arr = [1, 2, 3]
arr.filter( x => x > 1) // [2, 3]

// Array.prototype.join() å°†ä¸€ä¸ªæ•°ç»„ï¼ˆæˆ–ä¸€ä¸ªç±»æ•°ç»„å¯¹è±¡ï¼‰çš„æ‰€æœ‰å…ƒç´ è¿æ¥æˆä¸€ä¸ªå­—ç¬¦ä¸²å¹¶è¿”å›è¿™ä¸ªå­—ç¬¦ä¸²
['Fire', 'Air', 'Water'].join() // "Fire,Air,Water"

// Array.prototype.slice() å–å‡ºä»»æ„å…ƒç´ , | å‚æ•°ä¸€ï¼šä»å“ªå¼€å§‹ï¼Œå‚æ•°äºŒï¼ˆå¯é€‰ï¼‰ç»“æŸä½ç½®ï¼Œä¸é€‰çš„è¯ å°±èŠ‚é€‰åˆ°æœ€åäº†
[1, 2, 3].slice(0, 1) // [1]

// Array.prototype.splice() åˆ é™¤ä»»æ„å…ƒç´ ï¼Œæ“ä½œä»»æ„å…ƒç´  | å‚æ•°ä¸€ï¼šä»å“ªå¼€å§‹ | å‚æ•°äºŒï¼šæ“ä½œå…ƒç´ çš„ä¸ªæ•° | å‚æ•°ä¸‰ï¼šæ’å…¥å…ƒç´ çš„å€¼...ï¼ˆå¯ä»¥å†™å¤šä¸ªå‚æ•°ä¸‰ï¼‰
[1, 2, 3].splice(0, 1) // åˆ é™¤ [2, 3]

// Array.prototype.includes() ç”¨æ¥åˆ¤æ–­ä¸€ä¸ªæ•°ç»„æ˜¯å¦åŒ…å«ä¸€ä¸ªæŒ‡å®šçš„å€¼ï¼Œæ ¹æ®æƒ…å†µï¼Œå¦‚æœåŒ…å«åˆ™è¿”å› trueï¼Œå¦åˆ™è¿”å›falseã€‚
[1, 2, 3].includes(1) // true

// Array.prototype.reverse() é¢ å€’æ•°ç»„
[1, 2, 3].reverse() // [3, 2, 1]

```

[ç‚¹å‡»æ­¤å¤„ï¼ŒæŸ¥çœ‹æ›´è¯¦ç»†é“¾æ¥](https://zhukunpenglinyutong.github.io/2.note/3.JavaScript/4.ES6%E4%BB%A5%E5%8F%8AJS%E5%86%85%E7%BD%AE%E6%96%B9%E6%B3%95%E6%A2%B3%E7%90%86.html#%F0%9F%8C%B2%E6%95%B0%E7%BB%84%E6%96%B9%E6%B3%95%E6%A2%B3%E7%90%86)

---

### 9.è·å¾—æ•°ç»„æœ€å¤§æœ€å°å€¼

```js

// ä½¿ç”¨ Math ä¸­çš„ max/min æ–¹æ³•
let arr = [22,13,6,55,30];

// ES6
Math.max(...arr); // 55
Math.min(...arr); // 6

// ES5
Math.max.apply(null, arr); // 55
Math.min.apply(null, arr); // 6

```

---

### 10.è·å–æ•°ç»„äº¤é›†

```js
// ES6 å†™æ³•
const similarity = (arr1, arr2) => arr1.filter(v => arr2.includes(v));
similarity([1, 2, 3], [1, 2, 4]); // [1,2]

// ES5 å†™æ³•
// function similarity(arr1, arr2) {
//   return arr2.filter(function(v) {
//     return arr1.includes(v)
//   })
// }
```

---

### 11.æ•°ç»„å¯¹è±¡å»é‡
    
```js
let arr = [
  {id: 1, name: 'Jhon1'},
  {id: 2, name: 'sss'},
  {id: 3, name: 'Jhon2'},
  {id: 4, name: 'Jhon3'}
]

// ES6
const uniqueElementsBy = (arr, fn) =>arr.reduce((acc, v) => {if (!acc.some(x => fn(v, x))) acc.push(v);return acc;}, []);

// ä¸‹é¢çš„ç¤ºä¾‹è¡¨ç¤ºï¼Œå»é‡ä¾æ®æ˜¯ id ï¼Œå°±æ˜¯ idä¸€æ ·çš„ï¼Œåªç•™ä¸‹ä¸€ä¸ª
uniqueElementsBy(arr, (a, b) => a.id === b.id) // [{id: 1, name: 'Jhon1'}, {id: 2, name: 'sss'}]

```

---

### 12.æ•°ç»„ä¹±åº
    
```js
function shuffle(arr) {
  let array = arr
  let index = array.length

  while (index) {
    index -= 1
    let randomInedx = Math.floor(Math.random() * index)
    let middleware = array[index]
    array[index] = array[randomInedx]
    array[randomInedx] = middleware
  }

  return array
}

let arr = [1,2,3,4,5]
shuffle(arr) // [3, 4, 2, 5, 1] ç»“æœä¸å®š
```

**è¿˜æœ‰æ›´ç®€å•çš„æ–¹å¼ï¼Œæ¬¢è¿æ¥æ’©**

---

### 13.æ£€æŸ¥æ•°ç»„ä¸­æŸå…ƒç´ å‡ºç°çš„æ¬¡æ•°
    
```js
function countOccurrences(arr, value) {
  return arr.reduce((a, v) => v === value ? a + 1 : a + 0, 0);
}

let arr = [1,2,3,4,1,2,4]
countOccurrences(arr, 1) // 2
```

---

### 14.æ£€æŸ¥æ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ æ˜¯å¦ç›¸ç­‰
    
```javascript
const allEqual = arr => arr.every(val => val === arr[0]);

// ç¤ºä¾‹
allEqual([1, 2, 3, 4, 5, 6]); // false
allEqual([1, 1, 1, 1]); // true
```

---

### 15.æ•°ç»„å¯¹è±¡ï¼Œæ±‚æŸä¸€åˆ—å±æ€§çš„æ€»å’Œ

```js
var potatos = [
  { id: '1001', weight: 50 },
  { id: '1002', weight: 80 },
  { id: '1003', weight: 120 },
  { id: '1004', weight: 40 }
]

// ES6å†™æ³•
const fn = (arr, key) => arr.reduce((sum, p) => { return p[key] + sum },0)

fn(potatos, 'weight') // 290
fn(potatos, 'id') // "10041003100210010" å­—ç¬¦ä¸²ç›¸åŠ å°±æ˜¯è¿™ä¸ªç»“æœï¼Œå¦‚æœæœ‰å„è‡ªçš„éœ€æ±‚ï¼Œå¯ä»¥è‡ªå·±åŠ ä¸Š
```

---

### 16.åˆ†å‰²æ•°ç»„ï¼Œå¹¶æ“ä½œæ•°ç»„æ¯ä¸€é¡¹ï¼ˆå‡½æ•°ï¼‰

```js
/**
 * æ•°ç»„åˆ†éš”æ–¹æ³•ï¼Œå¹¶ä¸”å¯ä»¥ä¼ å…¥ä¸€ä¸ªå¤„ç†å‡½æ•°ï¼Œç”¨æ¥åˆ†éš”ä¹‹å‰å¤„ç†æ•°ç»„çš„æ¯ä¸€é¡¹
 * 
 * @category Array
 * @param {Array} array éœ€è¦å¤„ç†çš„æ•°ç»„
 * @param {number} [size = 1] æ¯ä¸ªæ•°ç»„åŒºå—çš„é•¿åº¦
 * @param {Function} [fn = item => item] å‡½æ•°
 * @returns {Array} è¿”å›ä¸€ä¸ªåŒ…å«æ‹†åˆ†åŒºå—çš„æ–°æ•°ç»„ï¼ˆç›¸å½“äºä¸€ä¸ªäºŒç»´æ•°ç»„ï¼‰ã€‚
 * @example
 *
 * chunk(['a', 'b', 'c', 'd'], 2)
 * // => [['a', 'b'], ['c', 'd']]
 *
 * chunk(['a', 'b', 'c', 'd'], 3)
 * // => [['a', 'b', 'c'], ['d']]
 *
 * chunk([1, 2, 3, 4], 3, item => item * 2)
 * // => [[2, 4, 6], [8]]
 */

function chunk(array, size = 1, fn = item => item) {
    
    array = array.map(fn)

    size = Math.max(size, 0) // è¿™ä¸€å¥å°±å¾ˆå¦™ï¼Œå½“ä¼ å…¥å€¼å°äº0çš„æ—¶å€™ï¼Œç½®ä¸º0ï¼Œå¤§äº0çš„æ—¶å€™ï¼Œä¸å†™ï¼Œä½†ä¸çŸ¥é“æ€§èƒ½æ€ä¹ˆæ ·
    const length = array == null ? 0 : array.length
    if (!length || size < 1) {
      return []
    }
    let index = 0
    let resIndex = 0
    const result = new Array(Math.ceil(length / size))
  
    while (index < length) {
      result[resIndex++] = array.slice(index, (index += size))
    }
    return result
}
```

---

### 17.æ•°ç»„åˆ†é¡µç®—æ³•

```js
data.slice([æ¯é¡µæ•°æ®é‡ *ï¼ˆå½“å‰é¡µç  - 1ï¼‰, æ¯é¡µæ•°æ®é‡ *ï¼ˆå½“å‰é¡µç  - 1ï¼‰ + æ¯é¡µæ•°æ®é‡])
```

---



---

## ğŸ¡ç¬¬äºŒéƒ¨åˆ†ï¼šå¯¹è±¡

### 1.å¯¹è±¡åˆå¹¶


```js

// 1ï¸âƒ£ ES6æ–¹æ³•

let obj1 = {
    a:1,
    b:{ 
        b1:2 
    }
}

let obj2 = { c:3, d:4 }

console.log({...obj1, ...obj2}) // {a: 1, b: {â€¦}, c: 3, d: 4}
// æ”¯æŒæ— é™åˆ¶åˆå¹¶ï¼Œä½†å¦‚æœå¯¹è±¡ä¹‹é—´å­˜åœ¨ç›¸åŒå±æ€§ï¼Œåˆ™åé¢å±æ€§ä¼šè¦†ç›–å‰é¢å±æ€§ã€‚*è¯·æ³¨æ„ï¼Œè¿™ä»…é€‚ç”¨äºæµ…å±‚åˆå¹¶ã€‚


// 2ï¸âƒ£ Obj.assign()ï¼šå¯ä»¥æŠŠä»»æ„å¤šä¸ªçš„æºå¯¹è±¡è‡ªèº«çš„å¯æšä¸¾å±æ€§æ‹·è´ç»™ç›®æ ‡å¯¹è±¡ï¼Œç„¶åè¿”å›ç›®æ ‡å¯¹è±¡
let o1 = { a: 1 };
let o2 = { b: 2 };

let obj = Object.assign(o1, o2);
console.log(obj); // { a: 1, b: 2 }
console.log(o1);  // { a: 1, b: 2 }, ä¸” **ç›®æ ‡å¯¹è±¡** è‡ªèº«ä¹Ÿä¼šæ”¹å˜ï¼ˆä¹Ÿå°±æ˜¯assignç¬¬ä¸€ä¸ªå¯¹è±¡ï¼‰
console.log(o2); // { b: 2 } ä¸æ”¹å˜

// å¤‡æ³¨ï¼šObject.assign() æ‹·è´çš„æ˜¯å±æ€§å€¼ã€‚å‡å¦‚æºå¯¹è±¡çš„å±æ€§å€¼æ˜¯ä¸€ä¸ªæŒ‡å‘å¯¹è±¡çš„å¼•ç”¨ï¼Œå®ƒä¹Ÿåªæ‹·è´é‚£ä¸ªå¼•ç”¨å€¼
// å¤‡æ³¨ï¼šæ•°ç»„åˆå¹¶ç”¨ concat() æ–¹æ³•


// 3ï¸âƒ£ $.extend()

```

---

### 2.æµ…æ‹·è´ï¼Œæ·±æ‹·è´

**æ·±æ‹·è´ï¼ˆåŸºç¡€ç‰ˆï¼‰**

```javascript

/**
 * æ­¤å‡½æ•°ï¼Œå¯ä»¥å®Œå…¨ç”Ÿæˆä¸€ä¸ªæ–°çš„æ‹·è´å¯¹è±¡ï¼Œä¹Ÿå¯ä»¥å°†ä¸€ä¸ªå¯¹è±¡ä¸­çš„å±æ€§æ‹·è´åˆ°å¦ä¸€ä¸ªå¯¹è±¡ä¸­å»
 * @parmas {Object} éœ€è¦è¢«æ‹·è´çš„å¯¹è±¡
 * @parmas {Object} å¯é€‰ï¼Œç›®æ ‡å¯¹è±¡ï¼Œå¦‚æœä¸å¡«ç›´æ¥è¿”å›ä¸€ä¸ªå¯¹è±¡
 */

function deepClone(origin, target = {}) {

    // å¾ªç¯éå†å¯¹è±¡çš„å±æ€§
    for (key in origin) {
        
        let isType = Object.prototype.toString.call(origin[key])

        // å…‹éš†å¯¹è±¡ç±»å‹
        if (isType === '[object Object]') {
            target[key] = {}
            deepClone(origin[key], target[key])
            continue
        }

        // å…‹éš†æ•°ç»„ç±»å‹
         if (isType === '[object Array]') {
            target[key] = []
            deepClone(origin[key], target[key])
            continue
        }

        // å…‹éš† Set ç±»å‹
      
        // å…‹éš† Map ç±»å‹

        // å…‹éš†å…¶ä»–ç±»å‹

        // å…‹éš†åŸºç¡€ç±»å‹
        target[key] = origin[key]
    
    }

    return target
}

let zhu = {
  name: 'æœ±æ˜†é¹',
  technology: ['css', 'html', 'js'],
  girlfriend: {
    name: 'lyt'
  }
}

let zhuClone = deepClone(zhu) // zhuClone å†…å®¹å®Œå…¨å’Œ zhu ä¸€æ ·

let zhuTest = { test: 'æµ‹è¯•' }
let zhuTestClone = deepClone(zhuTest, zhu) // zhuTestClone ä¸ä»…æœ‰ zhuæ‰€æœ‰å†…å®¹ï¼Œè¿˜æœ‰ zhuTest çš„å†…å®¹



// JSON.parse(JSON.stringify(obj) æ–¹æ³•è¿›è¡Œæ‹·è´ï¼Œäº†è§£å°±è¡Œ
const obj = {
  name:'axuebin',
  sayHello:function(){
    console.log('Hello World');
  }
}
console.log(JSON.parse(JSON.stringify(obj)); // {name: "axuebin"} ???
// undefinedã€functionã€symbol ä¼šåœ¨è½¬æ¢è¿‡ç¨‹ä¸­è¢«å¿½ç•¥ï¼Œæ‰€ä»¥å°±ä¸èƒ½ç”¨è¿™ä¸ªæ–¹æ³•è¿›è¡Œæ·±æ‹·è´


// æµ…æ‹·è´
function clone(origin, target = {}) {
    let target = {};
    for (const key in origin) {
        target[key] = origin[key];
    }
    return target;
};

```

---

### 3.æ‹“å±•ï¼šé¦–å±‚æµ…æ‹·è´

```javascript

function shallowClone(source) {
  const targetObj = source.constructor === Array ? [] : {}; // åˆ¤æ–­å¤åˆ¶çš„ç›®æ ‡æ˜¯æ•°ç»„è¿˜æ˜¯å¯¹è±¡
  for (let keys in source) { // éå†ç›®æ ‡
    if (source.hasOwnProperty(keys)) {
      targetObj[keys] = source[keys];
    }
  }
  return targetObj;
}

const originObj = {
  a:'a',
  b:'b',
  c:[1, 2, 3],
  d:{ dd: 'dd' }
};

const cloneObj = shallowClone(originObj);
console.log(cloneObj === originObj); // false
cloneObj.a = 'aa';
cloneObj.c = [1, 1, 1];
cloneObj.d.dd = 'surprise';

console.log(cloneObj); // {a:'aa',b:'b',c:[1,1,1],d:{dd:'surprise'}}
console.log(originObj); // {a:'a',b:'b',c:[1,2,3],d:{dd:'surprise'}}

```

---

### 4.åˆ¤æ–­å¯¹è±¡æ˜¯å¦ä¸ºç©ºå¯¹è±¡

```javascript

// å‚è€ƒï¼šhttps://www.cnblogs.com/HKCC/p/6083575.html

if (JSON.stringify(å¯¹è±¡) === '{}') {
  console.log('ç©º');
}

```

---

### 5.åˆ¤æ–­å¯¹è±¡ä¸­å±æ€§çš„ä¸ªæ•°

```js
let obj = {name: 'æœ±æ˜†é¹', age: 21}

// ES6
Object.keys(obj).length // 2

// ES5
let attributeCount = obj => {
    let count = 0;
    for(let i in obj) {
        if(obj.hasOwnProperty(i)) {  // å»ºè®®åŠ ä¸Šåˆ¤æ–­,å¦‚æœæ²¡æœ‰æ‰©å±•å¯¹è±¡å±æ€§å¯ä»¥ä¸åŠ 
            count++;
        }
    }
    return count;
}

attributeCount(obj) // 2
```

---

### 6.JS å¯¹è±¡è½¬ url æŸ¥è¯¢å­—ç¬¦ä¸²

```js
const objectToQueryString = (obj) => Object.keys(obj).map((key) => `${encodeURIComponent(key)}=${encodeURIComponent(obj[key])}`).join('&');
objectToQueryString({name: 'Jhon', age: 18, address: 'beijing'})
// name=Jhon&age=18&address=beijing
```

---

### 7.å¯¹è±¡éå†

```js
let objs = {
    1: {
        name: 'æœ±æ˜†é¹'
    },
    2: {
        name: 'æ—é›¨æ¡'
    }
}

Object.keys(objs).forEach( ket => {
  console.log(key,objs[key])
})

// 1 {name: 'æœ±æ˜†é¹'} 2 {nama:'æ—é›¨æ¡'}

```

---

### 8.å­—ç¬¦ä¸²ä¸å¯¹è±¡ç›¸äº’è½¬æ¢

[é“¾æ¥](https://mmww1024.iteye.com/blog/2427471)

---

## ğŸ§ç¬¬ä¸‰éƒ¨åˆ†ï¼šDOM

---

### 1.å¸¸ç”¨DOMæ¥å£

```js

// è·å–DOMèŠ‚ç‚¹
document.getElementById() // é€šè¿‡IDè·å–
document.getElementsByTagName() // æ ‡ç­¾å
document.getElementsByClassName() // ç±»å
document.querySelector() // é€šè¿‡é€‰æ‹©å™¨è·å–ä¸€ä¸ªå…ƒç´ 
document.querySelectorAll() // é€šè¿‡é€‰æ‹©å™¨è·å–ä¸€ç»„å…ƒç´ 
document.body // è·å–bodyçš„æ–¹æ³•
document.getElementsByName(name) // é€šè¿‡nameå±æ€§æŸ¥æ‰¾å…ƒç´ èŠ‚ç‚¹
document.documentElement // è·å–htmlçš„æ–¹æ³•

// èŠ‚ç‚¹ç±»å‹
å…ƒç´ èŠ‚ç‚¹ï¼ˆæ ‡ç­¾ï¼‰ // å±æ€§nodeTypeè¿”å›å€¼1
å±æ€§èŠ‚ç‚¹ï¼ˆæ ‡ç­¾é‡Œçš„å±æ€§ï¼‰// è¿”å›å€¼2
æ–‡æœ¬èŠ‚ç‚¹ // è¿”å›å€¼3
æ³¨é‡ŠèŠ‚ç‚¹ï¼ˆcommentï¼‰ // è¿”å›å€¼8
document // è¿”å›å€¼9
DocumentFragment // è¿”å›å€¼11

// èŠ‚ç‚¹æ¥å£
domå…ƒç´ .parentNode // è¿”å›å½“å‰å…ƒç´ çš„çˆ¶èŠ‚ç‚¹
domå…ƒç´ .childNodes // å­èŠ‚ç‚¹ä»¬
domå…ƒç´ .firstChild // ç¬¬ä¸€ä¸ªå­èŠ‚ç‚¹
domå…ƒç´ .lastChild // æœ€åä¸€ä¸ªå­èŠ‚ç‚¹
domå…ƒç´ .nextSibling // åä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹ previousSibling -> å‰ä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹

// å…ƒç´ èŠ‚ç‚¹æ¥å£
domå…ƒç´ .parentElement // è¿”å›å½“å‰å…ƒç´ çš„çˆ¶å…ƒç´ èŠ‚ç‚¹
domå…ƒç´ .children // è¿”å›å½“å‰å…ƒç´ çš„å…ƒç´ å­èŠ‚ç‚¹
domå…ƒç´ .firstElementChild // ç¬¬ä¸€ä¸ªå…ƒç´ å­èŠ‚ç‚¹ï¼ˆIEä¸å…¼å®¹ï¼‰
domå…ƒç´ .lastElementChild // æœ€åä¸€ä¸ªå…ƒç´ å­èŠ‚ç‚¹ï¼ˆIEä¸å…¼å®¹ï¼‰
domå…ƒç´ .nextElementSibling // è¿”å›åä¸€ä¸ªå…„å¼Ÿå…ƒç´ èŠ‚ç‚¹
domå…ƒç´ .previousElementSibling // è¿”å›å‰ä¸€ä¸ªå…„å¼Ÿå…ƒç´ èŠ‚ç‚¹

// èŠ‚ç‚¹çš„å››ä¸ªå±æ€§å’Œä¸€ä¸ªæ–¹æ³•
èŠ‚ç‚¹.nodeName // å…ƒç´ çš„æ ‡ç­¾åï¼Œä»¥å¤§å†™å½¢å¼è¡¨ç¤ºï¼ˆåªè¯»ï¼‰
èŠ‚ç‚¹.nodeValue // TextèŠ‚ç‚¹æˆ–è€…CommentèŠ‚ç‚¹çš„æ–‡æœ¬å†…å®¹ï¼Œï¼ˆè¯»å†™ï¼‰
èŠ‚ç‚¹.nodeType // è¯¥èŠ‚ç‚¹çš„ç±»å‹ï¼ˆåªè¯»ï¼‰
èŠ‚ç‚¹.attributes // ElementèŠ‚ç‚¹çš„å±æ€§é›†åˆ
èŠ‚ç‚¹.hasChildNodes() // åˆ¤æ–­èŠ‚ç‚¹ æ˜¯å¦æœ‰å­èŠ‚ç‚¹

// ElementèŠ‚ç‚¹çš„ å±æ€§å’Œæ–¹æ³•
domå…ƒç´ .innerHtml
domå…ƒç´ .innerText
domå…ƒç´ .attributes // è·å–å…ƒç´ èº«ä¸Šæ‰€æœ‰å±æ€§æ„æˆçš„é›†åˆ
domå…ƒç´ .setAttribute("å±æ€§å","å±æ€§å€¼")// ç»™å…ƒç´ è®¾ç½®å±æ€§å’Œå±æ€§å€¼
domå…ƒç´ .getAttribute("å±æ€§å")// è·å–å±æ€§å€¼çš„æ–¹æ³•
domå…ƒç´ .removerAttribute("å±æ€§") // åˆ é™¤å±æ€§


// ============== æ“ä½œæ¥å£ ==================

// å¢
document.createElement() // åˆ›å»ºå…ƒç´ èŠ‚ç‚¹
document.createTextNode() // åˆ›å»ºæ–‡æœ¬èŠ‚ç‚¹
document.creaetComment() //åˆ›å»ºæ³¨é‡ŠèŠ‚ç‚¹
document.createDocumentFragment() // åˆ›å»ºæ–‡æ¡£ç¢ç‰‡èŠ‚ç‚¹

// æ’
çˆ¶å…ƒç´ èŠ‚ç‚¹.appendChild(å­å…ƒç´ å¯¹è±¡) // åœ¨å…ƒç´ èŠ‚ç‚¹çš„å­å…ƒç´ æœ€åæ’å…¥å­å…ƒç´ 
çˆ¶å…ƒç´ èŠ‚ç‚¹.insertBefore(çˆ¶å…ƒç´ ä¸­çš„å­å…ƒç´ a, éœ€è¦æ’å…¥çš„å­å…ƒç´ b) // æœ€åçš„ç»“æœæ˜¯ï¼Œçˆ¶å…ƒç´ èŠ‚ç‚¹ä¸­ bå…ƒç´ æ’å…¥åˆ°äº† açš„å‰é¢


// åˆ 
å…ƒç´ èŠ‚ç‚¹.remove() // åˆ é™¤DOMå…ƒç´ ï¼ˆè‡ªå·±ï¼‰
çˆ¶å…ƒç´ èŠ‚ç‚¹.removeChild(å­å…ƒç´ èŠ‚ç‚¹) // åˆ é™¤å­å…ƒç´ 

// æ›¿æ¢
çˆ¶å…ƒç´ èŠ‚ç‚¹.replaceChild(æ–°çš„èŠ‚ç‚¹, éœ€è¦è¢«æ›¿æ¢çš„å­èŠ‚ç‚¹)

// å¤åˆ¶
å…ƒç´ èŠ‚ç‚¹.cloneChild() // è¿”å›å€¼æ˜¯ å¤åˆ¶å‡ºæ¥çš„èŠ‚ç‚¹

// æŸ¥çœ‹æ»šåŠ¨æ¡çš„æ»šåŠ¨è·ç¦»
window.pageXOffset // xè½´æ»šåŠ¨è·ç¦»
window.pageYOffset // yè½´æ»šåŠ¨è·ç¦»
document.body.scrollLeft // xè½´æ»šåŠ¨è·ç¦»ï¼ˆå…¼å®¹ä½ç‰ˆæœ¬IEï¼‰
document.body.scrollTop // yè½´æ»šåŠ¨è·ç¦»ï¼ˆå…¼å®¹ä½ç‰ˆæœ¬IEï¼‰
// å¦‚ä½•å…¼å®¹ï¼Œå› ä¸ºå¦‚æœæœ‰ pageXOffsetï¼Œé‚£ä¹ˆå¦ä¸€ä¸ªå…¼å®¹æ€§çš„ç»“æœå°±æ˜¯0ï¼Œæ‰€ä»¥ç›¸åŠ å°±èƒ½è§£å†³å…¼å®¹æ€§é—®é¢˜äº†

// è®©æ»šåŠ¨æ¡æ»šåŠ¨
window.scroll(x, y) // æ»šåŠ¨åˆ°æŸä¸ªä½ç½®
window.scrollTo(x, y) // æ»šåŠ¨åˆ°æŸä¸ªä½ç½®
window.scrollBy(x, y) // ç´¯åŠ æ»šåŠ¨ï¼Œå°±æ˜¯æ¯æ‰§è¡Œä¸€æ¬¡ï¼Œå°±æ»šåŠ¨å¤šå°‘ä½ç½®

// æŸ¥çœ‹è§†å£çš„å°ºå¯¸
window.innerWidth // è§†å£çš„å®½åº¦
window.innerHeight // è§†å£çš„é«˜åº¦
document.documentElement.clientWidth // å…¼å®¹ä½ç‰ˆæœ¬IE
document.documentElement.clientHeight // å…¼å®¹ä½ç‰ˆæœ¬IE
document.body.clientWidth // å…¼å®¹æ€ªå¼‚æ¨¡å¼
document.body.clientHeight //å…¼å®¹æ€ªå¼‚æ¨¡å¼
document.compatMode // æŸ¥çœ‹æ¸²æŸ“æ¨¡å¼ | 'CSS1Compat' æ ‡å‡†æ¨¡å¼ | 'BackCompat' æ€ªå¼‚æ¨¡å¼

// æŸ¥çœ‹å…ƒç´ çš„å‡ ä½•å°ºå¯¸
domå…ƒç´ .offsetWidth // å…ƒç´ çš„å®½åº¦
domå…ƒç´ .offsetHeight // å…ƒç´ çš„é«˜åº¦
domå…ƒç´ .offsetLeft // å…ƒç´ ç›¸å½“äºçˆ¶çº§çš„ä½ç½®ï¼ˆå¦‚æœçˆ¶çº§æœ‰å®šä½çš„è¯ï¼Œå¦‚æœæ²¡æœ‰å°±æ˜¯ç›¸å¯¹äºæ–‡æ¡£çš„è·ç¦»ï¼‰
domå…ƒç´ .offsetTop // å…ƒç´ ç›¸å¯¹äºçˆ¶çº§çš„ä½ç½®ï¼ˆå¦‚æœçˆ¶çº§æœ‰å®šä½çš„è¯ï¼Œå¦‚æœæ²¡æœ‰å°±æ˜¯ç›¸å¯¹äºæ–‡æ¡£çš„è·ç¦»ï¼‰
domå…ƒç´ .offsetParent // è¿”å›æœ€è¿‘æœ‰å®šä½çš„çˆ¶çº§DOMèŠ‚ç‚¹

// è„šæœ¬åŒ–css
domå…ƒç´ .style // æŸ¥çœ‹æ‰€æœ‰æ ·å¼è¡¨æ¥å£ï¼ˆå†…å®¹å¯è¯»å¯å†™ï¼‰
domå…ƒç´ .style. = ... // ç¢°åˆ°floatè¿™æ ·çš„ä¿ç•™å­—ï¼Œå‰é¢åŠ cssï¼Œä¾‹å¦‚ cssFloat
domå…ƒç´ .style.width = ...
domå…ƒç´ .style.backgroundColor = ...
domå…ƒç´ .className = ...

window.getComputedStyle(ele, null) // è¿”å›æŸä¸ªå…ƒç´ ï¼Œæœ€åå±•ç¤ºæ•ˆæœçš„ æ ·å¼è¡¨å¯¹è±¡ï¼ˆCSSStyleDeclarationï¼‰| åªè¯» | IE8ä»¥ä¸‹ä¸å…¼å®¹

```

---

### 2.åˆ¤æ–­å½“å‰ä½ç½®æ˜¯å¦ä¸ºé¡µé¢åº•éƒ¨

```js
function bottomVisible() {
  return document.documentElement.clientHeight + window.scrollY >= (document.documentElement.scrollHeight || document.documentElement.clientHeight)
}

bottomVisible() // è¿”å›å€¼ä¸ºtrue/false
```

---

### 3.å…¨å±

##### 1.è¿›å…¥å…¨å±

```js
function launchFullscreen(element) {
  if (element.requestFullscreen) {
    element.requestFullscreen()
  } else if (element.mozRequestFullScreen) {
    element.mozRequestFullScreen()
  } else if (element.msRequestFullscreen) {
    element.msRequestFullscreen()
  } else if (element.webkitRequestFullscreen) {
    element.webkitRequestFullScreen()
  }
}

launchFullscreen(document.documentElement) // æ•´ä¸ªé¡µé¢è¿›å…¥å…¨å±
launchFullscreen(document.getElementById("id")) //æŸä¸ªå…ƒç´ è¿›å…¥å…¨å±
```

##### é€€å‡ºå…¨å±

```js
function exitFullscreen() {
  if (document.exitFullscreen) {
    document.exitFullscreen()
  } else if (document.msExitFullscreen) {
    document.msExitFullscreen()
  } else if (document.mozCancelFullScreen) {
    document.mozCancelFullScreen()
  } else if (document.webkitExitFullscreen) {
    document.webkitExitFullscreen()
  }
}

exitFullscreen()
```

##### å…¨å±äº‹ä»¶

```js
document.addEventListener("fullscreenchange", function (e) {
  if (document.fullscreenElement) {
    console.log('è¿›å…¥å…¨å±')
  } else {
    console.log('é€€å‡ºå…¨å±')
  }
})
```

---

### 4.åˆ¤æ–­domå…ƒç´ æ˜¯å¦å…·æœ‰æŸä¸ªclassName

æ–¹æ³•ä¸€ï¼šä½¿ç”¨HTML5æ–°å¢classList æ¥æ“ä½œç±»å

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>
  <div id="test" class="te"></div>

  <script>
    
    let div = document.getElementById('test')
    console.log(div.classList.contains("te")) // true

  </script>
</body>
</html>
```
æ‹“å±•ï¼š
- classList.add(newClassName)ï¼›æ·»åŠ æ–°çš„ç±»åï¼Œå¦‚å·²ç»å­˜åœ¨ï¼Œå–æ¶ˆæ·»åŠ 
- classList.contains(oldClassName)ï¼šç¡®å®šå…ƒç´ ä¸­æ˜¯å¦åŒ…å«æŒ‡å®šçš„ç±»åï¼Œè¿”å›å€¼ä¸ºtrueï¼Œfalse
- classList.remove(oldClassName)ï¼šç§»é™¤å·²ç»å­˜åœ¨çš„ç±»å;
- classList.toggle(className)ï¼šå¦‚æœclassListä¸­å­˜åœ¨ç»™å®šçš„å€¼ï¼Œåˆ é™¤å®ƒï¼Œå¦åˆ™ï¼Œæ·»åŠ å®ƒï¼›

ğŸ¦€**æ„Ÿè°¢æ˜é‡‘ç”¨æˆ·tjNaneåˆ†äº«æ­¤æ–¹æ³•**

---

æ–¹æ³•äºŒï¼š

```js
const  hasClass = (el, className) => new RegExp(`(^|\\s)${className}(\\s|$)`).test(el.className);
```

---

### 5.è¿”å›æŸå…ƒç´ çš„ç¬¬nå±‚ç¥–å…ˆå…ƒç´ èŠ‚ç‚¹

```js
function retParent(ele, n) {
    
    while(elem && n) {
        ele = ele.parentElement
        n--
    }

    return ele
}
```

---

### 6.æ»šåŠ¨åˆ°åº•éƒ¨ç›‘å¬å‡½æ•°

```js
function bottomMonitorEvent(dom) {
    const prizeRecordRoll = dom;
    prizeRecordRoll.onscroll = () => {
        const scrollTop = prizeRecordRoll.scrollTop;
        const windowHeight = prizeRecordRoll.clientHeight;
        const scrollHeight = prizeRecordRoll.scrollHeight;

        if (Math.floor(scrollTop + windowHeight - scrollHeight) >= -1) {
            // åˆ°åº•äº‹ä»¶è§¦å‘ï¼Œä¹¦å†™ä¸šåŠ¡é€»è¾‘
        }

    };
},
```

---

## ğŸ£ç¬¬å››éƒ¨åˆ†ï¼šBOM

### 1.è¿”å›å½“å‰ç½‘é¡µåœ°å€

```js
function currentURL() {
  return window.location.href
}

currentURL() // "https://juejin.im/timeline"
```

---

### 2.è·å–æ»šåŠ¨æ¡ä½ç½®

```js
function getScrollPosition(el = window) {
  return {
    x: (el.pageXOffset !== undefined) ? el.pageXOffset : el.scrollLeft,
    y: (el.pageYOffset !== undefined) ? el.pageYOffset : el.scrollTop
  }
}

getScrollPosition() // {x: 0, y: 692}
```

---

### 3.è·å–urlä¸­çš„å‚æ•°

```js
function getURLParameters(url) {
  const params = url.match(/([^?=&]+)(=([^&]*))/g)
  return params?params.reduce(
    (a, v) => (a[v.slice(0, v.indexOf('='))] = v.slice(v.indexOf('=') + 1), a), {}
  ):[]
}

getURLParameters('http://www.baidu.com/index?name=tyler') // {name: "tyler"}
```

---

### 4.æ£€æµ‹è®¾å¤‡ç±»å‹

```js
const detectDeviceType = () =>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|OperaMini/i.test(navigator.userAgent) ? 'Mobile' : 'Desktop';

detectDeviceType() // "Desktop"
```

---

## ğŸ¬ç¬¬äº”éƒ¨åˆ†ï¼šæ—¶é—´

### 1.Date å¸¸ç”¨API

```js
new Date() // åˆ›å»ºä¸€ä¸ªæ—¶é—´å¯¹è±¡ Fri Jul 12 2019 19:59:59 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)

// è¿”å›è‡ª1970å¹´1æœˆ1æ—¥ 00:00:00 UTCåˆ°å½“å‰æ—¶é—´çš„æ¯«ç§’æ•°ã€‚
Date.now(); // 1562932828164

// è§£æä¸€ä¸ªè¡¨ç¤ºæŸä¸ªæ—¥æœŸçš„å­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›ä»1970-1-1 00:00:00 UTC åˆ°è¯¥æ—¥æœŸå¯¹è±¡ï¼ˆè¯¥æ—¥æœŸå¯¹è±¡çš„UTCæ—¶é—´ï¼‰çš„æ¯«ç§’æ•°
Date.parse('2019.7.12') // 1562860800000

// å¹´æœˆæ—¥æ—¶åˆ†ç§’ è·å–
let dateMe = new Date()

dateMe.getFullYear() // 2019 | æ ¹æ®æœ¬åœ°æ—¶é—´è¿”å›æŒ‡å®šæ—¥æœŸçš„å¹´ä»½
dateMe.getMonth() // 6 | æ ¹æ®æœ¬åœ°æ—¶é—´ï¼Œè¿”å›ä¸€ä¸ªæŒ‡å®šçš„æ—¥æœŸå¯¹è±¡çš„æœˆä»½ï¼Œä¸ºåŸºäº0çš„å€¼ï¼ˆ0è¡¨ç¤ºä¸€å¹´ä¸­çš„ç¬¬ä¸€æœˆï¼‰ã€‚
dateMe.getDate() // 12 | æ ¹æ®æœ¬åœ°æ—¶é—´ï¼Œè¿”å›ä¸€ä¸ªæŒ‡å®šçš„æ—¥æœŸå¯¹è±¡ä¸ºä¸€ä¸ªæœˆä¸­çš„å“ªä¸€æ—¥ï¼ˆä»1--31ï¼‰
dateMe.getHours() // 20 |æ ¹æ®æœ¬åœ°æ—¶é—´ï¼Œè¿”å›ä¸€ä¸ªæŒ‡å®šçš„æ—¥æœŸå¯¹è±¡çš„å°æ—¶ã€‚
dateMe.getMinutes() // 11 | æ ¹æ®æœ¬åœ°æ—¶é—´ï¼Œè¿”å›ä¸€ä¸ªæŒ‡å®šçš„æ—¥æœŸå¯¹è±¡çš„åˆ†é’Ÿæ•°ã€‚
dateMe.getSeconds() // 29 | æ–¹æ³•æ ¹æ®æœ¬åœ°æ—¶é—´ï¼Œè¿”å›ä¸€ä¸ªæŒ‡å®šçš„æ—¥æœŸå¯¹è±¡çš„ç§’æ•°
dateMe.getMilliseconds() // 363 | æ ¹æ®æœ¬åœ°æ—¶é—´ï¼Œè¿”å›ä¸€ä¸ªæŒ‡å®šçš„æ—¥æœŸå¯¹è±¡çš„æ¯«ç§’æ•°ã€‚

dateMe.toJSON() // ğŸ”¥ "2019-07-12T12:05:15.363Z" | è¿”å› Date å¯¹è±¡çš„å­—ç¬¦ä¸²å½¢å¼
dateMe.getDay() // 5 | æ ¹æ®æœ¬åœ°æ—¶é—´ï¼Œè¿”å›ä¸€ä¸ªå…·ä½“æ—¥æœŸä¸­ä¸€å‘¨çš„ç¬¬å‡ å¤©ï¼Œ0 è¡¨ç¤ºæ˜ŸæœŸå¤©ï¼ˆ0 - 6ï¼‰
dateMe.getTime() // 1562933115363 | æ–¹æ³•è¿”å›ä¸€ä¸ªæ—¶é—´çš„æ ¼æ—å¨æ²»æ—¶é—´æ•°å€¼ã€‚
dateMe.toString() // "Fri Jul 12 2019 20:05:15 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)" | è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºè¯¥Dateå¯¹è±¡
dateMe.getTimezoneOffset() // -480ï¼ˆè¯´æ˜æ¯”æ­£å¸¸æ—¶åŒºæ…¢480åˆ†é’Ÿï¼Œæ‰€ä»¥è¦åŠ 480åˆ†é’Ÿæ‰å¯¹ï¼‰ | è¿”å›åè°ƒä¸–ç•Œæ—¶ï¼ˆUTCï¼‰ç›¸å¯¹äºå½“å‰æ—¶åŒºçš„æ—¶é—´å·®å€¼ï¼Œå•ä½ä¸ºåˆ†é’Ÿã€‚
dateMe.toDateString() // "Fri Jul 12 2019" | ä»¥ç¾å¼è‹±è¯­å’Œäººç±»æ˜“è¯»çš„å½¢å¼è¿”å›ä¸€ä¸ªæ—¥æœŸå¯¹è±¡æ—¥æœŸéƒ¨åˆ†çš„å­—ç¬¦ä¸²ã€‚

// æ—¶é—´æˆ³è½¬å½“å‰åŒ—äº¬æ—¶é—´ï¼ˆéå¸¸çš„å¥½ç”¨ï¼‰
const startMe = new Date(Date.now());
const toLocale = startMe.toLocaleDateString().replace(/\//g, '-') // 2019-11-20
const toTime = startMe.toTimeString().split(' ')[0] // 00:16:26
const theTime =  `${toLocale} ${toTime}` // 2019-11-20 00:16:26

```

[MDN æ›´å¤šè¯¦ç»†](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Date)

---

### 2.ä¸€ä¸ªæ—¶é—´æˆ³æ ¼å¼çš„æ•°å­—ï¼Œæ˜¯å¤šå°‘ å¤©å°æ—¶åˆ†é’Ÿç§’æ¯«ç§’

```javascript
const formatDuration = ms => {
  if (ms < 0) ms = -ms;
  const time = {
    day: Math.floor(ms / 86400000),
    hour: Math.floor(ms / 3600000) % 24,
    minute: Math.floor(ms / 60000) % 60,
    second: Math.floor(ms / 1000) % 60,
    millisecond: Math.floor(ms) % 1000
  };
  return Object.entries(time)
    .filter(val => val[1] !== 0)
    .map(([key, val]) => `${val} ${key}${val !== 1 ? 's' : ''}`)
    .join(', ');
};

formatDuration(3161012); // 52 minutes, 41 seconds, 12 milliseconds
```

---

### 3.æ ¼æ—å°¼æ²»æ—¶é—´ è½¬ åŒ—äº¬æ—¶é—´ï¼ˆå¯ä¼ æ ¼æ—å°¼æ²»æ—¶é—´ æˆ–è€… æ—¶é—´æˆ³ï¼‰

```javascript
function myTimeToLocal(inputTime){
	if(!inputTime && typeof inputTime !== 'number'){
		return '';
	}
	let localTime = '';
	inputTime = new Date(inputTime).getTime();
	const offset = (new Date()).getTimezoneOffset();
	localTime = (new Date(inputTime - offset * 60000)).toISOString();
	localTime = localTime.substr(0, localTime.lastIndexOf('.'));
	localTime = localTime.replace('T', ' ');
	return localTime;
}

console.log(myTimeToLocal(1530540726443)); // 2018-07-02 22:12:06
console.log(myTimeToLocal('2017-11-16T05:23:20.000Z')); // 2017-11-16 13:23:20
```

---

### 4.è·å–ä¸¤ä¸ªæ—¥æœŸç›¸å·®å¤©æ•°

```js
function getDaysDiffBetweenDates (dateInitial, dateFinal) {
    return (dateFinal - dateInitial) / (1000 * 3600 * 24);
}

getDaysDiffBetweenDates(new Date('2017-12-13'), new Date('2017-12-22')); // 9
```

---

### 5.ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œæœ‰æ—¶é—´ï¼Œéœ€è¦å°†è¿™ä¸ªæ•°ç»„æŒ‰ç…§æ—¶é—´è¿›è¡Œæ’åº


```javascript
let data = [
{
  id: 1,
  publishTime: "2019-05-14 18:10:29"
},
{
  id: 2,
  publishTime: "2019-05-14 18:17:29"
},
{
  id: 3,
  publishTime: "2019-05-14 15:09:25"
}]

data.sort((a, b) => b.publishTime - a.publishTime);

// 0: {id: 2, publishTime: "2019-05-14 18:17:29"}
// 1: {id: 1, publishTime: "2019-05-14 18:10:29"}
// 2: {id: 3, publishTime: "2019-05-14 15:09:25"}

```

---

### 6.iOS æ‰‹æœºæ—¶é—´æ ¼å¼å‡ºç°NaNçš„é—®é¢˜

```js
let time = '2019-05-14 18:17:29'
var timeArr = time.split(/[- :]/); // ["2019", "05", "14", "18", "17", "29"]
var resTime = new Date(timeArr[0], timeArr[1] - 1, timeArr[2], timeArr[3], timeArr[4], timeArr[5]);
```

---

### 7.åˆ¤æ–­æ—¶é—´æ˜¯å¦åˆ°äº†ï¼ˆå…¼å®¹æ€§IOS NaNé—®é¢˜ï¼‰

```js
/*
 * @param { String|Number } å¼€å§‹æ—¶é—´
 * @param { String|Number } ç»“æŸæ—¶é—´
 * @return { Boolean } æ—¶é—´æ˜¯å¦åˆ°äº†
 * @start-time 2019-12-24 18:00
 * @last-time 2019-12-24 18:00
*/
function isJudgeTimeTool(startTime, endTime) {
    
    let nowTime = null;
    let endTimeData = null;

    // å¼€å§‹æ—¶é—´
    if (typeof startTime === 'number') {
        nowTime = new Date(startTime);
    } else {
        const arr = startTime.split(/[- :]/);
        nowTime = new Date(arr[0], arr[1] - 1, arr[2], arr[3], arr[4], arr[5]);
    }

    // ç»“æŸæ—¶é—´
    if (typeof endTime === 'number') {
        endTimeData = new Date(endTime);
    } else {
        const arr = endTime.split(/[- :]/);
        endTimeData = new Date(arr[0], arr[1] - 1, arr[2], arr[3], arr[4], arr[5]);
    }

    // ç›¸å·®æ—¶é—´
    const leftTime = parseInt((endTimeData.getTime() -nowTime.getTime()) / 1000);

    return leftTime > 0;
}
```

---

## ğŸ­ç¬¬å…­éƒ¨åˆ†ï¼šå¤„ç†JSåŸç”Ÿå…·æœ‰çš„ä¸€äº›é—®é¢˜

### 1.åŠ å‡æ³•ç²¾åº¦ç¼ºå¤±é—®é¢˜

```javascript
// åŠ æ³•å‡½æ•°ï¼ˆå› ä¸ºJSå°æ•°è®¡ç®— ä¸¢å¤±ç²¾åº¦ï¼‰
function add(arg1, arg2) { 
    let r1, r2, m; 
    try { r1 = arg1.toString().split(".")[1].length } catch (e) { r1 = 0 } 
    try { r2 = arg2.toString().split(".")[1].length } catch (e) { r2 = 0 } 
    m = Math.pow(10, Math.max(r1, r2)) 
    return (arg1 * m + arg2 * m) / m 
}
```

```javascript
// å‡æ³•å‡½æ•°ï¼ˆå› ä¸ºJSå°æ•°è®¡ç®— ä¸¢å¤±ç²¾åº¦ï¼‰
function sub(arg1, arg2) { 
    let r1, r2, m, n; 
    try { r1 = arg1.toString().split(".")[1].length } catch (e) { r1 = 0 } 
    try { r2 = arg2.toString().split(".")[1].length } catch (e) { r2 = 0 } 
    m = Math.pow(10, Math.max(r1, r2)); 
    n = (r1 >= r2) ? r1 : r2; 
    return Number(((arg1 * m - arg2 * m) / m).toFixed(n)); 
}
```

---

### 2.é€’å½’ä¼˜åŒ–ï¼ˆå°¾é€’å½’ï¼‰

```javascript
// å°¾é€’å½’å‡½æ•° æ‘˜è‡ªé˜®ä¸€å³°ES6 | è‡ªå·±æ‡’å¾—å†™äº†
function tco(f) {
  let value;
  let active = false;
  let accumulated = [];

  return function accumulator() {
    accumulated.push(arguments);
    if (!active) {
      active = true;
      while (accumulated.length) {
        value = f.apply(this, accumulated.shift());
      }
      active = false;
      return value;
    }
  };
}

// ä½¿ç”¨
æ–°çš„å‡½æ•° = tco(é€’å½’å‡½æ•°)

```

---

### 3.é˜²æŠ– && èŠ‚æµ

**é˜²æŠ–ï¼šä»»åŠ¡é¢‘ç¹è§¦å‘çš„æƒ…å†µä¸‹ï¼Œåªæœ‰ä»»åŠ¡è§¦å‘çš„é—´éš”è¶…è¿‡æŒ‡å®šé—´éš”çš„æ—¶å€™ï¼Œä»»åŠ¡æ‰ä¼šæ‰§è¡Œï¼ˆä¾‹å¦‚æœç´¢æ¡†ï¼Œåªæœ‰å½“ç”¨æˆ·æœç´¢è¾“å…¥å®Œæˆä¹‹åï¼Œåœä¸ªé›¶ç‚¹å‡ ç§’æ‰ä¼šæœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œå¦‚æœåœé¡¿çš„æ—¶é—´å°äºè®¾å®šçš„ï¼Œé‚£å°±è¿˜ä¸æ‰§è¡Œï¼Œè¿™ä¸ªå°±æ˜¯é˜²æŠ–ï¼‰**

**å‡½æ•°é˜²æŠ–å°±æ˜¯åœ¨å‡½æ•°éœ€è¦é¢‘ç¹è§¦å‘æƒ…å†µæ—¶ï¼Œåªæœ‰è¶³å¤Ÿç©ºé—²çš„æ—¶é—´ï¼Œæ‰æ‰§è¡Œä¸€æ¬¡ã€‚ç»å¸¸ç”¨äº æœç´¢å’Œæ‹–æ‹½**

```js
function debounce(fn) {
  let timeout = null; // åˆ›å»ºä¸€ä¸ªæ ‡è®°ç”¨æ¥å­˜æ”¾å®šæ—¶å™¨çš„è¿”å›å€¼
  return function () {
    clearTimeout(timeout); // æ¯å½“ç”¨æˆ·è¾“å…¥çš„æ—¶å€™æŠŠå‰ä¸€ä¸ª setTimeout clear æ‰
    timeout = setTimeout(() => { // ç„¶ååˆåˆ›å»ºä¸€ä¸ªæ–°çš„ setTimeout, è¿™æ ·å°±èƒ½ä¿è¯è¾“å…¥å­—ç¬¦åçš„ interval é—´éš”å†…å¦‚æœè¿˜æœ‰å­—ç¬¦è¾“å…¥çš„è¯ï¼Œå°±ä¸ä¼šæ‰§è¡Œ fn å‡½æ•°
      fn.apply(this, arguments);
    }, 500);
  };
}

debounce(fn) // ä½¿ç”¨

```

---

**èŠ‚æµï¼šæŒ‡å®šæ—¶é—´é—´éš”å†…åªä¼šæ‰§è¡Œä¸€æ¬¡ä»»åŠ¡ï¼ˆä¾‹å¦‚ä¸€ä¸ªä¸€ç§’å†…è¿ç»­è§¦å‘çš„äº‹ä»¶ï¼Œå¦‚æœç”¨äº†èŠ‚æµï¼Œè®©å…¶300msè§¦å‘ä¸€æ¬¡ï¼Œé‚£ä¹ˆ1så°±åªèƒ½è§¦å‘3æ¬¡ï¼‰**

```js
function throttle(fn) {
  let canRun = true; // é€šè¿‡é—­åŒ…ä¿å­˜ä¸€ä¸ªæ ‡è®°
  return function () {
    if (!canRun) return; // åœ¨å‡½æ•°å¼€å¤´åˆ¤æ–­æ ‡è®°æ˜¯å¦ä¸ºtrueï¼Œä¸ä¸ºtrueåˆ™return
    canRun = false; // ç«‹å³è®¾ç½®ä¸ºfalse
    setTimeout(() => { // å°†å¤–éƒ¨ä¼ å…¥çš„å‡½æ•°çš„æ‰§è¡Œæ”¾åœ¨setTimeoutä¸­
      fn.apply(this, arguments);
      // æœ€ååœ¨setTimeoutæ‰§è¡Œå®Œæ¯•åå†æŠŠæ ‡è®°è®¾ç½®ä¸ºtrue(å…³é”®)è¡¨ç¤ºå¯ä»¥æ‰§è¡Œä¸‹ä¸€æ¬¡å¾ªç¯äº†ã€‚å½“å®šæ—¶å™¨æ²¡æœ‰æ‰§è¡Œçš„æ—¶å€™æ ‡è®°æ°¸è¿œæ˜¯falseï¼Œåœ¨å¼€å¤´è¢«returnæ‰
      canRun = true;
    }, 500);
  };
}

throttle(fn) // ä½¿ç”¨
```

[èŠ‚æµå’Œé˜²æŠ–å…¶ä»–å¥½çš„æ–‡ç« ](https://juejin.im/entry/58c0379e44d9040068dc952f)

---

**é˜²æŠ–èŠ‚æµå…¶ä»–å®ç°**

```js
/**
 * Difference between debounce and throttle
 * In summary, 
 * throttle says, â€œHey, we heard you the first time, but if you want to keep going, no problem. 
 * Weâ€™ll just ignore you for a while.â€ 
 * Debounce says, â€œLooks like youâ€™re still busy. No problem, 
 * weâ€™ll wait for you to finish!â€
 */
/**
 * å¿«é€Ÿä¹¦å†™ä¸€ä¸ªé˜²æŠ–å‡½æ•°
 * @description åªè¦ä¸€ç›´è°ƒç”¨, callback å°†ä¸ä¼šè¢«è§¦å‘
 * åœ¨ä¸€æ¬¡è°ƒç”¨ç»“æŸå, åªæœ‰ç­‰å¾… timeout ms æ—¶é—´, æ‰èƒ½ç»§ç»­è°ƒç”¨ callback
 * immediate å†³å®šè§¦å‘æ—¶æœº
 * @example 
 * 1. ç‚¹å‡»æŒ‰é’®å‘é€è¯·æ±‚ï¼ˆä¿å­˜æ•°æ®ä¹‹ç±»çš„ï¼‰
 * 2. æœç´¢æ—¶è‡ªåŠ¨è”æƒ³
 * 3. è‡ªåŠ¨ä¿å­˜
 * 4. Debouncing a resize/scroll event handler
 */
function debounce(callback, timeout, immediate) {
  let timer;
  return function () {
    const context = this; // æŒæœ‰æ‰§è¡Œä¸Šä¸‹æ–‡
    const args = arguments; // è®°å½•ä¼ å‚
    const later = function () {
      timer = null; // è´¤è€…æ—¶é—´è¿‡äº†ï¼Œé‡æŒ¯æ——é¼“ï¼Œé‡ç½®ä¸ºåˆå§‹çŠ¶æ€
      if (!immediate) callback.apply(context, args); // è®¾ç½®ä¸ºå°¾éƒ¨è°ƒç”¨æ‰å»¶æ—¶è§¦å‘
    }
    const callNow = immediate && !timer; // å¦‚æœç¡®è®¤å…è®¸é¦–éƒ¨è°ƒç”¨ï¼Œä¸”é¦–æ¬¡è°ƒç”¨ï¼Œé‚£ä¹ˆæœ¬æ¬¡ç«‹å³è§¦å‘
    clearTimeout(timer); // æ€æ‰ä¸Šæ¬¡çš„è®¡æ—¶å™¨ï¼Œé‡æ–°è®¡æ—¶
    timer = setTimeout(later, timeout); // é‡å¯ä¸€ä¸ªè®¡æ—¶å™¨ï¼Œè¿‡äº†è´¤è€…æ—¶é—´ä¹‹åæ‰è§¦å‘
    callNow && callback.apply(context, args); // è®¾ç½®ä¸ºé¦–éƒ¨è°ƒç”¨ç«‹å³è§¦å‘
  }
}

/**
 *  å¿«é€Ÿä¹¦å†™ä¸€ä¸ªèŠ‚æµå‡½æ•°
 * @description ä¸€ç›´è°ƒç”¨ callback, æ¯éš” timeout ms æ—¶é—´ callback è§¦å‘ä¸€æ¬¡
 * åœ¨ timeout ms æ—¶é—´å†…çš„è°ƒç”¨å°†ä¸è§¦å‘
 * @example
 * 1. Throttling a button click so we canâ€™t spam click æ§åˆ¶ç–¯ç‹‚æŒ‰é’®çš„å“åº”é¢‘ç‡
 * 2. Throttling an API call æ§åˆ¶ API çš„è°ƒç”¨é¢‘ç‡
 * 3. Throttling a mousemove/touchmove event handler æ§åˆ¶é¢‘ç¹è§¦å‘äº‹ä»¶çš„ç›¸åº”é¢‘ç‡
 */
// solution1 è®°å½•æ—¶é—´æ¯”è¾ƒ
function throttle(callback, timeout) {
  let triggerTime; // è®°å½•æ¯æ¬¡çœŸæ­£è§¦å‘æ—¶é—´
  return function () {
    const context = this; // æŒæœ‰æ‰§è¡Œä¸Šä¸‹æ–‡
    const args = arguments; // è®°å½•ä¼ å‚
    if (triggerTime === undefined // é¦–æ¬¡è°ƒç”¨
      || Date.now() - triggerTime > timeout) { // è´¤è€…æ—¶é—´å·²ç»è¿‡å»
      triggerTime = Date.now(); // è®°å½•çœŸæ­£è§¦å‘æ—¶é—´
      callback.apply(context, args); // å¯ä»¥è§¦å‘å›è°ƒ
    }
  }
}
// solution2 é—´éš”æ—¶é—´åè½¬æ ‡å¿—ä½
function throttle(callback, timeout) {
  let disable; // è§¦å‘å›è°ƒæ˜¯å¦ç¦ç”¨
  return function () {
    const context = this; // æŒæœ‰æ‰§è¡Œä¸Šä¸‹æ–‡
    const args = arguments; // è®°å½•ä¼ å‚
    if (!disable) { // é¦–æ¬¡è°ƒç”¨æˆ–è€…è´¤è€…æ—¶é—´è¿‡äº†ï¼Œç¦ç”¨è§£é™¤
      callback.apply(context, args); // å¯ä»¥è§¦å‘å›è°ƒ
      disable = true; // é©¬ä¸Šç¦ç”¨
      setTimeout(_ => disable = false, timeout); // è´¤è€…æ—¶é—´è¿‡äº†ï¼Œç¦ç”¨è§£é™¤
    }
  }
}
```

---

## ğŸ¹ç¬¬ä¸ƒéƒ¨åˆ†ï¼šå…¶ä»–

### 1.Mathå‡½æ•°çš„ä¸€äº›åº”ç”¨

```js
parseInt(5.12) // 5 | åªä¿ç•™æ•´æ•°éƒ¨åˆ†ï¼ˆä¸¢å¼ƒå°æ•°éƒ¨åˆ†ï¼‰
Math.floor(5.12) // 5 | å‘ä¸‹å–æ•´ï¼ˆæ•ˆæœå’ŒparseIntä¸€æ ·ï¼‰
Math.ceil(5.12) // 6 | å‘ä¸Šå–æ•´ï¼ˆæœ‰å°æ•°ï¼Œæ•´æ•°å°±+1ï¼‰

Math.round(5.499) // 5 | å››èˆäº”å…¥
Math.round(5.501) // 6 | å››èˆäº”å…¥

Math.abs(-5) // 5 | ç»å¯¹å€¼

Math.max(5, 6) // 6 | è¿”å›ä¸¤è€…ä¸­è¾ƒå¤§çš„æ•°
Math.min(5, 6) // 5 | è¿”å›ä¸¤è€…ä¸­è¾ƒå°çš„æ•°

Math.random() // éšæœºæ•° (0-1)
```

---

### 2.å¸¸ç”¨æ­£åˆ™é€ŸæŸ¥

**æ¶ˆé™¤å­—ç¬¦ä¸²é¦–å°¾ä¸¤ç«¯çš„ç©ºæ ¼ï¼ˆæ›¿æ¢ï¼‰**

```js
let reg = /^\s+|\s+$/g;

let str = ' #id div.class '; 
str.replace(reg, '') // "#id div.class"
```

**æŠŠæ‰‹æœºå·ç æ›¿æ¢æˆ *ï¼ˆæ›¿æ¢ï¼‰**

```js
var reg = /1[24578]\d{9}/;

var str = 'å§“åï¼šæœ±æ˜†é¹ æ‰‹æœºï¼š15932638907'; // æ‰‹è®°å·çå†™çš„
str.replace(reg, '***') //"å§“åï¼šæœ±æ˜†é¹ æ‰‹æœºï¼š***"
```

**æ›¿æ¢æ•æ„Ÿå­—ï¼ˆæ›¿æ¢ï¼‰**

```js
let str = 'ä¸­å›½å…±äº§å…šä¸­å›½äººæ°‘è§£æ”¾å†›ä¸­åäººæ°‘å…±å’Œå›½';
    
let r = str.replace(/ä¸­å›½|å†›/g, input => {
    let t = '';
    for (let i = 0; i<input.length; i++) {
        t += '*';
    }
    return t;
})
     
console.log(r); //**å…±äº§å…š**äººæ°‘è§£æ”¾*ä¸­åäººæ°‘å…±å’Œå›½   
```

**åƒä½åˆ†éš”ç¬¦ï¼ˆæ›¿æ¢ï¼‰**

```js
let reg = /(\d)(?=(?:\d{3})+$)/g

let str = '100002003232322';    
let r = str.replace(, '$1,'); //100,002,003,232,322
```

**åŒ¹é…ç½‘é¡µæ ‡ç­¾ï¼ˆåŒ¹é…ï¼‰**

```js
var reg = /<(.+)>.+<\/\1>/;

var str = 'æœ±æ˜†é¹<div>2707509@.qq.com</div>æœ±æ˜†é¹';    
str.match(reg); // ["<div>2707509@.qq.com</div>"]
```

**éªŒè¯æ‰‹è®°å·ï¼ˆéªŒè¯ï¼‰**

```js
let reg = /^1((3[\d])|(4[5,6,9])|(5[0-3,5-9])|(6[5-7])|(7[0-8])|(8[1-3,5-8])|(9[1,8,9]))\d{8}$/;

reg.test('15932539095'); //true
reg.test('234554568997'); //false
```

**éªŒè¯é‚®ç®±åœ°å€ï¼ˆéªŒè¯ï¼‰**

```js
let reg = /^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/

reg.test('2775033@hotmail.com'); //true
reg.test('abc@'); //false
```

**éªŒè¯èº«ä»½è¯ï¼ˆéªŒè¯ï¼‰**

```js
let reg = /(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/

reg.test('31210119651230518X'); //true è‡ªå·±çå†™çš„
reg.test('2101196523s230518X'); //false è‡ªå·±çå†™çš„
```

**éªŒè¯ä¸­å›½é‚®ç®±ç¼–ç ï¼ˆéªŒè¯ï¼‰**

```js
let reg = /^(0[1-7]|1[0-356]|2[0-7]|3[0-6]|4[0-7]|5[1-7]|6[1-7]|7[0-5]|8[013-6])\d{4}$/

reg.test('065900'); //true
reg.test('999999'); //false
```

**éªŒè¯ipv4åœ°å€æ­£åˆ™ï¼ˆéªŒè¯ï¼‰**

```js
let reg = /^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/

reg.test('192.168.1.192'); //true
reg.test('127.0.0.1s'); //false
```

**éªŒè¯é“¶è¡Œå¡å·ï¼ˆ16æˆ–19ä½ï¼‰**

```js
let reg = /^([1-9]{1})(\d{15}|\d{18})$/

reg.test('6222026006705354218') // true
```

**éªŒè¯ä¸­æ–‡å§“åï¼ˆéªŒè¯ï¼‰**

```js
let reg = /^([\u4e00-\u9fa5\Â·]{2,10})$/

reg.test('æœ±æ˜†é¹'); //true
reg.test('Zhu Kunpeng'); //false
```

---

### 3.å˜æ¢å˜é‡

```js

// [letAï¼ŒletB] = [letBï¼ŒletA];

let a = 1;
let b = 2;
[a, b] = [b, a] // a = 2 b = 1

```

---

### 4.æ ¼å¼åŒ–å¯¹è±¡ä¸ºJSONä»£ç 

```js
const formatted = JSON.stringify({name: 'Jhon', age: 18, address: 'sz'}, null, 4);
/*
{
    "name": "Jhon",
    "age": 18,
    "address": "sz"
}
*/

// è¯¥å­—ç¬¦ä¸²åŒ–å‘½ä»¤æœ‰ä¸‰ä¸ªå‚æ•°ã€‚ç¬¬ä¸€ä¸ªæ˜¯Javascriptå¯¹è±¡ã€‚ç¬¬äºŒä¸ªæ˜¯å¯é€‰å‡½æ•°ï¼Œå¯ç”¨äºåœ¨JSONè¿›è¡Œå­—ç¬¦ä¸²åŒ–æ—¶å¯¹å…¶æ‰§è¡Œæ“ä½œã€‚æœ€åä¸€ä¸ªå‚æ•°æŒ‡ç¤ºè¦æ·»åŠ å¤šå°‘ç©ºæ ¼ä½œä¸ºç¼©è¿›ä»¥æ ¼å¼åŒ–JSONã€‚çœç•¥æœ€åä¸€ä¸ªå‚æ•°ï¼ŒJSONå°†è¿”å›ä¸€ä¸ªé•¿è¡Œã€‚å¦‚æœmyObjä¸­å­˜åœ¨å¾ªç¯å¼•ç”¨ï¼Œåˆ™ä¼šæ ¼å¼å¤±è´¥ã€‚
```
---

### 5.éšæœºç”Ÿæˆå…­ä½æ•°å­—éªŒè¯ç 

```js
const code = Math.floor(Math.random() * 1000000).toString().padStart(6, "0") // 942377
```

---

### 6.RGB é¢œè‰²è½¬ 16è¿›åˆ¶é¢œè‰²

```js
const RGBToHex = (r, g, b) => ((r << 16) + (g << 8) + b).toString(16).padStart(6, '0');
RGBToHex(255, 165, 1); // 'ffa501'
```

---

### 7.ç”Ÿæˆéšæœºæ•´æ•°

```js
function randomNum(min, max) {
  switch (arguments.length) {
    case 1:
      return parseInt(Math.random() * min + 1, 10)
    case 2:
      return parseInt(Math.random() * (max - min + 1) + min, 10)
    default:
      return 0
  }
}

randomNum(1,10) // éšæœº [1,10]çš„æ•´æ•°
```


---

### 8.å»é™¤ç©ºæ ¼ï¼ˆ1-æ‰€æœ‰ç©ºæ ¼  2-å‰åç©ºæ ¼  3-å‰ç©ºæ ¼ 4-åç©ºæ ¼ é»˜è®¤ä¸º1ï¼‰

```js

/**
 * trim å»é™¤ç©ºæ ¼
 * param1  string str å¾…å¤„ç†å­—ç¬¦ä¸²
 * param2  number type å»é™¤ç©ºæ ¼ç±»å‹ 1-æ‰€æœ‰ç©ºæ ¼  2-å‰åç©ºæ ¼  3-å‰ç©ºæ ¼ 4-åç©ºæ ¼ é»˜è®¤ä¸º1
 * return  string str å¤„ç†åçš„å­—ç¬¦ä¸²
 */
function trim(str, type = 1) {
    if (type && type !== 1 && type !== 2 && type !== 3 && type !== 4) return;
    switch (type) {
        case 1:
            return str.replace(/\s/g, "");
        case 2:
            return str.replace(/(^\s)|(\s*$)/g, "");
        case 3:
            return str.replace(/(^\s)/g, "");
        case 4:
            return str.replace(/(\s$)/g, "");
        default:
            return str;
    }
}

```

---

### 9.å¤§å°å†™è½¬æ¢

```js

/**
 * å¤§å°å†™è½¬æ¢
 * param1 string str å¾…è½¬æ¢çš„å­—ç¬¦ä¸²
 * param2 number type 1-å…¨å¤§å†™ 2-å…¨å°å†™ 3-é¦–å­—æ¯å¤§å†™ 
 * return  string str å¤„ç†åçš„å­—ç¬¦ä¸²
 */

function turnCase(str, type) {
    switch (type) {
        case 1:
            return str.toUpperCase()
        case 2:
            return str.toLowerCase();
        case 3:
            return str[0].toUpperCase() + str.substr(1).toLowerCase()
        default:
            return str;
    }
}

```

---

### 10.éšæœº16è¿›åˆ¶é¢œè‰² hexColor

```js
/**
 * éšæœº16è¿›åˆ¶é¢œè‰² hexColor
 * return  string str å¸¦#å·çš„éšæœº16è¿›åˆ¶é¢œè‰²
 */

function hexColor() {

    let str = '#';
    let arr = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 'A', 'B', 'C', 'D', 'E', 'F'];
    for (let i = 0; i < 6; i++) {
        let index = Number.parseInt(Math.random() * 16);
        str += arr[index]
    }
    return str;
}
```

---

### 11.ç»Ÿè®¡ä¸€æ®µæ–‡å­—ä¸­æŒ‡å®šæ–‡å­—å‡ºç°æ¬¡æ•° keywordsCountï¼ˆéªšæ“ä½œï¼‰

```js
/**
 * å…³é”®è¯ç»Ÿè®¡ï¼šç»Ÿè®¡ä¸€æ®µæ–‡å­—ä¸­æŒ‡å®šæ–‡å­—å‡ºç°æ¬¡æ•° keywordsCount
 * param1 string text è¿›è¡Œç»Ÿè®¡çš„æ–‡æœ¬
 * param2 string keywords è¿›è¡Œç»Ÿè®¡çš„å…³é”®è¯
 * return number count å…³é”®è¯å‡ºç°æ¬¡æ•°
 * tip:param1 document.body.innerText--å…¨æ–‡ç»Ÿè®¡
 */

function keywordsCount(text, keywords) {
    return text.split(keywords).length - 1
}

```


---

### 12.å¥½çš„ç¬”è®°æ–‡ç« 

- [JSåŸç”Ÿäº‹ä»¶](https://developer.mozilla.org/zh-CN/docs/Web/Events)
- [JSé€‰æ‹©å™¨ new](https://blog.csdn.net/major_zhang/article/details/78118823)

---

### 13. è½®è¯¢ç­‰å¾…å‡½æ•°

```js
/**
 * è½®è¯¢ç­‰å¾…å‡½æ•°
 * 
 * @param {Function} è½®è¯¢ç»“æŸçš„æ¡ä»¶
 * @param {Function} æˆåŠŸä¹‹åçš„å›è°ƒå‡½æ•°
 * @param {Number} è½®è¯¢æ—¶é—´ï¼ˆé»˜è®¤100msï¼‰
 * @param {Number} è½®è¯¢æœ€é•¿çš„æ—¶é—´ï¼ˆé»˜è®¤1000msï¼‰
 */
function pollingWaiting (callBack, resCallBack, time = 100, lastTime = 1000) {
  
  let startTime = Date.now()
  let t = null;
  let fn =  function () {
      t = setTimeout(() => {
          if (!callBack()) {
              // æ­¤å¤„å¯ä»¥é‡‡ç”¨å°¾é€’å½’ä¼˜åŒ–ï¼Œæ¥é˜²æ­¢å ç”¨è¿‡å¤šå†…å­˜
              console.log('startTime', Date.now() - startTime > lastTime)
              (Date.now() - startTime > lastTime) ? window.clearInterval(t) : fn()
          } else {
              resCallBack()
          }
      }, time);
  }
  fn()
}

// ç¤ºä¾‹
let a = 1;
setTimeout( () => {
  a = 2
}, 500)

pollingWaiting( () => {
  return a === 2
}, () => {
  console.log('è§¦å‘äº†', a)
}, 100, 800)

// 4 startTime false
// è§¦å‘äº† 2
```

---

### 14.å¤§æ•°å€¼è½¬æ¢ä¸ºä¸‡ï¼Œäº¿


```js
/**
 * å¤§æ•°å€¼è½¬æ¢ä¸ºä¸‡ï¼Œäº¿å‡½æ•°
 * 
 * @param {Number} å¤§æ•°
 * @param {Number} ä¿ç•™å‡ ä½å°æ•°
 */
function numConversion (num, point = 2) {

  let numStr = num.toString().split('.')[0] // å»æ‰å°æ•°ç‚¹åçš„æ•°å€¼å­—ç¬¦ä¸²
  let numLen = numStr.length

  if (numLen < 6) {
    return numStr
  } else if (numLen >= 6 && numLen <= 8) {
    let decimal = numStr.substring(numLen - 4, numLen - 4 + point)
    let res = parseInt(num / 10000) + '.' + decimal + 'ä¸‡'
    return res
  } else if (numLen > 8) {
    let decimal = numStr.substring(numLen - 8, numLen - 8 + point)
    let res = parseInt(num / 100000000) + '.' + decimal + 'äº¿'
    return res
  }
}

numConversion(12345) // 12345
numConversion(1234567) // 123.45ä¸‡
numConversion(123456789) // 1.23äº¿
```

---

### 15.å¸¸è§çš„XSSè½¬ä¹‰åœºæ™¯

```js
// è½¬ä¹‰HTMLç‰¹æ®Šå­—ç¬¦
function HtmlEncode(str) {
    var hex = new Array('0','1','2','3','4','5','6','7','8','9','a','b','c','d','e','f');
    var preescape = str;
    var escaped = "";
    for(var i = 0; i < preescape.length; i++){
        var p = preescape.charAt(i);
        escaped = escaped + escapeCharx(p);
    }
    
    return escaped;
                    
    function escapeCharx(original){
        var found=true;
        var thechar=original.charCodeAt(0);
        switch(thechar) {
            case 10: return "<br/>"; break; //newline
            case 32: return "&nbsp;"; break; //space
            case 34:return "&quot;"; break; //"
            case 38:return "&amp;"; break; //&
            case 39:return "&#x27;"; break; //'
            case 47:return "&#x2F;"; break; // /
            case 60:return "&lt;"; break; //<
            case 62:return "&gt;"; break; //>
            case 198:return "&AElig;"; break;
            case 193:return "&Aacute;"; break;
            case 194:return "&Acirc;"; break; 
            case 192:return "&Agrave;"; break; 
            case 197:return "&Aring;"; break; 
            case 195:return "&Atilde;"; break; 
            case 196:return "&Auml;"; break; 
            case 199:return "&Ccedil;"; break; 
            case 208:return "&ETH;"; break;
            case 201:return "&Eacute;"; break; 
            case 202:return "&Ecirc;"; break; 
            case 200:return "&Egrave;"; break; 
            case 203:return "&Euml;"; break;
            case 205:return "&Iacute;"; break;
            case 206:return "&Icirc;"; break; 
            case 204:return "&Igrave;"; break; 
            case 207:return "&Iuml;"; break;
            case 209:return "&Ntilde;"; break; 
            case 211:return "&Oacute;"; break;
            case 212:return "&Ocirc;"; break; 
            case 210:return "&Ograve;"; break; 
            case 216:return "&Oslash;"; break; 
            case 213:return "&Otilde;"; break; 
            case 214:return "&Ouml;"; break;
            case 222:return "&THORN;"; break; 
            case 218:return "&Uacute;"; break; 
            case 219:return "&Ucirc;"; break; 
            case 217:return "&Ugrave;"; break; 
            case 220:return "&Uuml;"; break; 
            case 221:return "&Yacute;"; break;
            case 225:return "&aacute;"; break; 
            case 226:return "&acirc;"; break; 
            case 230:return "&aelig;"; break; 
            case 224:return "&agrave;"; break; 
            case 229:return "&aring;"; break; 
            case 227:return "&atilde;"; break; 
            case 228:return "&auml;"; break; 
            case 231:return "&ccedil;"; break; 
            case 233:return "&eacute;"; break;
            case 234:return "&ecirc;"; break; 
            case 232:return "&egrave;"; break; 
            case 240:return "&eth;"; break; 
            case 235:return "&euml;"; break; 
            case 237:return "&iacute;"; break; 
            case 238:return "&icirc;"; break; 
            case 236:return "&igrave;"; break; 
            case 239:return "&iuml;"; break; 
            case 241:return "&ntilde;"; break; 
            case 243:return "&oacute;"; break;
            case 244:return "&ocirc;"; break; 
            case 242:return "&ograve;"; break; 
            case 248:return "&oslash;"; break; 
            case 245:return "&otilde;"; break;
            case 246:return "&ouml;"; break; 
            case 223:return "&szlig;"; break; 
            case 254:return "&thorn;"; break; 
            case 250:return "&uacute;"; break; 
            case 251:return "&ucirc;"; break; 
            case 249:return "&ugrave;"; break; 
            case 252:return "&uuml;"; break; 
            case 253:return "&yacute;"; break; 
            case 255:return "&yuml;"; break;
            case 162:return "&cent;"; break; 
            case '\r': break;
            default:
                found=false;
                break;
        }
        if(!found){
            if(thechar>127) {
                var c=thechar;
                var a4=c%16;
                c=Math.floor(c/16); 
                var a3=c%16;
                c=Math.floor(c/16);
                var a2=c%16;
                c=Math.floor(c/16);
                var a1=c%16;
                return "&#x"+hex[a1]+hex[a2]+hex[a3]+hex[a4]+";";        
            }
            else{
                return original;
            }
        }    
    }
}

// è½¬ä¹‰JSç‰¹æ®Šå­—ç¬¦
function JavaScriptEncode(str) 
     
    var hex=new Array('0','1','2','3','4','5','6','7','8','9','a','b','c','d','e','f');
        
    function changeTo16Hex(charCode){
        return "\\x" + charCode.charCodeAt(0).toString(16);
    }
    
    function encodeCharx(original) {
        
        var found = true;
        var thecharchar = original.charAt(0);
        var thechar = original.charCodeAt(0);
        switch(thecharchar) {
            case '\n': return "\\n"; break; //newline
            case '\r': return "\\r"; break; //Carriage return
            case '\'': return "\\'"; break;
            case '"': return "\\\""; break;
            case '\&': return "\\&"; break;
            case '\\': return "\\\\"; break;
            case '\t': return "\\t"; break;
            case '\b': return "\\b"; break;
            case '\f': return "\\f"; break;
            case '/': return "\\x2F"; break;
            case '<': return "\\x3C"; break;
            case '>': return "\\x3E"; break;
            default:
                found=false;
                break;
        }
        if(!found){
            if(thechar > 47 && thechar < 58){ //æ•°å­—
                return original;
            }
            
            if(thechar > 64 && thechar < 91){ //å¤§å†™å­—æ¯
                return original;
            }

            if(thechar > 96 && thechar < 123){ //å°å†™å­—æ¯
                return original;
            }        
            
            if(thechar>127) { //å¤§äº127ç”¨unicode
                var c = thechar;
                var a4 = c%16;
                c = Math.floor(c/16); 
                var a3 = c%16;
                c = Math.floor(c/16);
                var a2 = c%16;
                c = Math.floor(c/16);
                var a1 = c%16;
                return "\\u"+hex[a1]+hex[a2]+hex[a3]+hex[a4]+"";        
            }
            else {
                return changeTo16Hex(original);
            }
            
        }
    }     
  
    var preescape = str;
    var escaped = "";
    var i=0;
    for(i=0; i < preescape.length; i++){
        escaped = escaped + encodeCharx(preescape.charAt(i));
    }
    return escaped;
}
```

---

## ğŸ“šå‚è€ƒåˆ—è¡¨ï¼ˆè‡´æ•¬ï¼‰

- [30s-code](https://30secondsofcode.org/)
- [æ˜é‡‘æ–‡ç« -2019.6.17æ—¥æ•´ç†](https://juejin.im/post/5d01bd04f265da1b7a4b6e03#heading-2)
- [js tricks](https://qishaoxuan.github.io/js_tricks/)
- [æ­£åˆ™å‚è€ƒï¼Œæ„Ÿè°¢](https://github.com/any86/any-rule)
- [æ˜é‡‘ä½œè€…-å‰ç«¯å°æ™º æ„Ÿè°¢](https://juejin.im/user/59df61ec51882578ce26ee6e)
- [GitHub lengyuexin æ„Ÿè°¢](https://github.com/lengyuexin/blink/blob/master/blink.js)
- æ—¥å¸¸å·¥ä½œæ€»ç»“
