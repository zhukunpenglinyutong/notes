<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>2.前端网络应用 | Notes</title>
    <meta name="generator" content="VuePress 1.5.4">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="知识速查（了不起的个人工具库）">
    <link rel="preload" href="/assets/css/0.styles.f5078b10.css" as="style"><link rel="preload" href="/assets/js/app.f2516ed4.js" as="script"><link rel="preload" href="/assets/js/2.b5be6ff6.js" as="script"><link rel="preload" href="/assets/js/80.a4626fd1.js" as="script"><link rel="preload" href="/assets/js/3.87d40112.js" as="script"><link rel="prefetch" href="/assets/js/10.35e5e2b7.js"><link rel="prefetch" href="/assets/js/100.e67d24bc.js"><link rel="prefetch" href="/assets/js/101.8805974b.js"><link rel="prefetch" href="/assets/js/102.c5475d9e.js"><link rel="prefetch" href="/assets/js/103.6977e35c.js"><link rel="prefetch" href="/assets/js/104.ed9a180b.js"><link rel="prefetch" href="/assets/js/105.b9e863b3.js"><link rel="prefetch" href="/assets/js/106.2af16856.js"><link rel="prefetch" href="/assets/js/107.31538448.js"><link rel="prefetch" href="/assets/js/108.719b7c9c.js"><link rel="prefetch" href="/assets/js/109.ea679fce.js"><link rel="prefetch" href="/assets/js/11.88a97907.js"><link rel="prefetch" href="/assets/js/110.c81ee9d5.js"><link rel="prefetch" href="/assets/js/111.7f69e65d.js"><link rel="prefetch" href="/assets/js/112.72258ddc.js"><link rel="prefetch" href="/assets/js/12.bf0f2c7b.js"><link rel="prefetch" href="/assets/js/13.b246cedc.js"><link rel="prefetch" href="/assets/js/14.c8298f66.js"><link rel="prefetch" href="/assets/js/15.a80b1d45.js"><link rel="prefetch" href="/assets/js/16.9f8d4d27.js"><link rel="prefetch" href="/assets/js/17.5515190b.js"><link rel="prefetch" href="/assets/js/18.38b3c891.js"><link rel="prefetch" href="/assets/js/19.bae830c1.js"><link rel="prefetch" href="/assets/js/20.bbb98eac.js"><link rel="prefetch" href="/assets/js/21.70845d4e.js"><link rel="prefetch" href="/assets/js/22.6166d260.js"><link rel="prefetch" href="/assets/js/23.3ed55092.js"><link rel="prefetch" href="/assets/js/24.86663ab9.js"><link rel="prefetch" href="/assets/js/25.d873c7a2.js"><link rel="prefetch" href="/assets/js/26.da03dd1a.js"><link rel="prefetch" href="/assets/js/27.0857ab05.js"><link rel="prefetch" href="/assets/js/28.f06dd93c.js"><link rel="prefetch" href="/assets/js/29.e6a51913.js"><link rel="prefetch" href="/assets/js/30.9eddc820.js"><link rel="prefetch" href="/assets/js/31.7b1c958f.js"><link rel="prefetch" href="/assets/js/32.00028b3b.js"><link rel="prefetch" href="/assets/js/33.9925562b.js"><link rel="prefetch" href="/assets/js/34.83ed9b84.js"><link rel="prefetch" href="/assets/js/35.94596f7b.js"><link rel="prefetch" href="/assets/js/36.12266af3.js"><link rel="prefetch" href="/assets/js/37.101b8b9c.js"><link rel="prefetch" href="/assets/js/38.cbd3c52d.js"><link rel="prefetch" href="/assets/js/39.a175711d.js"><link rel="prefetch" href="/assets/js/4.02bf3d71.js"><link rel="prefetch" href="/assets/js/40.8291eb1a.js"><link rel="prefetch" href="/assets/js/41.34907669.js"><link rel="prefetch" href="/assets/js/42.1347b1c2.js"><link rel="prefetch" href="/assets/js/43.c588d6c9.js"><link rel="prefetch" href="/assets/js/44.0b5847af.js"><link rel="prefetch" href="/assets/js/45.55878d65.js"><link rel="prefetch" href="/assets/js/46.0b17e194.js"><link rel="prefetch" href="/assets/js/47.ef1df327.js"><link rel="prefetch" href="/assets/js/48.14215855.js"><link rel="prefetch" href="/assets/js/49.c3a89b55.js"><link rel="prefetch" href="/assets/js/5.d572fee8.js"><link rel="prefetch" href="/assets/js/50.224110e5.js"><link rel="prefetch" href="/assets/js/51.a067aaf7.js"><link rel="prefetch" href="/assets/js/52.e37db22c.js"><link rel="prefetch" href="/assets/js/53.6e95c85c.js"><link rel="prefetch" href="/assets/js/54.844c0d12.js"><link rel="prefetch" href="/assets/js/55.72478f22.js"><link rel="prefetch" href="/assets/js/56.9ffbaa6d.js"><link rel="prefetch" href="/assets/js/57.3b2b96cb.js"><link rel="prefetch" href="/assets/js/58.d01cee9b.js"><link rel="prefetch" href="/assets/js/59.5fb6bca7.js"><link rel="prefetch" href="/assets/js/6.1cd776fd.js"><link rel="prefetch" href="/assets/js/60.498fd1e2.js"><link rel="prefetch" href="/assets/js/61.a402dc0f.js"><link rel="prefetch" href="/assets/js/62.d0065cf8.js"><link rel="prefetch" href="/assets/js/63.e94506ac.js"><link rel="prefetch" href="/assets/js/64.0d8ec08a.js"><link rel="prefetch" href="/assets/js/65.c5be27b4.js"><link rel="prefetch" href="/assets/js/66.e4b0c082.js"><link rel="prefetch" href="/assets/js/67.b2be89ef.js"><link rel="prefetch" href="/assets/js/68.1f6f139e.js"><link rel="prefetch" href="/assets/js/69.ce10c0f3.js"><link rel="prefetch" href="/assets/js/7.01faab87.js"><link rel="prefetch" href="/assets/js/70.33616c52.js"><link rel="prefetch" href="/assets/js/71.0b8d493f.js"><link rel="prefetch" href="/assets/js/72.7666a73f.js"><link rel="prefetch" href="/assets/js/73.51b916d0.js"><link rel="prefetch" href="/assets/js/74.62ebdb0f.js"><link rel="prefetch" href="/assets/js/75.d6905641.js"><link rel="prefetch" href="/assets/js/76.d8833735.js"><link rel="prefetch" href="/assets/js/77.85302ac6.js"><link rel="prefetch" href="/assets/js/78.7c05a122.js"><link rel="prefetch" href="/assets/js/79.0eb7a7d6.js"><link rel="prefetch" href="/assets/js/8.6639ecf1.js"><link rel="prefetch" href="/assets/js/81.d68b98fd.js"><link rel="prefetch" href="/assets/js/82.8069da06.js"><link rel="prefetch" href="/assets/js/83.85947d20.js"><link rel="prefetch" href="/assets/js/84.1a5f2453.js"><link rel="prefetch" href="/assets/js/85.a7a2253e.js"><link rel="prefetch" href="/assets/js/86.2ea16429.js"><link rel="prefetch" href="/assets/js/87.8ba893a4.js"><link rel="prefetch" href="/assets/js/88.b92c6ebb.js"><link rel="prefetch" href="/assets/js/89.5f2cf8bb.js"><link rel="prefetch" href="/assets/js/9.dac21db2.js"><link rel="prefetch" href="/assets/js/90.1f7e8323.js"><link rel="prefetch" href="/assets/js/91.f7b05486.js"><link rel="prefetch" href="/assets/js/92.b52805fb.js"><link rel="prefetch" href="/assets/js/93.82513672.js"><link rel="prefetch" href="/assets/js/94.6d48faf9.js"><link rel="prefetch" href="/assets/js/95.c15c94ee.js"><link rel="prefetch" href="/assets/js/96.4668611c.js"><link rel="prefetch" href="/assets/js/97.7efd20e5.js"><link rel="prefetch" href="/assets/js/98.67e6aca7.js"><link rel="prefetch" href="/assets/js/99.ec48a5d6.js">
    <link rel="stylesheet" href="/assets/css/0.styles.f5078b10.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Notes</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/1.quickcheck/" class="nav-link">
  速查
</a></div><div class="nav-item"><a href="/2.note/" class="nav-link router-link-active">
  前端体系
</a></div><div class="nav-item"><a href="/3.other/" class="nav-link">
  其他
</a></div> <a href="https://github.com/zhukunpenglinyutong/notes" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/1.quickcheck/" class="nav-link">
  速查
</a></div><div class="nav-item"><a href="/2.note/" class="nav-link router-link-active">
  前端体系
</a></div><div class="nav-item"><a href="/3.other/" class="nav-link">
  其他
</a></div> <a href="https://github.com/zhukunpenglinyutong/notes" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>0.计算机基础</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>1.HTML</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>2.CSS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>3.JavaScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>4.jQuery及其周边库</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>5.1MVVM框架（Vue）</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>5.2MVVM框架（React）</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>6.移动端</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>7.Node</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>8.0网络</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/2.note/8.0网络/1.前端网络基础.html" class="sidebar-link">1.前端网络基础</a></li><li><a href="/2.note/8.0网络/2.前端网络应用.html" class="active sidebar-link">2.前端网络应用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/2.note/8.0网络/2.前端网络应用.html#🥔第一部分-http协议" class="sidebar-link">🥔第一部分：HTTP协议</a></li><li class="sidebar-sub-header"><a href="/2.note/8.0网络/2.前端网络应用.html#🥝第二部分-缓存" class="sidebar-link">🥝第二部分：缓存</a></li><li class="sidebar-sub-header"><a href="/2.note/8.0网络/2.前端网络应用.html#🍈第三部分-cookie-session-token" class="sidebar-link">🍈第三部分：cookie &amp; session &amp; token</a></li><li class="sidebar-sub-header"><a href="/2.note/8.0网络/2.前端网络应用.html#🍓第四部分-http2" class="sidebar-link">🍓第四部分：HTTP2</a></li><li class="sidebar-sub-header"><a href="/2.note/8.0网络/2.前端网络应用.html#🍎第五部分-nginx" class="sidebar-link">🍎第五部分：Nginx</a></li><li class="sidebar-sub-header"><a href="/2.note/8.0网络/2.前端网络应用.html#🍇第六部分-notes网站优化" class="sidebar-link">🍇第六部分：Notes网站优化</a></li><li class="sidebar-sub-header"><a href="/2.note/8.0网络/2.前端网络应用.html#📚参考列表-致敬" class="sidebar-link">📚参考列表（致敬）</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>8.1前端工程化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>8.2 前端安全</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>8.3前端性能优化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>8.4前端代码质量</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>8.5运维</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>8.6前端架构</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>9.项目</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_2-前端网络应用"><a href="#_2-前端网络应用" class="header-anchor">#</a> 2.前端网络应用</h1> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>此处结构混乱，内容不全，完善中...</p></div> <h2 id="🥔第一部分-http协议"><a href="#🥔第一部分-http协议" class="header-anchor">#</a> 🥔第一部分：HTTP协议</h2> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>之前总是听一些名词，http，tcp/ip，*层网络模型，报头，报文，三次握手，五次挥手，HTTPS...等等名词，这些到底是什么，有什么关系，我要搞懂</p></div> <h3 id="_1-网络模型"><a href="#_1-网络模型" class="header-anchor">#</a> 1.网络模型</h3> <img src="https://itzkp-1253302184.cos.ap-beijing.myqcloud.com/notes/2.notes/8.0%E7%BD%91%E7%BB%9C/1.%E5%89%8D%E7%AB%AF%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/1.%E4%BA%94%E5%B1%82%E6%A8%A1%E5%9E%8B.png"> <ul><li>应用层（HTTP,FTP）：为应用软件提供了很多服务，</li> <li>传输层（TCP/IP，UDP）：向用户提供可靠的端到端服务（如何分包数据，如何拼装等等）</li> <li>网络层：数据在节点之间传输创建逻辑链路（听不懂啥意思，举个例子，我要是访问百度，这一层就规定了，我应该怎么去找，这个逻辑关系就是网络层帮我们去创建的）</li> <li>数据链路层：在通信实体之间建立数据链路连接</li> <li>物理层：定义物理设备如何传输设备（电脑硬件，网卡端口，网线...）</li></ul> <h3 id="_2-http发展历史"><a href="#_2-http发展历史" class="header-anchor">#</a> 2.HTTP发展历史</h3> <ul><li>HTTP/0.9：只有一个命令GET，没有header等描述数据的信息，服务器发送完毕，就关闭TCP连接</li> <li>HTTP/1.0：增加了很多命令（POST...等等），增加了 status code（状态码） 和 header（请求头，或者返回头，返回体的数据），还增加了多字符集支持，多部分内容发送，权限，缓存等</li> <li>HTTP/1.1：支持持久连接（TCP不立刻关闭 keep-live），pipeline（在一个链接里面发送多个请求），增加host和其他一些命令</li> <li>HTTP/2.0：所有数据以二进制进行传输，并行效率更高，增加头信息压缩以及主动推送</li></ul> <hr> <h3 id="_3-http的三次握手"><a href="#_3-http的三次握手" class="header-anchor">#</a> 3.HTTP的三次握手</h3> <blockquote><p>HTTP只有请求和响应，不存在连接这个概念 TPC的连接进行的（请求和响应都是数据包，他们之间传输需要一个通道 TCP）</p></blockquote> <p><strong>HTTP创建之前TCP链接会有三次握手（为什么要有三次握手呢？为了防止无用的链接）</strong></p> <ul><li>客户端会发送一个数据包（SYN=1,Seq=X）给服务器端</li> <li>服务器端收到这个数据包，就会开启一个TCP的端口，并返回给客户端一个数据包（SYN=1,ACK=X+1,Seq=Y），表示服务器端允许你创建链接了</li> <li>客户端收到服务器端的数据包，然后返回数据包 (ACK=Y+1,Seq=Z)，表示我也收到了，可以发给我数据了（这时候才发送数据）</li></ul> <p><strong>HTTP关闭之前 TCP链接会有一个四次挥手的过程</strong></p> <p>由于Tcp连接是进行全双工工作的，因此每个方向都必须单独进行关闭，这个原则是当一方完成他的数据发送的时候就发送一个FIN来终止这个方向的连接，收到这个FIN意味着这个方向上没有数据的流动，一个TCP连接在收到这个FIN之后还能发送消息，首先执行关闭的一方进行主动的关闭，而另一方进行被动的关闭</p> <ul><li>TCP发送一个FIN，用来关闭客户到服务端的连接</li> <li>服务端收到这个FIN，他发回一个ACK，确认收到序号为收到序号+1，和SYN一样，一个FIN将占用一个序号</li> <li>服务端发送一个FIN到客户端，服务端关闭客户端的连接</li> <li>客户端发送ACK报文确认，并将确认的序号+1，这样关闭完成</li></ul> <hr> <h3 id="🔥4-htt协议详解"><a href="#🔥4-htt协议详解" class="header-anchor">#</a> 🔥4.HTT协议详解</h3> <p><strong>请求报文（请求行，请求头，请求体）</strong></p> <ul><li>起始行（General）：GET 资源 HTTP/1.1
<ul><li>Request URL：请求地址</li> <li>Request Method：请求类型（GET,POST...）</li> <li>Status Code：请求状态（状态码）</li> <li>Referrer Policy：</li> <li>...</li></ul></li> <li>请求头（请求报文）
<ul><li>Accept：我这个浏览器能够接收什么资源</li> <li>Accept-Encoding: 浏览器接受数据的格式是什么？可以设置支不支持gzip格式（压缩格式）等</li> <li>Accept-Language：接收的语言</li> <li>Coche-Control：缓存相关</li> <li>🔥Connetion：keep-alive（http的一种 连接模式，最常用的是长连接 keep-alive）
<ul><li>短连接：每一次http的请求和响应，都会反复建立和断开TCP连接，占用服务器IO操作</li> <li>长连接：建立一个TCP链接，然后进行多次HTTP通信</li></ul></li> <li>Cookie：</li> <li>Host：访问的网站</li> <li>User-Agent：包含浏览器的一些信息，电脑系统等，就是浏览器向服务器介绍自己的一个（做爬虫的时候能用到，因为反爬虫的一个就是判断你是不是浏览器）</li> <li>...</li></ul></li></ul> <hr> <p><strong>响应报文（响应行，响应头，响应体）</strong></p> <ul><li>响应行</li> <li>响应头（响应报文）
<ul><li>Coche-Control：缓存相关</li> <li>Connetion：keep-alive（返回形式是长连接）</li> <li>Content-Encoding: gzip（返回的格式）</li> <li>Content-Type: text/html（返回的类型）</li> <li>Date: 缓存相关（时间戳）</li> <li>Expires：缓存相关</li> <li>Sever：服务器（例如 NGINX）</li> <li>...</li></ul></li></ul> <hr> <p><strong>响应状态码</strong></p> <ul><li>1xx：指示信息 - 表示请求已接收，继续处理（用到异步处理上，后端常用，前端很少见）</li> <li>2xx：成功 - 表示请求被成功接收，理解，接受</li> <li>3xx：重定向 - 要完成请求必须进行更近一步的操作（服务器让你读本地缓存的时候可以用到，服务器端也能能用）</li> <li>4xx：客户端错误 - 请求有语法错误或请求无法实现</li> <li>5xx：服务器端发生错误 - 服务器未能实现合法的请求（后端程序出错，网络出错，服务器服务错误）</li></ul> <hr> <p><strong>请求方法</strong></p> <ul><li>GET</li> <li>POST</li> <li>PUT</li> <li>DELETE</li> <li>HEAD</li> <li>TRACE</li> <li>CONNECT</li> <li>OPTIONS: 请求查询服务器性能或者查询与资源相关的选项和需求</li></ul> <hr> <h3 id="_5-cors跨域请求和限制与解决"><a href="#_5-cors跨域请求和限制与解决" class="header-anchor">#</a> 5.CORS跨域请求和限制与解决</h3> <p>一句话点醒了我，让我知道什么是跨域，</p> <p>当你发送一个 跨域请求的时候，其实服务器已经返回给了你想要的内容，但是，但是，这时候，浏览器会审视返回的数据是否满足同源策略（同端口，同协议，同IP）规则，不满足而且返回的数据有没有设置 &quot;Access-Control-Allow-Origin&quot;: &quot;*&quot;，允许跨域，这时候就会浏览器忽略掉，注意是被浏览器忽略掉。也就是跨步跨域，是浏览器的规则</p> <p>这也就解释了为什么，img 标签没有跨域，因为这是浏览器的规则，浏览器规定了 img 跨域不准守跨域</p> <hr> <blockquote><p>什么是跨域（我个人的观点）</p></blockquote> <p>上网访问资源走的是HTTP协议，HTTP协议只有请求和响应，而数据传输是TCP协议，在网页上报的那些跨域，其实并不是后端没发给你，而是浏览器的同源策略规则导致的，其实只要是你请求的数据，服务器端都会给你，浏览器有跨域，是浏览器的规则而已</p> <p>这也就解释了服务器端为什么没有跨域...因为跨域是浏览器的限制规则
还有为什么 img script link等标签能跨域...因为还是浏览器的规则，反正数据都拿到了，能不能显示，报不报跨域，还是浏览器说的算</p> <hr> <p><strong>JSONP实现跨域（浏览器允许，link，img，srcipt标签 允许跨域）</strong></p> <hr> <h3 id="_6-cors跨域限制以及预请求验证"><a href="#_6-cors跨域限制以及预请求验证" class="header-anchor">#</a> 6.CORS跨域限制以及预请求验证</h3> <hr> <h3 id="_7-http长连接"><a href="#_7-http长连接" class="header-anchor">#</a> 7.HTTP长连接</h3> <p>所谓的长连接就是，HTTP请求和响应，是建立在TCP连接之上的（TCP是桥梁），在一个HTTP完成之后，如果不想断开 TCP 连接，还想接着用 HTTP ，那么就需要使用长连接，返回头中具有 Connection: keep-alive</p> <p>为了提高性能，我们需要并发HTTP连接</p> <hr> <h3 id="_8-数据协商"><a href="#_8-数据协商" class="header-anchor">#</a> 8.数据协商</h3> <blockquote><p>规定客户端发送什么格式的数据，服务器端返回什么格式的数据</p></blockquote> <p><strong>客户端请求的时候</strong></p> <ul><li>Accept：我想要是数据格式</li> <li>Accept-Encoding：我想要的编码方式（使用哪种数据压缩）</li> <li>Accept-Language：展示的语言</li> <li>User-Agent：表示浏览器的一些信息（根据这个我们就能返回移动端的网页，或者PC端的网页）</li></ul> <p><strong>服务器端返回的时候</strong></p> <ul><li>Content-Type：</li> <li>Content-Encoding：</li> <li>Content-Language：</li></ul> <hr> <h3 id="_9-uri-url和urn"><a href="#_9-uri-url和urn" class="header-anchor">#</a> 9.URI-URL和URN</h3> <p><strong>URI：统一资源标识符（找资源的一种规则）</strong></p> <p>用来唯一标识互联网上的信息资源，包括URL和URN</p> <p><strong>URL：统一资源定位器</strong></p> <p>格式：http[s]😕/user:pass@host.com:80/path?query=string#hash</p> <p><strong>URN：永久统一资源定位符</strong></p> <p>在资源移动之后还能被找到，目前还没有非常成熟的使用方案</p> <hr> <h3 id="_10-从输入网址到展示页面-这里面经历了什么"><a href="#_10-从输入网址到展示页面-这里面经历了什么" class="header-anchor">#</a> 10.从输入网址到展示页面，这里面经历了什么？</h3> <ul><li>用户输入网址 按下回车</li> <li>浏览器第一件事：先看网络通不通（再深一层就是路由器，网关）（浏览器如何判断网络通不通）</li> <li>网络通的话，浏览器操作 计算机底层发送网络请求的API，向DNS发送解析（因为浏览器不认识域名）</li> <li>DNS服务器给浏览器返回了 IP地址，浏览器继续 通过这个IP地址继续发送（因为浏览器和目标地址之间，不可能一条线通着的，中间还有很多透明设备（对于用户是不可见的），网关，路由器等等），经过一些列的转发之后，到达目的地（唯一的服务器）</li> <li>服务器接收到请求之后，经过一些处理，把响应结果返回（字符串）</li> <li>返回过程也经过一些路由，最终返回到 用户浏览器中</li></ul> <p><strong>猫 和 路由器</strong>，猫：是和 各个通信商之间的一条链路，路由器：路铺好了，路由器就是告诉怎么走的，就是告诉 DNS服务器</p> <hr> <h3 id="_11-redirect"><a href="#_11-redirect" class="header-anchor">#</a> 11.Redirect</h3> <p>你要请求的资源换地方了，如果资源搬到别的地方了，如果之前的链接还在用的话，直接访问会报 404，为了防止这个，可以设置Redirect（状态码报302 临时跳转）</p> <hr> <h3 id="_12-csp-内容安全策略"><a href="#_12-csp-内容安全策略" class="header-anchor">#</a> 12.CSP（内容安全策略）</h3> <blockquote><p>内容安全策略（CSP）用于检测和减轻用于 Web 站点的特定类型的攻击，例如 XSS 和数据注入等。该安全策略的实现基于一个称作 Content-Security-Policy 的 HTTP 首部。</p></blockquote> <ul><li>限制资源获取</li> <li>报告资源获取越权</li> <li>default-src 限制全局</li> <li>制定资源类型</li> <li>例如设置返回头：&quot;Content-Security-Policy&quot;: &quot;default-src http: https:&quot; 就可以使网站不能加载内嵌式脚本，只能加载外部脚本链接，防止了XSS攻击</li> <li>&quot;Content-Security-Policy&quot;: &quot;default-src 'self'&quot; 限制只能加载自己网址下的 外部脚本连接，当然还有其他的设置</li> <li>如果发现了非法请求的话，怎么提醒我们呢：&quot;Content-Security-Policy&quot;: &quot;default-src 'self'; report-url /接口&quot; 如果触发了这个策略，就会调用 /接口，这时候监听这个接口就行</li> <li>更多去MDN上看吧</li></ul> <hr> <h2 id="🥝第二部分-缓存"><a href="#🥝第二部分-缓存" class="header-anchor">#</a> 🥝第二部分：缓存</h2> <blockquote><p>缓存机制：浏览器 ---》 无缓存 ---》请求服务器 ---》请求响应，协商缓存</p></blockquote> <h3 id="缓存头cache-control的含义和使用"><a href="#缓存头cache-control的含义和使用" class="header-anchor">#</a> 缓存头Cache-Control的含义和使用</h3> <ul><li>其他
<ul><li>no-store</li> <li>no-transform</li></ul></li></ul> <hr> <hr> <h3 id="缓存验证last-modified-etag"><a href="#缓存验证last-modified-etag" class="header-anchor">#</a> 缓存验证Last-Modified &amp;&amp; Etag</h3> <p><strong>Last-Modified 上次修改时间</strong></p> <p>配合 If-Modified-Since 或者 If-Unmodified-Since 使用（对比上次修改时间以验证资源是否需要更新）</p> <p><strong>Etag</strong></p> <p>数据签名（对hash计算）</p> <p>配合 If-Match 或者 If-Non-Match 使用</p> <p>对比资源的签名判断是否使用缓存</p> <hr> <h2 id="🍈第三部分-cookie-session-token"><a href="#🍈第三部分-cookie-session-token" class="header-anchor">#</a> 🍈第三部分：cookie &amp; session &amp; token</h2> <p>cookie 是 服务器返回内容的时候，通过Set-Cookie 这个属性，设置到浏览器中一个字符串的内容，设置了cookie，下次请求就会自动带上，是键值对的属性，可以设置多个</p> <p>cookie的属性</p> <ul><li>max-age和expires设置过期时间</li> <li>Secure只在https的时候发送</li> <li>HttpOnly 无法通过 document.cookie 访问 cookie</li></ul> <hr> <p><strong>cookies和session</strong></p> <ul><li>cookies 是保存在客户端的小段文本 一般都是服务器端生成返回给客户端浏览器</li> <li>session 保存在服务器端，通过唯一的值sessionID来区分每一个用户，sessionID随每个连接请求发送到服务器，服务器更具sessionID来识别客户端，再通过session 的key值 获取 session 值</li> <li>因为http是无状态的（这里的状态不是状态码那些东西，而是指的是服务器端不知道某个请求是哪个浏览器发的这类信息）</li></ul> <hr> <p><strong>token</strong></p> <ul><li>要下发到你的客户端，也要和</li> <li>验证流程上和session不一样，是一个安全性更高的机制</li></ul> <hr> <h2 id="🍓第四部分-http2"><a href="#🍓第四部分-http2" class="header-anchor">#</a> 🍓第四部分：HTTP2</h2> <p>优势：</p> <ul><li>信道复用：只建立一个TCP就行（可以并发很多HTTP）</li> <li>使用二进制格式进行传输（不是传纯文本了，更加高效，紧凑）</li> <li>对报头压缩，降低开销</li> <li>多路复用，一个网络连接实现并行请求</li> <li>服务器主动推送，减少请求的延迟（跟ajax，websocket）</li></ul> <hr> <h2 id="🍎第五部分-nginx"><a href="#🍎第五部分-nginx" class="header-anchor">#</a> 🍎第五部分：Nginx</h2> <h3 id="_1-nginx基础配置"><a href="#_1-nginx基础配置" class="header-anchor">#</a> 1.NGINX基础配置</h3> <blockquote><p>纯粹的HTTP服务</p></blockquote> <ul><li><a href="https://zhukunpenglinyutong.github.io/1.quickcheck/3.%E8%BF%90%E7%BB%B4/1.%E5%90%84%E7%A7%8D%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85%E9%80%9F%E6%9F%A5.html#%F0%9F%94%A5centos7-%E4%B8%8B%E5%AE%89%E8%A3%85%E8%BD%AF%E4%BB%B6" target="_blank" rel="noopener noreferrer">Centos7.* 下安装NGINX<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h3 id="_2-nginx代理配置和代理缓存"><a href="#_2-nginx代理配置和代理缓存" class="header-anchor">#</a> 2.NGINX代理配置和代理缓存</h3> <hr> <h2 id="🍇第六部分-notes网站优化"><a href="#🍇第六部分-notes网站优化" class="header-anchor">#</a> 🍇第六部分：Notes网站优化</h2> <blockquote><p>先上来三板斧：gzip + CDN + HTTP2</p></blockquote> <p>我的网站访问速度，一度的飙升到1分半，这对于一个速查网站来说是致命的</p> <p>经过我的分析，我发现是我的文件数量太多（130个左右），导致触及到了并发的最大数（谷歌浏览器只能并发6个TCP连接），于是我调整NGINX配置，使其变成 HTTP2 协议</p> <p>呦，速度变成了1分钟，不错，咦不对，一分钟还是很慢，我接着分析返回的面板发现，并发数解决了，但是返回的网速依旧很慢，于是我查看服务器，发现我的服务器是 1MB/s ，哦，原来是网速限制了网站的速度呀，于是我准备替换成 CDN 静态加速</p> <p>配置完成CDN + HTTP2，可以了，3s之内访问正常，先这样凑活用吧</p> <hr> <h2 id="📚参考列表-致敬"><a href="#📚参考列表-致敬" class="header-anchor">#</a> 📚参考列表（致敬）</h2> <ul><li>《图解HTTP协议》</li> <li><a href="https://coding.imooc.com/learn/list/225.html" target="_blank" rel="noopener noreferrer">慕课网课程...HTTP协议原理+实践Web开发工程师必学<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://ke.qq.com/course/220822" target="_blank" rel="noopener noreferrer">腾讯课堂...前端全栈工程师精英班，个人强烈推荐...<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://ke.qq.com/course/233919" target="_blank" rel="noopener noreferrer">腾讯课堂...前端next学位课程<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://blog.csdn.net/qq_26565861/article/details/80969960" target="_blank" rel="noopener noreferrer">HTTP报文分析<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/2.note/8.0网络/1.前端网络基础.html" class="prev">
        1.前端网络基础
      </a></span> <span class="next"><a href="/2.note/8.1前端工程化/1.前端工程化绪论.html">
        1.前端工程化绪论
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.f2516ed4.js" defer></script><script src="/assets/js/2.b5be6ff6.js" defer></script><script src="/assets/js/80.a4626fd1.js" defer></script><script src="/assets/js/3.87d40112.js" defer></script>
  </body>
</html>
