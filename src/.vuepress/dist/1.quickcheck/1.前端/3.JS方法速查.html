<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>3.JS方法速查 | Notes</title>
    <meta name="generator" content="VuePress 1.5.4">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="知识速查（了不起的个人工具库）">
    <link rel="preload" href="/assets/css/0.styles.f5078b10.css" as="style"><link rel="preload" href="/assets/js/app.a28e9894.js" as="script"><link rel="preload" href="/assets/js/2.b5be6ff6.js" as="script"><link rel="preload" href="/assets/js/8.6639ecf1.js" as="script"><link rel="preload" href="/assets/js/3.87d40112.js" as="script"><link rel="prefetch" href="/assets/js/10.35e5e2b7.js"><link rel="prefetch" href="/assets/js/100.f00dc9e9.js"><link rel="prefetch" href="/assets/js/101.f9639423.js"><link rel="prefetch" href="/assets/js/102.c5475d9e.js"><link rel="prefetch" href="/assets/js/103.da7ae3cf.js"><link rel="prefetch" href="/assets/js/104.665c45d5.js"><link rel="prefetch" href="/assets/js/105.e176f192.js"><link rel="prefetch" href="/assets/js/106.c8828b80.js"><link rel="prefetch" href="/assets/js/107.c4340427.js"><link rel="prefetch" href="/assets/js/108.719b7c9c.js"><link rel="prefetch" href="/assets/js/109.87ea0b38.js"><link rel="prefetch" href="/assets/js/11.229c04a5.js"><link rel="prefetch" href="/assets/js/110.d2eeb993.js"><link rel="prefetch" href="/assets/js/111.d3bcb22c.js"><link rel="prefetch" href="/assets/js/112.72258ddc.js"><link rel="prefetch" href="/assets/js/12.0b67de50.js"><link rel="prefetch" href="/assets/js/13.c38d4c68.js"><link rel="prefetch" href="/assets/js/14.ac4bdd84.js"><link rel="prefetch" href="/assets/js/15.f33def02.js"><link rel="prefetch" href="/assets/js/16.9f8d4d27.js"><link rel="prefetch" href="/assets/js/17.16c18b67.js"><link rel="prefetch" href="/assets/js/18.36c1d685.js"><link rel="prefetch" href="/assets/js/19.05742e9a.js"><link rel="prefetch" href="/assets/js/20.0423b7e1.js"><link rel="prefetch" href="/assets/js/21.70845d4e.js"><link rel="prefetch" href="/assets/js/22.9fe53ad0.js"><link rel="prefetch" href="/assets/js/23.fe054a0e.js"><link rel="prefetch" href="/assets/js/24.48aca476.js"><link rel="prefetch" href="/assets/js/25.d873c7a2.js"><link rel="prefetch" href="/assets/js/26.7154f1f5.js"><link rel="prefetch" href="/assets/js/27.09768527.js"><link rel="prefetch" href="/assets/js/28.bfaa30dd.js"><link rel="prefetch" href="/assets/js/29.5ebfc24c.js"><link rel="prefetch" href="/assets/js/30.eeb8c354.js"><link rel="prefetch" href="/assets/js/31.88e796c1.js"><link rel="prefetch" href="/assets/js/32.4bb414c3.js"><link rel="prefetch" href="/assets/js/33.9925562b.js"><link rel="prefetch" href="/assets/js/34.d89f5cb4.js"><link rel="prefetch" href="/assets/js/35.85ad812c.js"><link rel="prefetch" href="/assets/js/36.12266af3.js"><link rel="prefetch" href="/assets/js/37.ebd37158.js"><link rel="prefetch" href="/assets/js/38.b063f9b2.js"><link rel="prefetch" href="/assets/js/39.eeb074c2.js"><link rel="prefetch" href="/assets/js/4.02bf3d71.js"><link rel="prefetch" href="/assets/js/40.cb8dfeba.js"><link rel="prefetch" href="/assets/js/41.31231b50.js"><link rel="prefetch" href="/assets/js/42.d39b5fdb.js"><link rel="prefetch" href="/assets/js/43.e3cc9b3d.js"><link rel="prefetch" href="/assets/js/44.18be67b1.js"><link rel="prefetch" href="/assets/js/45.2008d378.js"><link rel="prefetch" href="/assets/js/46.97fe3010.js"><link rel="prefetch" href="/assets/js/47.69114193.js"><link rel="prefetch" href="/assets/js/48.14215855.js"><link rel="prefetch" href="/assets/js/49.7eb885ee.js"><link rel="prefetch" href="/assets/js/5.d572fee8.js"><link rel="prefetch" href="/assets/js/50.1e65a98b.js"><link rel="prefetch" href="/assets/js/51.11130cf1.js"><link rel="prefetch" href="/assets/js/52.e37db22c.js"><link rel="prefetch" href="/assets/js/53.6e95c85c.js"><link rel="prefetch" href="/assets/js/54.dd9a4e29.js"><link rel="prefetch" href="/assets/js/55.9776ad3c.js"><link rel="prefetch" href="/assets/js/56.1bee5f73.js"><link rel="prefetch" href="/assets/js/57.ef85c37a.js"><link rel="prefetch" href="/assets/js/58.b566d49a.js"><link rel="prefetch" href="/assets/js/59.5fb6bca7.js"><link rel="prefetch" href="/assets/js/6.68b83dc0.js"><link rel="prefetch" href="/assets/js/60.498fd1e2.js"><link rel="prefetch" href="/assets/js/61.a402dc0f.js"><link rel="prefetch" href="/assets/js/62.639a2732.js"><link rel="prefetch" href="/assets/js/63.f9d81c98.js"><link rel="prefetch" href="/assets/js/64.66659b4e.js"><link rel="prefetch" href="/assets/js/65.d4b444c4.js"><link rel="prefetch" href="/assets/js/66.e4b0c082.js"><link rel="prefetch" href="/assets/js/67.64f606c7.js"><link rel="prefetch" href="/assets/js/68.11beb140.js"><link rel="prefetch" href="/assets/js/69.2bdb150b.js"><link rel="prefetch" href="/assets/js/7.9ba505b6.js"><link rel="prefetch" href="/assets/js/70.22a28ed0.js"><link rel="prefetch" href="/assets/js/71.5225f919.js"><link rel="prefetch" href="/assets/js/72.16ac4f39.js"><link rel="prefetch" href="/assets/js/73.85d2131d.js"><link rel="prefetch" href="/assets/js/74.6f083167.js"><link rel="prefetch" href="/assets/js/75.95ff534d.js"><link rel="prefetch" href="/assets/js/76.c51ffffe.js"><link rel="prefetch" href="/assets/js/77.7588cc7a.js"><link rel="prefetch" href="/assets/js/78.7c05a122.js"><link rel="prefetch" href="/assets/js/79.0eb7a7d6.js"><link rel="prefetch" href="/assets/js/80.a2b1574a.js"><link rel="prefetch" href="/assets/js/81.503dd8b0.js"><link rel="prefetch" href="/assets/js/82.bbfabd85.js"><link rel="prefetch" href="/assets/js/83.aa2ce4eb.js"><link rel="prefetch" href="/assets/js/84.88b65ec1.js"><link rel="prefetch" href="/assets/js/85.7308a591.js"><link rel="prefetch" href="/assets/js/86.8cfe8f13.js"><link rel="prefetch" href="/assets/js/87.09937984.js"><link rel="prefetch" href="/assets/js/88.a861e5dd.js"><link rel="prefetch" href="/assets/js/89.59cc03bf.js"><link rel="prefetch" href="/assets/js/9.dac21db2.js"><link rel="prefetch" href="/assets/js/90.f085f31b.js"><link rel="prefetch" href="/assets/js/91.eca0b451.js"><link rel="prefetch" href="/assets/js/92.5d212955.js"><link rel="prefetch" href="/assets/js/93.4e6f6fab.js"><link rel="prefetch" href="/assets/js/94.8256448b.js"><link rel="prefetch" href="/assets/js/95.a78f6d18.js"><link rel="prefetch" href="/assets/js/96.4668611c.js"><link rel="prefetch" href="/assets/js/97.30f8e4a6.js"><link rel="prefetch" href="/assets/js/98.6891e985.js"><link rel="prefetch" href="/assets/js/99.ec48a5d6.js">
    <link rel="stylesheet" href="/assets/css/0.styles.f5078b10.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Notes</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/1.quickcheck/" class="nav-link router-link-active">
  速查
</a></div><div class="nav-item"><a href="/2.note/" class="nav-link">
  前端体系
</a></div><div class="nav-item"><a href="/3.other/" class="nav-link">
  其他
</a></div> <a href="https://github.com/zhukunpenglinyutong/notes" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/1.quickcheck/" class="nav-link router-link-active">
  速查
</a></div><div class="nav-item"><a href="/2.note/" class="nav-link">
  前端体系
</a></div><div class="nav-item"><a href="/3.other/" class="nav-link">
  其他
</a></div> <a href="https://github.com/zhukunpenglinyutong/notes" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>1.前端</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/1.quickcheck/1.前端/1.HTML和HTML5.html" class="sidebar-link">1.HTML和HTML5</a></li><li><a href="/1.quickcheck/1.前端/2.CSS和CSS3速查.html" class="sidebar-link">2.CSS和CSS3速查</a></li><li><a href="/1.quickcheck/1.前端/3.JS方法速查.html" class="active sidebar-link">3.JS方法速查</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/1.quickcheck/1.前端/3.JS方法速查.html#🍥第一部分-数组" class="sidebar-link">🍥第一部分：数组</a></li><li class="sidebar-sub-header"><a href="/1.quickcheck/1.前端/3.JS方法速查.html#🍡第二部分-对象" class="sidebar-link">🍡第二部分：对象</a></li><li class="sidebar-sub-header"><a href="/1.quickcheck/1.前端/3.JS方法速查.html#🍧第三部分-dom" class="sidebar-link">🍧第三部分：DOM</a></li><li class="sidebar-sub-header"><a href="/1.quickcheck/1.前端/3.JS方法速查.html#🍣第四部分-bom" class="sidebar-link">🍣第四部分：BOM</a></li><li class="sidebar-sub-header"><a href="/1.quickcheck/1.前端/3.JS方法速查.html#🍬第五部分-时间" class="sidebar-link">🍬第五部分：时间</a></li><li class="sidebar-sub-header"><a href="/1.quickcheck/1.前端/3.JS方法速查.html#🍭第六部分-处理js原生具有的一些问题" class="sidebar-link">🍭第六部分：处理JS原生具有的一些问题</a></li><li class="sidebar-sub-header"><a href="/1.quickcheck/1.前端/3.JS方法速查.html#🍹第七部分-其他" class="sidebar-link">🍹第七部分：其他</a></li><li class="sidebar-sub-header"><a href="/1.quickcheck/1.前端/3.JS方法速查.html#📚参考列表-致敬" class="sidebar-link">📚参考列表（致敬）</a></li></ul></li><li><a href="/1.quickcheck/1.前端/4.jQuery及其周边库速查.html" class="sidebar-link">4.jQuery及其周边库速查</a></li><li><a href="/1.quickcheck/1.前端/5.MVVM框架速查（Vue）.html" class="sidebar-link">5.MVVM框架速查（Vue）</a></li><li><a href="/1.quickcheck/1.前端/6.移动端速查.html" class="sidebar-link">6.移动端速查</a></li><li><a href="/1.quickcheck/1.前端/7.其他.html" class="sidebar-link">7.其他</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>2.后端</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>3.运维</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>4.其他</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_3-js方法速查"><a href="#_3-js方法速查" class="header-anchor">#</a> 3.JS方法速查</h1> <blockquote><p>此文章是我用过最多的文章，需要进行重构（重构未完成...）</p></blockquote> <h2 id="🍥第一部分-数组"><a href="#🍥第一部分-数组" class="header-anchor">#</a> 🍥第一部分：数组</h2> <h3 id="_1-数组去重"><a href="#_1-数组去重" class="header-anchor">#</a> 1.数组去重</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> arrs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// ES6</span>
<span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token comment">// [1,2,3,6,5]</span>
<span class="token comment">// 此方法也能去除字符串中重复的项：[...new Set('ababbc')].join('') // abc</span>

<span class="token comment">// 其他去重方法</span>
<span class="token keyword">function</span> <span class="token function">uniq</span><span class="token punctuation">(</span><span class="token parameter">array</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> temp <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> l <span class="token operator">=</span> array<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> l<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> l<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>array<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">===</span> array<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                i<span class="token operator">++</span><span class="token punctuation">;</span>
                j <span class="token operator">=</span> i<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        temp<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> temp<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">uniq</span><span class="token punctuation">(</span>arrs<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1,2,3,6,5]</span>
</code></pre></div><p><strong>数组去重拓展（传参数 指定去除哪个重复的，未完成）</strong></p> <hr> <h3 id="_2-数组合并"><a href="#_2-数组合并" class="header-anchor">#</a> 2.数组合并</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> arr2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span>

<span class="token comment">// ES6</span>
<span class="token punctuation">[</span><span class="token operator">...</span>arr1<span class="token punctuation">,</span> <span class="token operator">...</span>arr2<span class="token punctuation">]</span> <span class="token comment">// [1, 2, 3, 4, 5, 6]</span>


<span class="token comment">// 方法2：concat方法（挂载Array原型链上）</span>
<span class="token keyword">let</span> c <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 2, 3, 4, 5, 6]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 2, 3]  不改变本身</span>
<span class="token comment">// 备注：看似concat似乎是 数组对象的深拷贝，其实，concat 只是对数组的第一层进行深拷贝</span>

<span class="token comment">// 方法3：apply方法</span>
<span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 2, 3, 4, 5, 6] 改变原目标数组</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [4, 5, 6]</span>
</code></pre></div><hr> <h3 id="_3-数组排序-sort"><a href="#_3-数组排序-sort" class="header-anchor">#</a> 3.数组排序（sort）</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> objArr <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'test1'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'test1'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">22</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'test1'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">21</span><span class="token punctuation">}</span>
<span class="token punctuation">]</span>

<span class="token comment">// 第一参数a， 第二参数b ---&gt; a-b升序（从小到大）;b-a降序（从大到小），原理就是 两数计算，如果返回的是负数，就保留前者（我可能说的不对，欢迎纠正）</span>
objArr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> a<span class="token punctuation">.</span>age <span class="token operator">-</span> b<span class="token punctuation">.</span>age
<span class="token punctuation">}</span><span class="token punctuation">)</span> 
<span class="token comment">// 结果会按照年龄从小到大的顺序排列</span>


</code></pre></div><hr> <h3 id="_4-多维数组转一维数组-flat"><a href="#_4-多维数组转一维数组-flat" class="header-anchor">#</a> 4.多维数组转一维数组（flat）</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// ES6 数组的flat()</span>
arr<span class="token punctuation">.</span><span class="token function">flat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// [1, 2, Array(1), 4, 5] 如果这样写的话只能展开二维数组，但是可以加参数Infinity，就是能展开多维数组</span>
arr<span class="token punctuation">.</span><span class="token function">flat</span><span class="token punctuation">(</span><span class="token number">Infinity</span><span class="token punctuation">)</span> <span class="token comment">// [1, 2, 3, 4, 5] 注意如果原数组有空位，flat()方法会跳过空位</span>

<span class="token comment">// 其他方法</span>
<span class="token keyword">const</span> <span class="token function-variable function">deepFlatten</span> <span class="token operator">=</span> <span class="token parameter">arr</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token operator">...</span>arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">v</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token function">deepFlatten</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span> <span class="token operator">:</span> v<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">deepFlatten</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1,2,3,4,5]</span>


<span class="token comment">// 执行效率验证（拓展）</span>
<span class="token comment">// let start = new Date().getTime();</span>
<span class="token comment">// console.log('reduceDimension: ', deepFlatten([1, [2], [[3], 4], 5]);</span>
<span class="token comment">// console.log('耗时: ', new Date().getTime() - start); // *ms</span>

<span class="token comment">// ES6 数组的flatMap() 方法大家可以自行查阅一下，拓展下自己的知识面</span>
</code></pre></div><hr> <h3 id="_5-过滤数组-filter"><a href="#_5-过滤数组-filter" class="header-anchor">#</a> 5.过滤数组（filter）</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> json <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">'john'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">24</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">'zkp'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">21</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">'mike'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">50</span> <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// ES6</span>
json<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span> <span class="token parameter">item</span> <span class="token operator">=&gt;</span> item<span class="token punctuation">.</span>age <span class="token operator">&gt;</span> <span class="token number">22</span><span class="token punctuation">)</span> <span class="token comment">// [{id: 1, name: 'john', age: 24}, { id: 3, name: 'mike', age: 50 }]</span>

<span class="token comment">// ES5</span>

</code></pre></div><hr> <h3 id="_6-判断数组中的项是否满足于某个条件-some-every"><a href="#_6-判断数组中的项是否满足于某个条件-some-every" class="header-anchor">#</a> 6.判断数组中的项是否满足于某个条件（some，every）</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>

<span class="token comment">// ES6 some方法（有符合）</span>
arr<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span> <span class="token parameter">item</span> <span class="token operator">=&gt;</span> item <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
arr<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span> <span class="token parameter">item</span> <span class="token operator">=&gt;</span> item <span class="token operator">&gt;</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// true</span>

<span class="token comment">// ES5 every（全符合）</span>

arr<span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> item <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
arr<span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> item <span class="token operator">&gt;</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// false</span>

<span class="token comment">// 注意：上面两个有不同哦，一个是有符合的判定，一个是全符合的判定</span>
</code></pre></div><hr> <h3 id="_7-操作数组中的每一项-并使其按照一定的逻辑返回-map"><a href="#_7-操作数组中的每一项-并使其按照一定的逻辑返回-map" class="header-anchor">#</a> 7.操作数组中的每一项，并使其按照一定的逻辑返回（map）</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> potatos <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token string">'1001'</span><span class="token punctuation">,</span> weight<span class="token operator">:</span> <span class="token number">50</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token string">'1002'</span><span class="token punctuation">,</span> weight<span class="token operator">:</span> <span class="token number">80</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token string">'1003'</span><span class="token punctuation">,</span> weight<span class="token operator">:</span> <span class="token number">120</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token string">'1004'</span><span class="token punctuation">,</span> weight<span class="token operator">:</span> <span class="token number">40</span> <span class="token punctuation">}</span>
<span class="token punctuation">]</span>

<span class="token comment">// ES6写法</span>
<span class="token keyword">const</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">arr<span class="token punctuation">,</span> key</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">arr</span> <span class="token operator">=&gt;</span>  arr<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token function">fn</span><span class="token punctuation">(</span>potatos<span class="token punctuation">,</span> <span class="token string">'id'</span><span class="token punctuation">)</span> <span class="token comment">// [&quot;1001&quot;, &quot;1002&quot;, &quot;1003&quot;, &quot;1004&quot;]</span>
<span class="token function">fn</span><span class="token punctuation">(</span>potatos<span class="token punctuation">,</span> <span class="token string">'weight'</span><span class="token punctuation">)</span> <span class="token comment">// [50, 80, 120, 40]</span>
</code></pre></div><hr> <h3 id="_8-其他常用的es6-array方法"><a href="#_8-其他常用的es6-array方法" class="header-anchor">#</a> 8.其他常用的ES6 Array方法</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// forEach() 遍历数组</span>

<span class="token comment">// pop() 删除数组中最后一个元素，并返回该元素的值。此方法更改数组的长度</span>

<span class="token comment">// shift() 删除数组中第一个元素，并返回该元素的值。此方法更改数组的长度</span>

<span class="token comment">// push() 将一个或多个元素添加到数组的末尾，并返回该数组的新长度</span>

<span class="token comment">// unshift() 将一个或多个元素添加到数组的开头，并返回该数组的新长度(该方法修改原有数组)</span>

<span class="token comment">// 🔥Array.prototype.filter() 创建一个新数组, 其包含通过所提供函数实现的测试的所有元素，不会改变原有值，如果没符合的返回[]</span>
<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
arr<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span> <span class="token parameter">x</span> <span class="token operator">=&gt;</span> x <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// [2, 3]</span>

<span class="token comment">// Array.prototype.join() 将一个数组（或一个类数组对象）的所有元素连接成一个字符串并返回这个字符串</span>
<span class="token punctuation">[</span><span class="token string">'Fire'</span><span class="token punctuation">,</span> <span class="token string">'Air'</span><span class="token punctuation">,</span> <span class="token string">'Water'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// &quot;Fire,Air,Water&quot;</span>

<span class="token comment">// Array.prototype.slice() 取出任意元素, | 参数一：从哪开始，参数二（可选）结束位置，不选的话 就节选到最后了</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// [1]</span>

<span class="token comment">// Array.prototype.splice() 删除任意元素，操作任意元素 | 参数一：从哪开始 | 参数二：操作元素的个数 | 参数三：插入元素的值...（可以写多个参数三）</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// 删除 [2, 3]</span>

<span class="token comment">// Array.prototype.includes() 用来判断一个数组是否包含一个指定的值，根据情况，如果包含则返回 true，否则返回false。</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// true</span>

<span class="token comment">// Array.prototype.reverse() 颠倒数组</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// [3, 2, 1]</span>

</code></pre></div><p><a href="https://zhukunpenglinyutong.github.io/2.note/3.JavaScript/4.ES6%E4%BB%A5%E5%8F%8AJS%E5%86%85%E7%BD%AE%E6%96%B9%E6%B3%95%E6%A2%B3%E7%90%86.html#%F0%9F%8C%B2%E6%95%B0%E7%BB%84%E6%96%B9%E6%B3%95%E6%A2%B3%E7%90%86" target="_blank" rel="noopener noreferrer">点击此处，查看更详细链接<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <hr> <h3 id="_9-获得数组最大最小值"><a href="#_9-获得数组最大最小值" class="header-anchor">#</a> 9.获得数组最大最小值</h3> <div class="language-js extra-class"><pre class="language-js"><code>
<span class="token comment">// 使用 Math 中的 max/min 方法</span>
<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">22</span><span class="token punctuation">,</span><span class="token number">13</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">55</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// ES6</span>
Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token operator">...</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 55</span>
Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token operator">...</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 6</span>

<span class="token comment">// ES5</span>
Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 55</span>
Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 6</span>

</code></pre></div><hr> <h3 id="_10-获取数组交集"><a href="#_10-获取数组交集" class="header-anchor">#</a> 10.获取数组交集</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// ES6 写法</span>
<span class="token keyword">const</span> <span class="token function-variable function">similarity</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">arr1<span class="token punctuation">,</span> arr2</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> arr1<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">v</span> <span class="token operator">=&gt;</span> arr2<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">similarity</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1,2]</span>

<span class="token comment">// ES5 写法</span>
<span class="token comment">// function similarity(arr1, arr2) {</span>
<span class="token comment">//   return arr2.filter(function(v) {</span>
<span class="token comment">//     return arr1.includes(v)</span>
<span class="token comment">//   })</span>
<span class="token comment">// }</span>
</code></pre></div><hr> <h3 id="_11-数组对象去重"><a href="#_11-数组对象去重" class="header-anchor">#</a> 11.数组对象去重</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">'Jhon1'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>id<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">'sss'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>id<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">'Jhon2'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>id<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">'Jhon3'</span><span class="token punctuation">}</span>
<span class="token punctuation">]</span>

<span class="token comment">// ES6</span>
<span class="token keyword">const</span> <span class="token function-variable function">uniqueElementsBy</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">arr<span class="token punctuation">,</span> fn</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">acc<span class="token punctuation">,</span> v</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>acc<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token parameter">x</span> <span class="token operator">=&gt;</span> <span class="token function">fn</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> acc<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> acc<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 下面的示例表示，去重依据是 id ，就是 id一样的，只留下一个</span>
<span class="token function">uniqueElementsBy</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a<span class="token punctuation">.</span>id <span class="token operator">===</span> b<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token comment">// [{id: 1, name: 'Jhon1'}, {id: 2, name: 'sss'}]</span>

</code></pre></div><hr> <h3 id="_12-数组乱序"><a href="#_12-数组乱序" class="header-anchor">#</a> 12.数组乱序</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">shuffle</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> array <span class="token operator">=</span> arr
  <span class="token keyword">let</span> index <span class="token operator">=</span> array<span class="token punctuation">.</span>length

  <span class="token keyword">while</span> <span class="token punctuation">(</span>index<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    index <span class="token operator">-=</span> <span class="token number">1</span>
    <span class="token keyword">let</span> randomInedx <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> index<span class="token punctuation">)</span>
    <span class="token keyword">let</span> middleware <span class="token operator">=</span> array<span class="token punctuation">[</span>index<span class="token punctuation">]</span>
    array<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> array<span class="token punctuation">[</span>randomInedx<span class="token punctuation">]</span>
    array<span class="token punctuation">[</span>randomInedx<span class="token punctuation">]</span> <span class="token operator">=</span> middleware
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> array
<span class="token punctuation">}</span>

<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>
<span class="token function">shuffle</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token comment">// [3, 4, 2, 5, 1] 结果不定</span>
</code></pre></div><p><strong>还有更简单的方式，欢迎来撩</strong></p> <hr> <h3 id="_13-检查数组中某元素出现的次数"><a href="#_13-检查数组中某元素出现的次数" class="header-anchor">#</a> 13.检查数组中某元素出现的次数</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">countOccurrences</span><span class="token punctuation">(</span><span class="token parameter">arr<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> v</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> v <span class="token operator">===</span> value <span class="token operator">?</span> a <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">:</span> a <span class="token operator">+</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>
<span class="token function">countOccurrences</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// 2</span>
</code></pre></div><hr> <h3 id="_14-检查数组中的所有元素是否相等"><a href="#_14-检查数组中的所有元素是否相等" class="header-anchor">#</a> 14.检查数组中的所有元素是否相等</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">allEqual</span> <span class="token operator">=</span> <span class="token parameter">arr</span> <span class="token operator">=&gt;</span> arr<span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span><span class="token parameter">val</span> <span class="token operator">=&gt;</span> val <span class="token operator">===</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 示例</span>
<span class="token function">allEqual</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token function">allEqual</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre></div><hr> <h3 id="_15-数组对象-求某一列属性的总和"><a href="#_15-数组对象-求某一列属性的总和" class="header-anchor">#</a> 15.数组对象，求某一列属性的总和</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> potatos <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token string">'1001'</span><span class="token punctuation">,</span> weight<span class="token operator">:</span> <span class="token number">50</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token string">'1002'</span><span class="token punctuation">,</span> weight<span class="token operator">:</span> <span class="token number">80</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token string">'1003'</span><span class="token punctuation">,</span> weight<span class="token operator">:</span> <span class="token number">120</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token string">'1004'</span><span class="token punctuation">,</span> weight<span class="token operator">:</span> <span class="token number">40</span> <span class="token punctuation">}</span>
<span class="token punctuation">]</span>

<span class="token comment">// ES6写法</span>
<span class="token keyword">const</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">arr<span class="token punctuation">,</span> key</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">sum<span class="token punctuation">,</span> p</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> p<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">+</span> sum <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span>

<span class="token function">fn</span><span class="token punctuation">(</span>potatos<span class="token punctuation">,</span> <span class="token string">'weight'</span><span class="token punctuation">)</span> <span class="token comment">// 290</span>
<span class="token function">fn</span><span class="token punctuation">(</span>potatos<span class="token punctuation">,</span> <span class="token string">'id'</span><span class="token punctuation">)</span> <span class="token comment">// &quot;10041003100210010&quot; 字符串相加就是这个结果，如果有各自的需求，可以自己加上</span>
</code></pre></div><hr> <h3 id="_16-分割数组-并操作数组每一项-函数"><a href="#_16-分割数组-并操作数组每一项-函数" class="header-anchor">#</a> 16.分割数组，并操作数组每一项（函数）</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * 数组分隔方法，并且可以传入一个处理函数，用来分隔之前处理数组的每一项
 * 
 * @category Array
 * @param {Array} array 需要处理的数组
 * @param {number} [size = 1] 每个数组区块的长度
 * @param {Function} [fn = item =&gt; item] 函数
 * @returns {Array} 返回一个包含拆分区块的新数组（相当于一个二维数组）。
 * @example
 *
 * chunk(['a', 'b', 'c', 'd'], 2)
 * // =&gt; [['a', 'b'], ['c', 'd']]
 *
 * chunk(['a', 'b', 'c', 'd'], 3)
 * // =&gt; [['a', 'b', 'c'], ['d']]
 *
 * chunk([1, 2, 3, 4], 3, item =&gt; item * 2)
 * // =&gt; [[2, 4, 6], [8]]
 */</span>

<span class="token keyword">function</span> <span class="token function">chunk</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> size <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token parameter">item</span> <span class="token operator">=&gt;</span> item<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
    array <span class="token operator">=</span> array<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span>

    size <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>size<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">// 这一句就很妙，当传入值小于0的时候，置为0，大于0的时候，不写，但不知道性能怎么样</span>
    <span class="token keyword">const</span> length <span class="token operator">=</span> array <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> array<span class="token punctuation">.</span>length
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>length <span class="token operator">||</span> size <span class="token operator">&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">let</span> index <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">let</span> resIndex <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>length <span class="token operator">/</span> size<span class="token punctuation">)</span><span class="token punctuation">)</span>
  
    <span class="token keyword">while</span> <span class="token punctuation">(</span>index <span class="token operator">&lt;</span> length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      result<span class="token punctuation">[</span>resIndex<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> array<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token punctuation">(</span>index <span class="token operator">+=</span> size<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> result
<span class="token punctuation">}</span>
</code></pre></div><hr> <h3 id="_17-数组分页算法"><a href="#_17-数组分页算法" class="header-anchor">#</a> 17.数组分页算法</h3> <div class="language-js extra-class"><pre class="language-js"><code>data<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">[</span>每页数据量 <span class="token operator">*</span>（当前页码 <span class="token operator">-</span> <span class="token number">1</span>）<span class="token punctuation">,</span> 每页数据量 <span class="token operator">*</span>（当前页码 <span class="token operator">-</span> <span class="token number">1</span>） <span class="token operator">+</span> 每页数据量<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><hr> <hr> <h2 id="🍡第二部分-对象"><a href="#🍡第二部分-对象" class="header-anchor">#</a> 🍡第二部分：对象</h2> <h3 id="_1-对象合并"><a href="#_1-对象合并" class="header-anchor">#</a> 1.对象合并</h3> <div class="language-js extra-class"><pre class="language-js"><code>
<span class="token comment">// 1️⃣ ES6方法</span>

<span class="token keyword">let</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span>
    a<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
    b<span class="token operator">:</span><span class="token punctuation">{</span> 
        b1<span class="token operator">:</span><span class="token number">2</span> 
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> obj2 <span class="token operator">=</span> <span class="token punctuation">{</span> c<span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">,</span> d<span class="token operator">:</span><span class="token number">4</span> <span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token operator">...</span>obj1<span class="token punctuation">,</span> <span class="token operator">...</span>obj2<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// {a: 1, b: {…}, c: 3, d: 4}</span>
<span class="token comment">// 支持无限制合并，但如果对象之间存在相同属性，则后面属性会覆盖前面属性。*请注意，这仅适用于浅层合并。</span>


<span class="token comment">// 2️⃣ Obj.assign()：可以把任意多个的源对象自身的可枚举属性拷贝给目标对象，然后返回目标对象</span>
<span class="token keyword">let</span> o1 <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> o2 <span class="token operator">=</span> <span class="token punctuation">{</span> b<span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> obj <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>o1<span class="token punctuation">,</span> o2<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { a: 1, b: 2 }</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>o1<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// { a: 1, b: 2 }, 且 **目标对象** 自身也会改变（也就是assign第一个对象）</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>o2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { b: 2 } 不改变</span>

<span class="token comment">// 备注：Object.assign() 拷贝的是属性值。假如源对象的属性值是一个指向对象的引用，它也只拷贝那个引用值</span>
<span class="token comment">// 备注：数组合并用 concat() 方法</span>


<span class="token comment">// 3️⃣ $.extend()</span>

</code></pre></div><hr> <h3 id="_2-浅拷贝-深拷贝"><a href="#_2-浅拷贝-深拷贝" class="header-anchor">#</a> 2.浅拷贝，深拷贝</h3> <p><strong>深拷贝（基础版）</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>
<span class="token comment">/**
 * 此函数，可以完全生成一个新的拷贝对象，也可以将一个对象中的属性拷贝到另一个对象中去
 * @parmas {Object} 需要被拷贝的对象
 * @parmas {Object} 可选，目标对象，如果不填直接返回一个对象
 */</span>

<span class="token keyword">function</span> <span class="token function">deepClone</span><span class="token punctuation">(</span><span class="token parameter">origin<span class="token punctuation">,</span> target <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token comment">// 循环遍历对象的属性</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>key <span class="token keyword">in</span> origin<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        
        <span class="token keyword">let</span> isType <span class="token operator">=</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>origin<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span>

        <span class="token comment">// 克隆对象类型</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>isType <span class="token operator">===</span> <span class="token string">'[object Object]'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            target<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
            <span class="token function">deepClone</span><span class="token punctuation">(</span>origin<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">,</span> target<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span>
            <span class="token keyword">continue</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 克隆数组类型</span>
         <span class="token keyword">if</span> <span class="token punctuation">(</span>isType <span class="token operator">===</span> <span class="token string">'[object Array]'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            target<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
            <span class="token function">deepClone</span><span class="token punctuation">(</span>origin<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">,</span> target<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span>
            <span class="token keyword">continue</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 克隆 Set 类型</span>
      
        <span class="token comment">// 克隆 Map 类型</span>

        <span class="token comment">// 克隆其他类型</span>

        <span class="token comment">// 克隆基础类型</span>
        target<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> origin<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
    
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> target
<span class="token punctuation">}</span>

<span class="token keyword">let</span> zhu <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'朱昆鹏'</span><span class="token punctuation">,</span>
  technology<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'css'</span><span class="token punctuation">,</span> <span class="token string">'html'</span><span class="token punctuation">,</span> <span class="token string">'js'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  girlfriend<span class="token operator">:</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'lyt'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> zhuClone <span class="token operator">=</span> <span class="token function">deepClone</span><span class="token punctuation">(</span>zhu<span class="token punctuation">)</span> <span class="token comment">// zhuClone 内容完全和 zhu 一样</span>

<span class="token keyword">let</span> zhuTest <span class="token operator">=</span> <span class="token punctuation">{</span> test<span class="token operator">:</span> <span class="token string">'测试'</span> <span class="token punctuation">}</span>
<span class="token keyword">let</span> zhuTestClone <span class="token operator">=</span> <span class="token function">deepClone</span><span class="token punctuation">(</span>zhuTest<span class="token punctuation">,</span> zhu<span class="token punctuation">)</span> <span class="token comment">// zhuTestClone 不仅有 zhu所有内容，还有 zhuTest 的内容</span>



<span class="token comment">// JSON.parse(JSON.stringify(obj) 方法进行拷贝，了解就行</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span><span class="token string">'axuebin'</span><span class="token punctuation">,</span>
  <span class="token function-variable function">sayHello</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Hello World'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {name: &quot;axuebin&quot;} ???</span>
<span class="token comment">// undefined、function、symbol 会在转换过程中被忽略，所以就不能用这个方法进行深拷贝</span>


<span class="token comment">// 浅拷贝</span>
<span class="token keyword">function</span> <span class="token function">clone</span><span class="token punctuation">(</span><span class="token parameter">origin<span class="token punctuation">,</span> target <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> target <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> key <span class="token keyword">in</span> origin<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        target<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> origin<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> target<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre></div><hr> <h3 id="_3-拓展-首层浅拷贝"><a href="#_3-拓展-首层浅拷贝" class="header-anchor">#</a> 3.拓展：首层浅拷贝</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code>
<span class="token keyword">function</span> <span class="token function">shallowClone</span><span class="token punctuation">(</span><span class="token parameter">source</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> targetObj <span class="token operator">=</span> source<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Array <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// 判断复制的目标是数组还是对象</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> keys <span class="token keyword">in</span> source<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 遍历目标</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>source<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>keys<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      targetObj<span class="token punctuation">[</span>keys<span class="token punctuation">]</span> <span class="token operator">=</span> source<span class="token punctuation">[</span>keys<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> targetObj<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> originObj <span class="token operator">=</span> <span class="token punctuation">{</span>
  a<span class="token operator">:</span><span class="token string">'a'</span><span class="token punctuation">,</span>
  b<span class="token operator">:</span><span class="token string">'b'</span><span class="token punctuation">,</span>
  c<span class="token operator">:</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  d<span class="token operator">:</span><span class="token punctuation">{</span> dd<span class="token operator">:</span> <span class="token string">'dd'</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> cloneObj <span class="token operator">=</span> <span class="token function">shallowClone</span><span class="token punctuation">(</span>originObj<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>cloneObj <span class="token operator">===</span> originObj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
cloneObj<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token string">'aa'</span><span class="token punctuation">;</span>
cloneObj<span class="token punctuation">.</span>c <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
cloneObj<span class="token punctuation">.</span>d<span class="token punctuation">.</span>dd <span class="token operator">=</span> <span class="token string">'surprise'</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>cloneObj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {a:'aa',b:'b',c:[1,1,1],d:{dd:'surprise'}}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>originObj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {a:'a',b:'b',c:[1,2,3],d:{dd:'surprise'}}</span>

</code></pre></div><hr> <h3 id="_4-判断对象是否为空对象"><a href="#_4-判断对象是否为空对象" class="header-anchor">#</a> 4.判断对象是否为空对象</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code>
<span class="token comment">// 参考：https://www.cnblogs.com/HKCC/p/6083575.html</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>对象<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'{}'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'空'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><hr> <h3 id="_5-判断对象中属性的个数"><a href="#_5-判断对象中属性的个数" class="header-anchor">#</a> 5.判断对象中属性的个数</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'朱昆鹏'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">21</span><span class="token punctuation">}</span>

<span class="token comment">// ES6</span>
Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token comment">// 2</span>

<span class="token comment">// ES5</span>
<span class="token keyword">let</span> <span class="token function-variable function">attributeCount</span> <span class="token operator">=</span> <span class="token parameter">obj</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// 建议加上判断,如果没有扩展对象属性可以不加</span>
            count<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> count<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">attributeCount</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token comment">// 2</span>
</code></pre></div><hr> <h3 id="_6-js-对象转-url-查询字符串"><a href="#_6-js-对象转-url-查询字符串" class="header-anchor">#</a> 6.JS 对象转 url 查询字符串</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">objectToQueryString</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">key</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">'&amp;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">objectToQueryString</span><span class="token punctuation">(</span><span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'Jhon'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span> address<span class="token operator">:</span> <span class="token string">'beijing'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// name=Jhon&amp;age=18&amp;address=beijing</span>
</code></pre></div><hr> <h3 id="_7-对象遍历"><a href="#_7-对象遍历" class="header-anchor">#</a> 7.对象遍历</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> objs <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token number">1</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">'朱昆鹏'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token number">2</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">'林雨桐'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>objs<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span> <span class="token parameter">ket</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span>objs<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 1 {name: '朱昆鹏'} 2 {nama:'林雨桐'}</span>

</code></pre></div><hr> <h3 id="_8-字符串与对象相互转换"><a href="#_8-字符串与对象相互转换" class="header-anchor">#</a> 8.字符串与对象相互转换</h3> <p><a href="https://mmww1024.iteye.com/blog/2427471" target="_blank" rel="noopener noreferrer">链接<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <hr> <h2 id="🍧第三部分-dom"><a href="#🍧第三部分-dom" class="header-anchor">#</a> 🍧第三部分：DOM</h2> <hr> <h3 id="_1-常用dom接口"><a href="#_1-常用dom接口" class="header-anchor">#</a> 1.常用DOM接口</h3> <div class="language-js extra-class"><pre class="language-js"><code>
<span class="token comment">// 获取DOM节点</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 通过ID获取</span>
document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 标签名</span>
document<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 类名</span>
document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 通过选择器获取一个元素</span>
document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 通过选择器获取一组元素</span>
document<span class="token punctuation">.</span>body <span class="token comment">// 获取body的方法</span>
document<span class="token punctuation">.</span><span class="token function">getElementsByName</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token comment">// 通过name属性查找元素节点</span>
document<span class="token punctuation">.</span>documentElement <span class="token comment">// 获取html的方法</span>

<span class="token comment">// 节点类型</span>
元素节点（标签） <span class="token comment">// 属性nodeType返回值1</span>
属性节点（标签里的属性）<span class="token comment">// 返回值2</span>
文本节点 <span class="token comment">// 返回值3</span>
注释节点（comment） <span class="token comment">// 返回值8</span>
document <span class="token comment">// 返回值9</span>
DocumentFragment <span class="token comment">// 返回值11</span>

<span class="token comment">// 节点接口</span>
dom元素<span class="token punctuation">.</span>parentNode <span class="token comment">// 返回当前元素的父节点</span>
dom元素<span class="token punctuation">.</span>childNodes <span class="token comment">// 子节点们</span>
dom元素<span class="token punctuation">.</span>firstChild <span class="token comment">// 第一个子节点</span>
dom元素<span class="token punctuation">.</span>lastChild <span class="token comment">// 最后一个子节点</span>
dom元素<span class="token punctuation">.</span>nextSibling <span class="token comment">// 后一个兄弟节点 previousSibling -&gt; 前一个兄弟节点</span>

<span class="token comment">// 元素节点接口</span>
dom元素<span class="token punctuation">.</span>parentElement <span class="token comment">// 返回当前元素的父元素节点</span>
dom元素<span class="token punctuation">.</span>children <span class="token comment">// 返回当前元素的元素子节点</span>
dom元素<span class="token punctuation">.</span>firstElementChild <span class="token comment">// 第一个元素子节点（IE不兼容）</span>
dom元素<span class="token punctuation">.</span>lastElementChild <span class="token comment">// 最后一个元素子节点（IE不兼容）</span>
dom元素<span class="token punctuation">.</span>nextElementSibling <span class="token comment">// 返回后一个兄弟元素节点</span>
dom元素<span class="token punctuation">.</span>previousElementSibling <span class="token comment">// 返回前一个兄弟元素节点</span>

<span class="token comment">// 节点的四个属性和一个方法</span>
节点<span class="token punctuation">.</span>nodeName <span class="token comment">// 元素的标签名，以大写形式表示（只读）</span>
节点<span class="token punctuation">.</span>nodeValue <span class="token comment">// Text节点或者Comment节点的文本内容，（读写）</span>
节点<span class="token punctuation">.</span>nodeType <span class="token comment">// 该节点的类型（只读）</span>
节点<span class="token punctuation">.</span>attributes <span class="token comment">// Element节点的属性集合</span>
节点<span class="token punctuation">.</span><span class="token function">hasChildNodes</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 判断节点 是否有子节点</span>

<span class="token comment">// Element节点的 属性和方法</span>
dom元素<span class="token punctuation">.</span>innerHtml
dom元素<span class="token punctuation">.</span>innerText
dom元素<span class="token punctuation">.</span>attributes <span class="token comment">// 获取元素身上所有属性构成的集合</span>
dom元素<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;属性名&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;属性值&quot;</span><span class="token punctuation">)</span><span class="token comment">// 给元素设置属性和属性值</span>
dom元素<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;属性名&quot;</span><span class="token punctuation">)</span><span class="token comment">// 获取属性值的方法</span>
dom元素<span class="token punctuation">.</span><span class="token function">removerAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;属性&quot;</span><span class="token punctuation">)</span> <span class="token comment">// 删除属性</span>


<span class="token comment">// ============== 操作接口 ==================</span>

<span class="token comment">// 增</span>
document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 创建元素节点</span>
document<span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 创建文本节点</span>
document<span class="token punctuation">.</span><span class="token function">creaetComment</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//创建注释节点</span>
document<span class="token punctuation">.</span><span class="token function">createDocumentFragment</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 创建文档碎片节点</span>

<span class="token comment">// 插</span>
父元素节点<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>子元素对象<span class="token punctuation">)</span> <span class="token comment">// 在元素节点的子元素最后插入子元素</span>
父元素节点<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>父元素中的子元素a<span class="token punctuation">,</span> 需要插入的子元素b<span class="token punctuation">)</span> <span class="token comment">// 最后的结果是，父元素节点中 b元素插入到了 a的前面</span>


<span class="token comment">// 删</span>
元素节点<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 删除DOM元素（自己）</span>
父元素节点<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>子元素节点<span class="token punctuation">)</span> <span class="token comment">// 删除子元素</span>

<span class="token comment">// 替换</span>
父元素节点<span class="token punctuation">.</span><span class="token function">replaceChild</span><span class="token punctuation">(</span>新的节点<span class="token punctuation">,</span> 需要被替换的子节点<span class="token punctuation">)</span>

<span class="token comment">// 复制</span>
元素节点<span class="token punctuation">.</span><span class="token function">cloneChild</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 返回值是 复制出来的节点</span>

<span class="token comment">// 查看滚动条的滚动距离</span>
window<span class="token punctuation">.</span>pageXOffset <span class="token comment">// x轴滚动距离</span>
window<span class="token punctuation">.</span>pageYOffset <span class="token comment">// y轴滚动距离</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>scrollLeft <span class="token comment">// x轴滚动距离（兼容低版本IE）</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>scrollTop <span class="token comment">// y轴滚动距离（兼容低版本IE）</span>
<span class="token comment">// 如何兼容，因为如果有 pageXOffset，那么另一个兼容性的结果就是0，所以相加就能解决兼容性问题了</span>

<span class="token comment">// 让滚动条滚动</span>
window<span class="token punctuation">.</span><span class="token function">scroll</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token comment">// 滚动到某个位置</span>
window<span class="token punctuation">.</span><span class="token function">scrollTo</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token comment">// 滚动到某个位置</span>
window<span class="token punctuation">.</span><span class="token function">scrollBy</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token comment">// 累加滚动，就是每执行一次，就滚动多少位置</span>

<span class="token comment">// 查看视口的尺寸</span>
window<span class="token punctuation">.</span>innerWidth <span class="token comment">// 视口的宽度</span>
window<span class="token punctuation">.</span>innerHeight <span class="token comment">// 视口的高度</span>
document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientWidth <span class="token comment">// 兼容低版本IE</span>
document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientHeight <span class="token comment">// 兼容低版本IE</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>clientWidth <span class="token comment">// 兼容怪异模式</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>clientHeight <span class="token comment">//兼容怪异模式</span>
document<span class="token punctuation">.</span>compatMode <span class="token comment">// 查看渲染模式 | 'CSS1Compat' 标准模式 | 'BackCompat' 怪异模式</span>

<span class="token comment">// 查看元素的几何尺寸</span>
dom元素<span class="token punctuation">.</span>offsetWidth <span class="token comment">// 元素的宽度</span>
dom元素<span class="token punctuation">.</span>offsetHeight <span class="token comment">// 元素的高度</span>
dom元素<span class="token punctuation">.</span>offsetLeft <span class="token comment">// 元素相当于父级的位置（如果父级有定位的话，如果没有就是相对于文档的距离）</span>
dom元素<span class="token punctuation">.</span>offsetTop <span class="token comment">// 元素相对于父级的位置（如果父级有定位的话，如果没有就是相对于文档的距离）</span>
dom元素<span class="token punctuation">.</span>offsetParent <span class="token comment">// 返回最近有定位的父级DOM节点</span>

<span class="token comment">// 脚本化css</span>
dom元素<span class="token punctuation">.</span>style <span class="token comment">// 查看所有样式表接口（内容可读可写）</span>
dom元素<span class="token punctuation">.</span>style<span class="token punctuation">.</span> <span class="token operator">=</span> <span class="token operator">...</span> <span class="token comment">// 碰到float这样的保留字，前面加css，例如 cssFloat</span>
dom元素<span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token operator">...</span>
dom元素<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token operator">...</span>
dom元素<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token operator">...</span>

window<span class="token punctuation">.</span><span class="token function">getComputedStyle</span><span class="token punctuation">(</span>ele<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token comment">// 返回某个元素，最后展示效果的 样式表对象（CSSStyleDeclaration）| 只读 | IE8以下不兼容</span>

</code></pre></div><hr> <h3 id="_2-判断当前位置是否为页面底部"><a href="#_2-判断当前位置是否为页面底部" class="header-anchor">#</a> 2.判断当前位置是否为页面底部</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">bottomVisible</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientHeight <span class="token operator">+</span> window<span class="token punctuation">.</span>scrollY <span class="token operator">&gt;=</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollHeight <span class="token operator">||</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientHeight<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">bottomVisible</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 返回值为true/false</span>
</code></pre></div><hr> <h3 id="_3-全屏"><a href="#_3-全屏" class="header-anchor">#</a> 3.全屏</h3> <h5 id="_1-进入全屏"><a href="#_1-进入全屏" class="header-anchor">#</a> 1.进入全屏</h5> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">launchFullscreen</span><span class="token punctuation">(</span><span class="token parameter">element</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>element<span class="token punctuation">.</span>requestFullscreen<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    element<span class="token punctuation">.</span><span class="token function">requestFullscreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>element<span class="token punctuation">.</span>mozRequestFullScreen<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    element<span class="token punctuation">.</span><span class="token function">mozRequestFullScreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>element<span class="token punctuation">.</span>msRequestFullscreen<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    element<span class="token punctuation">.</span><span class="token function">msRequestFullscreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>element<span class="token punctuation">.</span>webkitRequestFullscreen<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    element<span class="token punctuation">.</span><span class="token function">webkitRequestFullScreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">launchFullscreen</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>documentElement<span class="token punctuation">)</span> <span class="token comment">// 整个页面进入全屏</span>
<span class="token function">launchFullscreen</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//某个元素进入全屏</span>
</code></pre></div><h5 id="退出全屏"><a href="#退出全屏" class="header-anchor">#</a> 退出全屏</h5> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">exitFullscreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>exitFullscreen<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    document<span class="token punctuation">.</span><span class="token function">exitFullscreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>msExitFullscreen<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    document<span class="token punctuation">.</span><span class="token function">msExitFullscreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>mozCancelFullScreen<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    document<span class="token punctuation">.</span><span class="token function">mozCancelFullScreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>webkitExitFullscreen<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    document<span class="token punctuation">.</span><span class="token function">webkitExitFullscreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">exitFullscreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h5 id="全屏事件"><a href="#全屏事件" class="header-anchor">#</a> 全屏事件</h5> <div class="language-js extra-class"><pre class="language-js"><code>document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;fullscreenchange&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>fullscreenElement<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'进入全屏'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'退出全屏'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><hr> <h3 id="_4-判断dom元素是否具有某个classname"><a href="#_4-判断dom元素是否具有某个classname" class="header-anchor">#</a> 4.判断dom元素是否具有某个className</h3> <p>方法一：使用HTML5新增classList 来操作类名</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>X-UA-Compatible<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ie=edge<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>test<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>te<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    
    <span class="token keyword">let</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>div<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">&quot;te&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>

  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>拓展：</p> <ul><li>classList.add(newClassName)；添加新的类名，如已经存在，取消添加</li> <li>classList.contains(oldClassName)：确定元素中是否包含指定的类名，返回值为true，false</li> <li>classList.remove(oldClassName)：移除已经存在的类名;</li> <li>classList.toggle(className)：如果classList中存在给定的值，删除它，否则，添加它；</li></ul> <p>🦀<strong>感谢掘金用户tjNane分享此方法</strong></p> <hr> <p>方法二：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span>  <span class="token function-variable function">hasClass</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> className</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">(^|\\s)</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>className<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">(\\s|$)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>el<span class="token punctuation">.</span>className<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><hr> <h3 id="_5-返回某元素的第n层祖先元素节点"><a href="#_5-返回某元素的第n层祖先元素节点" class="header-anchor">#</a> 5.返回某元素的第n层祖先元素节点</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">retParent</span><span class="token punctuation">(</span><span class="token parameter">ele<span class="token punctuation">,</span> n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
    <span class="token keyword">while</span><span class="token punctuation">(</span>elem <span class="token operator">&amp;&amp;</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ele <span class="token operator">=</span> ele<span class="token punctuation">.</span>parentElement
        n<span class="token operator">--</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> ele
<span class="token punctuation">}</span>
</code></pre></div><hr> <h3 id="_6-滚动到底部监听函数"><a href="#_6-滚动到底部监听函数" class="header-anchor">#</a> 6.滚动到底部监听函数</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">bottomMonitorEvent</span><span class="token punctuation">(</span><span class="token parameter">dom</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> prizeRecordRoll <span class="token operator">=</span> dom<span class="token punctuation">;</span>
    prizeRecordRoll<span class="token punctuation">.</span><span class="token function-variable function">onscroll</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> scrollTop <span class="token operator">=</span> prizeRecordRoll<span class="token punctuation">.</span>scrollTop<span class="token punctuation">;</span>
        <span class="token keyword">const</span> windowHeight <span class="token operator">=</span> prizeRecordRoll<span class="token punctuation">.</span>clientHeight<span class="token punctuation">;</span>
        <span class="token keyword">const</span> scrollHeight <span class="token operator">=</span> prizeRecordRoll<span class="token punctuation">.</span>scrollHeight<span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>scrollTop <span class="token operator">+</span> windowHeight <span class="token operator">-</span> scrollHeight<span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 到底事件触发，书写业务逻辑</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><hr> <h2 id="🍣第四部分-bom"><a href="#🍣第四部分-bom" class="header-anchor">#</a> 🍣第四部分：BOM</h2> <h3 id="_1-返回当前网页地址"><a href="#_1-返回当前网页地址" class="header-anchor">#</a> 1.返回当前网页地址</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">currentURL</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href
<span class="token punctuation">}</span>

<span class="token function">currentURL</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// &quot;https://juejin.im/timeline&quot;</span>
</code></pre></div><hr> <h3 id="_2-获取滚动条位置"><a href="#_2-获取滚动条位置" class="header-anchor">#</a> 2.获取滚动条位置</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">getScrollPosition</span><span class="token punctuation">(</span><span class="token parameter">el <span class="token operator">=</span> window</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    x<span class="token operator">:</span> <span class="token punctuation">(</span>el<span class="token punctuation">.</span>pageXOffset <span class="token operator">!==</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token operator">?</span> el<span class="token punctuation">.</span>pageXOffset <span class="token operator">:</span> el<span class="token punctuation">.</span>scrollLeft<span class="token punctuation">,</span>
    y<span class="token operator">:</span> <span class="token punctuation">(</span>el<span class="token punctuation">.</span>pageYOffset <span class="token operator">!==</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token operator">?</span> el<span class="token punctuation">.</span>pageYOffset <span class="token operator">:</span> el<span class="token punctuation">.</span>scrollTop
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">getScrollPosition</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// {x: 0, y: 692}</span>
</code></pre></div><hr> <h3 id="_3-获取url中的参数"><a href="#_3-获取url中的参数" class="header-anchor">#</a> 3.获取url中的参数</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">getURLParameters</span><span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> params <span class="token operator">=</span> url<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/([^?=&amp;]+)(=([^&amp;]*))/g</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> params<span class="token operator">?</span>params<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span>
    <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> v</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>a<span class="token punctuation">[</span>v<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> v<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'='</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'='</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">)</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token function">getURLParameters</span><span class="token punctuation">(</span><span class="token string">'http://www.baidu.com/index?name=tyler'</span><span class="token punctuation">)</span> <span class="token comment">// {name: &quot;tyler&quot;}</span>
</code></pre></div><hr> <h3 id="_4-检测设备类型"><a href="#_4-检测设备类型" class="header-anchor">#</a> 4.检测设备类型</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">detectDeviceType</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token regex">/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|OperaMini/i</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>navigator<span class="token punctuation">.</span>userAgent<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">'Mobile'</span> <span class="token operator">:</span> <span class="token string">'Desktop'</span><span class="token punctuation">;</span>

<span class="token function">detectDeviceType</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// &quot;Desktop&quot;</span>
</code></pre></div><hr> <h2 id="🍬第五部分-时间"><a href="#🍬第五部分-时间" class="header-anchor">#</a> 🍬第五部分：时间</h2> <h3 id="_1-date-常用api"><a href="#_1-date-常用api" class="header-anchor">#</a> 1.Date 常用API</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 创建一个时间对象 Fri Jul 12 2019 19:59:59 GMT+0800 (中国标准时间)</span>

<span class="token comment">// 返回自1970年1月1日 00:00:00 UTC到当前时间的毫秒数。</span>
Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1562932828164</span>

<span class="token comment">// 解析一个表示某个日期的字符串，并返回从1970-1-1 00:00:00 UTC 到该日期对象（该日期对象的UTC时间）的毫秒数</span>
Date<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">'2019.7.12'</span><span class="token punctuation">)</span> <span class="token comment">// 1562860800000</span>

<span class="token comment">// 年月日时分秒 获取</span>
<span class="token keyword">let</span> dateMe <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

dateMe<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 2019 | 根据本地时间返回指定日期的年份</span>
dateMe<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 6 | 根据本地时间，返回一个指定的日期对象的月份，为基于0的值（0表示一年中的第一月）。</span>
dateMe<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 12 | 根据本地时间，返回一个指定的日期对象为一个月中的哪一日（从1--31）</span>
dateMe<span class="token punctuation">.</span><span class="token function">getHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 20 |根据本地时间，返回一个指定的日期对象的小时。</span>
dateMe<span class="token punctuation">.</span><span class="token function">getMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 11 | 根据本地时间，返回一个指定的日期对象的分钟数。</span>
dateMe<span class="token punctuation">.</span><span class="token function">getSeconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 29 | 方法根据本地时间，返回一个指定的日期对象的秒数</span>
dateMe<span class="token punctuation">.</span><span class="token function">getMilliseconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 363 | 根据本地时间，返回一个指定的日期对象的毫秒数。</span>

dateMe<span class="token punctuation">.</span><span class="token function">toJSON</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 🔥 &quot;2019-07-12T12:05:15.363Z&quot; | 返回 Date 对象的字符串形式</span>
dateMe<span class="token punctuation">.</span><span class="token function">getDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 5 | 根据本地时间，返回一个具体日期中一周的第几天，0 表示星期天（0 - 6）</span>
dateMe<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 1562933115363 | 方法返回一个时间的格林威治时间数值。</span>
dateMe<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// &quot;Fri Jul 12 2019 20:05:15 GMT+0800 (中国标准时间)&quot; | 返回一个字符串，表示该Date对象</span>
dateMe<span class="token punctuation">.</span><span class="token function">getTimezoneOffset</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// -480（说明比正常时区慢480分钟，所以要加480分钟才对） | 返回协调世界时（UTC）相对于当前时区的时间差值，单位为分钟。</span>
dateMe<span class="token punctuation">.</span><span class="token function">toDateString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// &quot;Fri Jul 12 2019&quot; | 以美式英语和人类易读的形式返回一个日期对象日期部分的字符串。</span>

<span class="token comment">// 时间戳转当前北京时间（非常的好用）</span>
<span class="token keyword">const</span> startMe <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> toLocale <span class="token operator">=</span> startMe<span class="token punctuation">.</span><span class="token function">toLocaleDateString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/\//g</span><span class="token punctuation">,</span> <span class="token string">'-'</span><span class="token punctuation">)</span> <span class="token comment">// 2019-11-20</span>
<span class="token keyword">const</span> toTime <span class="token operator">=</span> startMe<span class="token punctuation">.</span><span class="token function">toTimeString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token comment">// 00:16:26</span>
<span class="token keyword">const</span> theTime <span class="token operator">=</span>  <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>toLocale<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>toTime<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span> <span class="token comment">// 2019-11-20 00:16:26</span>

</code></pre></div><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" rel="noopener noreferrer">MDN 更多详细<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <hr> <h3 id="_2-一个时间戳格式的数字-是多少-天小时分钟秒毫秒"><a href="#_2-一个时间戳格式的数字-是多少-天小时分钟秒毫秒" class="header-anchor">#</a> 2.一个时间戳格式的数字，是多少 天小时分钟秒毫秒</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">formatDuration</span> <span class="token operator">=</span> <span class="token parameter">ms</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>ms <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> ms <span class="token operator">=</span> <span class="token operator">-</span>ms<span class="token punctuation">;</span>
  <span class="token keyword">const</span> time <span class="token operator">=</span> <span class="token punctuation">{</span>
    day<span class="token operator">:</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>ms <span class="token operator">/</span> <span class="token number">86400000</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    hour<span class="token operator">:</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>ms <span class="token operator">/</span> <span class="token number">3600000</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">24</span><span class="token punctuation">,</span>
    minute<span class="token operator">:</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>ms <span class="token operator">/</span> <span class="token number">60000</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">60</span><span class="token punctuation">,</span>
    second<span class="token operator">:</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>ms <span class="token operator">/</span> <span class="token number">1000</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">60</span><span class="token punctuation">,</span>
    millisecond<span class="token operator">:</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>ms<span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">1000</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">val</span> <span class="token operator">=&gt;</span> val<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">!==</span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>key<span class="token punctuation">,</span> val<span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>val<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>key<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>val <span class="token operator">!==</span> <span class="token number">1</span> <span class="token operator">?</span> <span class="token string">'s'</span> <span class="token operator">:</span> <span class="token string">''</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">', '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">formatDuration</span><span class="token punctuation">(</span><span class="token number">3161012</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 52 minutes, 41 seconds, 12 milliseconds</span>
</code></pre></div><hr> <h3 id="_3-格林尼治时间-转-北京时间-可传格林尼治时间-或者-时间戳"><a href="#_3-格林尼治时间-转-北京时间-可传格林尼治时间-或者-时间戳" class="header-anchor">#</a> 3.格林尼治时间 转 北京时间（可传格林尼治时间 或者 时间戳）</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">myTimeToLocal</span><span class="token punctuation">(</span><span class="token parameter">inputTime</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>inputTime <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> inputTime <span class="token operator">!==</span> <span class="token string">'number'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token string">''</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">let</span> localTime <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
	inputTime <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>inputTime<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> offset <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTimezoneOffset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	localTime <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>inputTime <span class="token operator">-</span> offset <span class="token operator">*</span> <span class="token number">60000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toISOString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	localTime <span class="token operator">=</span> localTime<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> localTime<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	localTime <span class="token operator">=</span> localTime<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'T'</span><span class="token punctuation">,</span> <span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> localTime<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">myTimeToLocal</span><span class="token punctuation">(</span><span class="token number">1530540726443</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2018-07-02 22:12:06</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">myTimeToLocal</span><span class="token punctuation">(</span><span class="token string">'2017-11-16T05:23:20.000Z'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2017-11-16 13:23:20</span>
</code></pre></div><hr> <h3 id="_4-获取两个日期相差天数"><a href="#_4-获取两个日期相差天数" class="header-anchor">#</a> 4.获取两个日期相差天数</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">getDaysDiffBetweenDates</span> <span class="token punctuation">(</span><span class="token parameter">dateInitial<span class="token punctuation">,</span> dateFinal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>dateFinal <span class="token operator">-</span> dateInitial<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token number">1000</span> <span class="token operator">*</span> <span class="token number">3600</span> <span class="token operator">*</span> <span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">getDaysDiffBetweenDates</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token string">'2017-12-13'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token string">'2017-12-22'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 9</span>
</code></pre></div><hr> <h3 id="_5-一个数组中-有时间-需要将这个数组按照时间进行排序"><a href="#_5-一个数组中-有时间-需要将这个数组按照时间进行排序" class="header-anchor">#</a> 5.一个数组中，有时间，需要将这个数组按照时间进行排序</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> data <span class="token operator">=</span> <span class="token punctuation">[</span>
<span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  publishTime<span class="token operator">:</span> <span class="token string">&quot;2019-05-14 18:10:29&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  publishTime<span class="token operator">:</span> <span class="token string">&quot;2019-05-14 18:17:29&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
  publishTime<span class="token operator">:</span> <span class="token string">&quot;2019-05-14 15:09:25&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">]</span>

data<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> b<span class="token punctuation">.</span>publishTime <span class="token operator">-</span> a<span class="token punctuation">.</span>publishTime<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 0: {id: 2, publishTime: &quot;2019-05-14 18:17:29&quot;}</span>
<span class="token comment">// 1: {id: 1, publishTime: &quot;2019-05-14 18:10:29&quot;}</span>
<span class="token comment">// 2: {id: 3, publishTime: &quot;2019-05-14 15:09:25&quot;}</span>

</code></pre></div><hr> <h3 id="_6-ios-手机时间格式出现nan的问题"><a href="#_6-ios-手机时间格式出现nan的问题" class="header-anchor">#</a> 6.iOS 手机时间格式出现NaN的问题</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> time <span class="token operator">=</span> <span class="token string">'2019-05-14 18:17:29'</span>
<span class="token keyword">var</span> timeArr <span class="token operator">=</span> time<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token regex">/[- :]/</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;2019&quot;, &quot;05&quot;, &quot;14&quot;, &quot;18&quot;, &quot;17&quot;, &quot;29&quot;]</span>
<span class="token keyword">var</span> resTime <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>timeArr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> timeArr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> timeArr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> timeArr<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> timeArr<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> timeArr<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><hr> <h3 id="_7-判断时间是否到了-兼容性ios-nan问题"><a href="#_7-判断时间是否到了-兼容性ios-nan问题" class="header-anchor">#</a> 7.判断时间是否到了（兼容性IOS NaN问题）</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/*
 * @param { String|Number } 开始时间
 * @param { String|Number } 结束时间
 * @return { Boolean } 时间是否到了
 * @start-time 2019-12-24 18:00
 * @last-time 2019-12-24 18:00
*/</span>
<span class="token keyword">function</span> <span class="token function">isJudgeTimeTool</span><span class="token punctuation">(</span><span class="token parameter">startTime<span class="token punctuation">,</span> endTime</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
    <span class="token keyword">let</span> nowTime <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> endTimeData <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

    <span class="token comment">// 开始时间</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> startTime <span class="token operator">===</span> <span class="token string">'number'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        nowTime <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>startTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> arr <span class="token operator">=</span> startTime<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token regex">/[- :]/</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        nowTime <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 结束时间</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> endTime <span class="token operator">===</span> <span class="token string">'number'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        endTimeData <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>endTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> arr <span class="token operator">=</span> endTime<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token regex">/[- :]/</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        endTimeData <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 相差时间</span>
    <span class="token keyword">const</span> leftTime <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token punctuation">(</span>endTimeData<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span>nowTime<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> leftTime <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><hr> <h2 id="🍭第六部分-处理js原生具有的一些问题"><a href="#🍭第六部分-处理js原生具有的一些问题" class="header-anchor">#</a> 🍭第六部分：处理JS原生具有的一些问题</h2> <h3 id="_1-加减法精度缺失问题"><a href="#_1-加减法精度缺失问题" class="header-anchor">#</a> 1.加减法精度缺失问题</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 加法函数（因为JS小数计算 丢失精度）</span>
<span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">arg1<span class="token punctuation">,</span> arg2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
    <span class="token keyword">let</span> r1<span class="token punctuation">,</span> r2<span class="token punctuation">,</span> m<span class="token punctuation">;</span> 
    <span class="token keyword">try</span> <span class="token punctuation">{</span> r1 <span class="token operator">=</span> arg1<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span> r1 <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">}</span> 
    <span class="token keyword">try</span> <span class="token punctuation">{</span> r2 <span class="token operator">=</span> arg2<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span> r2 <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">}</span> 
    m <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>r1<span class="token punctuation">,</span> r2<span class="token punctuation">)</span><span class="token punctuation">)</span> 
    <span class="token keyword">return</span> <span class="token punctuation">(</span>arg1 <span class="token operator">*</span> m <span class="token operator">+</span> arg2 <span class="token operator">*</span> m<span class="token punctuation">)</span> <span class="token operator">/</span> m 
<span class="token punctuation">}</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 减法函数（因为JS小数计算 丢失精度）</span>
<span class="token keyword">function</span> <span class="token function">sub</span><span class="token punctuation">(</span><span class="token parameter">arg1<span class="token punctuation">,</span> arg2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
    <span class="token keyword">let</span> r1<span class="token punctuation">,</span> r2<span class="token punctuation">,</span> m<span class="token punctuation">,</span> n<span class="token punctuation">;</span> 
    <span class="token keyword">try</span> <span class="token punctuation">{</span> r1 <span class="token operator">=</span> arg1<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span> r1 <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">}</span> 
    <span class="token keyword">try</span> <span class="token punctuation">{</span> r2 <span class="token operator">=</span> arg2<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span> r2 <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">}</span> 
    m <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>r1<span class="token punctuation">,</span> r2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    n <span class="token operator">=</span> <span class="token punctuation">(</span>r1 <span class="token operator">&gt;=</span> r2<span class="token punctuation">)</span> <span class="token operator">?</span> r1 <span class="token operator">:</span> r2<span class="token punctuation">;</span> 
    <span class="token keyword">return</span> <span class="token function">Number</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span>arg1 <span class="token operator">*</span> m <span class="token operator">-</span> arg2 <span class="token operator">*</span> m<span class="token punctuation">)</span> <span class="token operator">/</span> m<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
</code></pre></div><hr> <h3 id="_2-递归优化-尾递归"><a href="#_2-递归优化-尾递归" class="header-anchor">#</a> 2.递归优化（尾递归）</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 尾递归函数 摘自阮一峰ES6 | 自己懒得写了</span>
<span class="token keyword">function</span> <span class="token function">tco</span><span class="token punctuation">(</span><span class="token parameter">f</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> value<span class="token punctuation">;</span>
  <span class="token keyword">let</span> active <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> accumulated <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token function">accumulator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    accumulated<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>active<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      active <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
      <span class="token keyword">while</span> <span class="token punctuation">(</span>accumulated<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        value <span class="token operator">=</span> <span class="token function">f</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> accumulated<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      active <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> value<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 使用</span>
新的函数 <span class="token operator">=</span> <span class="token function">tco</span><span class="token punctuation">(</span>递归函数<span class="token punctuation">)</span>

</code></pre></div><hr> <h3 id="_3-防抖-节流"><a href="#_3-防抖-节流" class="header-anchor">#</a> 3.防抖 &amp;&amp; 节流</h3> <p><strong>防抖：任务频繁触发的情况下，只有任务触发的间隔超过指定间隔的时候，任务才会执行（例如搜索框，只有当用户搜索输入完成之后，停个零点几秒才会服务器发送请求，如果停顿的时间小于设定的，那就还不执行，这个就是防抖）</strong></p> <p><strong>函数防抖就是在函数需要频繁触发情况时，只有足够空闲的时间，才执行一次。经常用于 搜索和拖拽</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">debounce</span><span class="token punctuation">(</span><span class="token parameter">fn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> timeout <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// 创建一个标记用来存放定时器的返回值</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timeout<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 每当用户输入的时候把前一个 setTimeout clear 掉</span>
    timeout <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">// 然后又创建一个新的 setTimeout, 这样就能保证输入字符后的 interval 间隔内如果还有字符输入的话，就不会执行 fn 函数</span>
      <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">debounce</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span> <span class="token comment">// 使用</span>

</code></pre></div><hr> <p><strong>节流：指定时间间隔内只会执行一次任务（例如一个一秒内连续触发的事件，如果用了节流，让其300ms触发一次，那么1s就只能触发3次）</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">throttle</span><span class="token punctuation">(</span><span class="token parameter">fn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> canRun <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// 通过闭包保存一个标记</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>canRun<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span> <span class="token comment">// 在函数开头判断标记是否为true，不为true则return</span>
    canRun <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">// 立即设置为false</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">// 将外部传入的函数的执行放在setTimeout中</span>
      <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// 最后在setTimeout执行完毕后再把标记设置为true(关键)表示可以执行下一次循环了。当定时器没有执行的时候标记永远是false，在开头被return掉</span>
      canRun <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">throttle</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span> <span class="token comment">// 使用</span>
</code></pre></div><p><a href="https://juejin.im/entry/58c0379e44d9040068dc952f" target="_blank" rel="noopener noreferrer">节流和防抖其他好的文章<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <hr> <p><strong>防抖节流其他实现</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * Difference between debounce and throttle
 * In summary, 
 * throttle says, “Hey, we heard you the first time, but if you want to keep going, no problem. 
 * We’ll just ignore you for a while.” 
 * Debounce says, “Looks like you’re still busy. No problem, 
 * we’ll wait for you to finish!”
 */</span>
<span class="token comment">/**
 * 快速书写一个防抖函数
 * @description 只要一直调用, callback 将不会被触发
 * 在一次调用结束后, 只有等待 timeout ms 时间, 才能继续调用 callback
 * immediate 决定触发时机
 * @example 
 * 1. 点击按钮发送请求（保存数据之类的）
 * 2. 搜索时自动联想
 * 3. 自动保存
 * 4. Debouncing a resize/scroll event handler
 */</span>
<span class="token keyword">function</span> <span class="token function">debounce</span><span class="token punctuation">(</span><span class="token parameter">callback<span class="token punctuation">,</span> timeout<span class="token punctuation">,</span> immediate</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> timer<span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> context <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span> <span class="token comment">// 持有执行上下文</span>
    <span class="token keyword">const</span> args <span class="token operator">=</span> arguments<span class="token punctuation">;</span> <span class="token comment">// 记录传参</span>
    <span class="token keyword">const</span> <span class="token function-variable function">later</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      timer <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// 贤者时间过了，重振旗鼓，重置为初始状态</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>immediate<span class="token punctuation">)</span> <span class="token function">callback</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 设置为尾部调用才延时触发</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">const</span> callNow <span class="token operator">=</span> immediate <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>timer<span class="token punctuation">;</span> <span class="token comment">// 如果确认允许首部调用，且首次调用，那么本次立即触发</span>
    <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 杀掉上次的计时器，重新计时</span>
    timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span>later<span class="token punctuation">,</span> timeout<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 重启一个计时器，过了贤者时间之后才触发</span>
    callNow <span class="token operator">&amp;&amp;</span> <span class="token function">callback</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 设置为首部调用立即触发</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">/**
 *  快速书写一个节流函数
 * @description 一直调用 callback, 每隔 timeout ms 时间 callback 触发一次
 * 在 timeout ms 时间内的调用将不触发
 * @example
 * 1. Throttling a button click so we can’t spam click 控制疯狂按钮的响应频率
 * 2. Throttling an API call 控制 API 的调用频率
 * 3. Throttling a mousemove/touchmove event handler 控制频繁触发事件的相应频率
 */</span>
<span class="token comment">// solution1 记录时间比较</span>
<span class="token keyword">function</span> <span class="token function">throttle</span><span class="token punctuation">(</span><span class="token parameter">callback<span class="token punctuation">,</span> timeout</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> triggerTime<span class="token punctuation">;</span> <span class="token comment">// 记录每次真正触发时间</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> context <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span> <span class="token comment">// 持有执行上下文</span>
    <span class="token keyword">const</span> args <span class="token operator">=</span> arguments<span class="token punctuation">;</span> <span class="token comment">// 记录传参</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>triggerTime <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token comment">// 首次调用</span>
      <span class="token operator">||</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> triggerTime <span class="token operator">&gt;</span> timeout<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 贤者时间已经过去</span>
      triggerTime <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 记录真正触发时间</span>
      <span class="token function">callback</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 可以触发回调</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// solution2 间隔时间反转标志位</span>
<span class="token keyword">function</span> <span class="token function">throttle</span><span class="token punctuation">(</span><span class="token parameter">callback<span class="token punctuation">,</span> timeout</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> disable<span class="token punctuation">;</span> <span class="token comment">// 触发回调是否禁用</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> context <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span> <span class="token comment">// 持有执行上下文</span>
    <span class="token keyword">const</span> args <span class="token operator">=</span> arguments<span class="token punctuation">;</span> <span class="token comment">// 记录传参</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>disable<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 首次调用或者贤者时间过了，禁用解除</span>
      <span class="token function">callback</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 可以触发回调</span>
      disable <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// 马上禁用</span>
      <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token parameter">_</span> <span class="token operator">=&gt;</span> disable <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span> timeout<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 贤者时间过了，禁用解除</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><hr> <h2 id="🍹第七部分-其他"><a href="#🍹第七部分-其他" class="header-anchor">#</a> 🍹第七部分：其他</h2> <h3 id="_1-math函数的一些应用"><a href="#_1-math函数的一些应用" class="header-anchor">#</a> 1.Math函数的一些应用</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token number">5.12</span><span class="token punctuation">)</span> <span class="token comment">// 5 | 只保留整数部分（丢弃小数部分）</span>
Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token number">5.12</span><span class="token punctuation">)</span> <span class="token comment">// 5 | 向下取整（效果和parseInt一样）</span>
Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span><span class="token number">5.12</span><span class="token punctuation">)</span> <span class="token comment">// 6 | 向上取整（有小数，整数就+1）</span>

Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span><span class="token number">5.499</span><span class="token punctuation">)</span> <span class="token comment">// 5 | 四舍五入</span>
Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span><span class="token number">5.501</span><span class="token punctuation">)</span> <span class="token comment">// 6 | 四舍五入</span>

Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token comment">// 5 | 绝对值</span>

Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span> <span class="token comment">// 6 | 返回两者中较大的数</span>
Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span> <span class="token comment">// 5 | 返回两者中较小的数</span>

Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 随机数 (0-1)</span>
</code></pre></div><hr> <h3 id="_2-常用正则速查"><a href="#_2-常用正则速查" class="header-anchor">#</a> 2.常用正则速查</h3> <p><strong>消除字符串首尾两端的空格（替换）</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> reg <span class="token operator">=</span> <span class="token regex">/^\s+|\s+$/g</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">' #id div.class '</span><span class="token punctuation">;</span> 
str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>reg<span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token comment">// &quot;#id div.class&quot;</span>
</code></pre></div><p>*<em>把手机号码替换成 <em>（替换）</em></em></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex">/1[24578]\d{9}/</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'姓名：朱昆鹏 手机：15932638907'</span><span class="token punctuation">;</span> <span class="token comment">// 手记号瞎写的</span>
str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>reg<span class="token punctuation">,</span> <span class="token string">'***'</span><span class="token punctuation">)</span> <span class="token comment">//&quot;姓名：朱昆鹏 手机：***&quot;</span>
</code></pre></div><p><strong>替换敏感字（替换）</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">'中国共产党中国人民解放军中华人民共和国'</span><span class="token punctuation">;</span>
    
<span class="token keyword">let</span> r <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/中国|军/g</span><span class="token punctuation">,</span> <span class="token parameter">input</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> t <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>input<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        t <span class="token operator">+=</span> <span class="token string">'*'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> t<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
     
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//**共产党**人民解放*中华人民共和国   </span>
</code></pre></div><p><strong>千位分隔符（替换）</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> reg <span class="token operator">=</span> <span class="token regex">/(\d)(?=(?:\d{3})+$)/g</span>

<span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">'100002003232322'</span><span class="token punctuation">;</span>    
<span class="token keyword">let</span> r <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token punctuation">,</span> <span class="token string">'$1,'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//100,002,003,232,322</span>
</code></pre></div><p><strong>匹配网页标签（匹配）</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex">/&lt;(.+)&gt;.+&lt;\/\1&gt;/</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'朱昆鹏&lt;div&gt;2707509@.qq.com&lt;/div&gt;朱昆鹏'</span><span class="token punctuation">;</span>    
str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;&lt;div&gt;2707509@.qq.com&lt;/div&gt;&quot;]</span>
</code></pre></div><p><strong>验证手记号（验证）</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> reg <span class="token operator">=</span> <span class="token regex">/^1((3[\d])|(4[5,6,9])|(5[0-3,5-9])|(6[5-7])|(7[0-8])|(8[1-3,5-8])|(9[1,8,9]))\d{8}$/</span><span class="token punctuation">;</span>

reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'15932539095'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'234554568997'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//false</span>
</code></pre></div><p><strong>验证邮箱地址（验证）</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> reg <span class="token operator">=</span> <span class="token regex">/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/</span>

reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'2775033@hotmail.com'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'abc@'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//false</span>
</code></pre></div><p><strong>验证身份证（验证）</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> reg <span class="token operator">=</span> <span class="token regex">/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/</span>

reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'31210119651230518X'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true 自己瞎写的</span>
reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'2101196523s230518X'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//false 自己瞎写的</span>
</code></pre></div><p><strong>验证中国邮箱编码（验证）</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> reg <span class="token operator">=</span> <span class="token regex">/^(0[1-7]|1[0-356]|2[0-7]|3[0-6]|4[0-7]|5[1-7]|6[1-7]|7[0-5]|8[013-6])\d{4}$/</span>

reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'065900'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'999999'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//false</span>
</code></pre></div><p><strong>验证ipv4地址正则（验证）</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> reg <span class="token operator">=</span> <span class="token regex">/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/</span>

reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'192.168.1.192'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'127.0.0.1s'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//false</span>
</code></pre></div><p><strong>验证银行卡号（16或19位）</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> reg <span class="token operator">=</span> <span class="token regex">/^([1-9]{1})(\d{15}|\d{18})$/</span>

reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'6222026006705354218'</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><p><strong>验证中文姓名（验证）</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> reg <span class="token operator">=</span> <span class="token regex">/^([\u4e00-\u9fa5\·]{2,10})$/</span>

reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'朱昆鹏'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'Zhu Kunpeng'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//false</span>
</code></pre></div><hr> <h3 id="_3-变换变量"><a href="#_3-变换变量" class="header-anchor">#</a> 3.变换变量</h3> <div class="language-js extra-class"><pre class="language-js"><code>
<span class="token comment">// [letA，letB] = [letB，letA];</span>

<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>b<span class="token punctuation">,</span> a<span class="token punctuation">]</span> <span class="token comment">// a = 2 b = 1</span>

</code></pre></div><hr> <h3 id="_4-格式化对象为json代码"><a href="#_4-格式化对象为json代码" class="header-anchor">#</a> 4.格式化对象为JSON代码</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> formatted <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'Jhon'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span> address<span class="token operator">:</span> <span class="token string">'sz'</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/*
{
    &quot;name&quot;: &quot;Jhon&quot;,
    &quot;age&quot;: 18,
    &quot;address&quot;: &quot;sz&quot;
}
*/</span>

<span class="token comment">// 该字符串化命令有三个参数。第一个是Javascript对象。第二个是可选函数，可用于在JSON进行字符串化时对其执行操作。最后一个参数指示要添加多少空格作为缩进以格式化JSON。省略最后一个参数，JSON将返回一个长行。如果myObj中存在循环引用，则会格式失败。</span>
</code></pre></div><hr> <h3 id="_5-随机生成六位数字验证码"><a href="#_5-随机生成六位数字验证码" class="header-anchor">#</a> 5.随机生成六位数字验证码</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> code <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">1000000</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">padStart</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">)</span> <span class="token comment">// 942377</span>
</code></pre></div><hr> <h3 id="_6-rgb-颜色转-16进制颜色"><a href="#_6-rgb-颜色转-16进制颜色" class="header-anchor">#</a> 6.RGB 颜色转 16进制颜色</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">RGBToHex</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">r<span class="token punctuation">,</span> g<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>r <span class="token operator">&lt;&lt;</span> <span class="token number">16</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>g <span class="token operator">&lt;&lt;</span> <span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">+</span> b<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">padStart</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token string">'0'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">RGBToHex</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">165</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'ffa501'</span>
</code></pre></div><hr> <h3 id="_7-生成随机整数"><a href="#_7-生成随机整数" class="header-anchor">#</a> 7.生成随机整数</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">randomNum</span><span class="token punctuation">(</span><span class="token parameter">min<span class="token punctuation">,</span> max</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>arguments<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span>
      <span class="token keyword">return</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> min <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
    <span class="token keyword">case</span> <span class="token number">2</span><span class="token operator">:</span>
      <span class="token keyword">return</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>max <span class="token operator">-</span> min <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> min<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
    <span class="token keyword">default</span><span class="token operator">:</span>
      <span class="token keyword">return</span> <span class="token number">0</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">randomNum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token comment">// 随机 [1,10]的整数</span>
</code></pre></div><hr> <h3 id="_8-去除空格-1-所有空格-2-前后空格-3-前空格-4-后空格-默认为1"><a href="#_8-去除空格-1-所有空格-2-前后空格-3-前空格-4-后空格-默认为1" class="header-anchor">#</a> 8.去除空格（1-所有空格  2-前后空格  3-前空格 4-后空格 默认为1）</h3> <div class="language-js extra-class"><pre class="language-js"><code>
<span class="token comment">/**
 * trim 去除空格
 * param1  string str 待处理字符串
 * param2  number type 去除空格类型 1-所有空格  2-前后空格  3-前空格 4-后空格 默认为1
 * return  string str 处理后的字符串
 */</span>
<span class="token keyword">function</span> <span class="token function">trim</span><span class="token punctuation">(</span><span class="token parameter">str<span class="token punctuation">,</span> type <span class="token operator">=</span> <span class="token number">1</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">&amp;&amp;</span> type <span class="token operator">!==</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> type <span class="token operator">!==</span> <span class="token number">2</span> <span class="token operator">&amp;&amp;</span> type <span class="token operator">!==</span> <span class="token number">3</span> <span class="token operator">&amp;&amp;</span> type <span class="token operator">!==</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span>
            <span class="token keyword">return</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/\s/g</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">2</span><span class="token operator">:</span>
            <span class="token keyword">return</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/(^\s)|(\s*$)/g</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">3</span><span class="token operator">:</span>
            <span class="token keyword">return</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/(^\s)/g</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">4</span><span class="token operator">:</span>
            <span class="token keyword">return</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/(\s$)/g</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">default</span><span class="token operator">:</span>
            <span class="token keyword">return</span> str<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><hr> <h3 id="_9-大小写转换"><a href="#_9-大小写转换" class="header-anchor">#</a> 9.大小写转换</h3> <div class="language-js extra-class"><pre class="language-js"><code>
<span class="token comment">/**
 * 大小写转换
 * param1 string str 待转换的字符串
 * param2 number type 1-全大写 2-全小写 3-首字母大写 
 * return  string str 处理后的字符串
 */</span>

<span class="token keyword">function</span> <span class="token function">turnCase</span><span class="token punctuation">(</span><span class="token parameter">str<span class="token punctuation">,</span> type</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span>
            <span class="token keyword">return</span> str<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">case</span> <span class="token number">2</span><span class="token operator">:</span>
            <span class="token keyword">return</span> str<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">3</span><span class="token operator">:</span>
            <span class="token keyword">return</span> str<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> str<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">default</span><span class="token operator">:</span>
            <span class="token keyword">return</span> str<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><hr> <h3 id="_10-随机16进制颜色-hexcolor"><a href="#_10-随机16进制颜色-hexcolor" class="header-anchor">#</a> 10.随机16进制颜色 hexColor</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * 随机16进制颜色 hexColor
 * return  string str 带#号的随机16进制颜色
 */</span>

<span class="token keyword">function</span> <span class="token function">hexColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">'#'</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token string">'C'</span><span class="token punctuation">,</span> <span class="token string">'D'</span><span class="token punctuation">,</span> <span class="token string">'E'</span><span class="token punctuation">,</span> <span class="token string">'F'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">6</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> index <span class="token operator">=</span> Number<span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        str <span class="token operator">+=</span> arr<span class="token punctuation">[</span>index<span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> str<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><hr> <h3 id="_11-统计一段文字中指定文字出现次数-keywordscount-骚操作"><a href="#_11-统计一段文字中指定文字出现次数-keywordscount-骚操作" class="header-anchor">#</a> 11.统计一段文字中指定文字出现次数 keywordsCount（骚操作）</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * 关键词统计：统计一段文字中指定文字出现次数 keywordsCount
 * param1 string text 进行统计的文本
 * param2 string keywords 进行统计的关键词
 * return number count 关键词出现次数
 * tip:param1 document.body.innerText--全文统计
 */</span>

<span class="token keyword">function</span> <span class="token function">keywordsCount</span><span class="token punctuation">(</span><span class="token parameter">text<span class="token punctuation">,</span> keywords</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> text<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span>keywords<span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span>
<span class="token punctuation">}</span>

</code></pre></div><hr> <h3 id="_12-好的笔记文章"><a href="#_12-好的笔记文章" class="header-anchor">#</a> 12.好的笔记文章</h3> <ul><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/Events" target="_blank" rel="noopener noreferrer">JS原生事件<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://blog.csdn.net/major_zhang/article/details/78118823" target="_blank" rel="noopener noreferrer">JS选择器 new<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <hr> <h3 id="_13-轮询等待函数"><a href="#_13-轮询等待函数" class="header-anchor">#</a> 13. 轮询等待函数</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * 轮询等待函数
 * 
 * @param {Function} 轮询结束的条件
 * @param {Function} 成功之后的回调函数
 * @param {Number} 轮询时间（默认100ms）
 * @param {Number} 轮询最长的时间（默认1000ms）
 */</span>
<span class="token keyword">function</span> <span class="token function">pollingWaiting</span> <span class="token punctuation">(</span><span class="token parameter">callBack<span class="token punctuation">,</span> resCallBack<span class="token punctuation">,</span> time <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">,</span> lastTime <span class="token operator">=</span> <span class="token number">1000</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  
  <span class="token keyword">let</span> startTime <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> t <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span>  <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      t <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">callBack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token comment">// 此处可以采用尾递归优化，来防止占用过多内存</span>
              console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'startTime'</span><span class="token punctuation">,</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> startTime <span class="token operator">&gt;</span> lastTime<span class="token punctuation">)</span>
              <span class="token punctuation">(</span>Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> startTime <span class="token operator">&gt;</span> lastTime<span class="token punctuation">)</span> <span class="token operator">?</span> window<span class="token punctuation">.</span><span class="token function">clearInterval</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
              <span class="token function">resCallBack</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> time<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 示例</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  a <span class="token operator">=</span> <span class="token number">2</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span>

<span class="token function">pollingWaiting</span><span class="token punctuation">(</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> a <span class="token operator">===</span> <span class="token number">2</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'触发了'</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">800</span><span class="token punctuation">)</span>

<span class="token comment">// 4 startTime false</span>
<span class="token comment">// 触发了 2</span>
</code></pre></div><hr> <h3 id="_14-大数值转换为万-亿"><a href="#_14-大数值转换为万-亿" class="header-anchor">#</a> 14.大数值转换为万，亿</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * 大数值转换为万，亿函数
 * 
 * @param {Number} 大数
 * @param {Number} 保留几位小数
 */</span>
<span class="token keyword">function</span> <span class="token function">numConversion</span> <span class="token punctuation">(</span><span class="token parameter">num<span class="token punctuation">,</span> point <span class="token operator">=</span> <span class="token number">2</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

  <span class="token keyword">let</span> numStr <span class="token operator">=</span> num<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token comment">// 去掉小数点后的数值字符串</span>
  <span class="token keyword">let</span> numLen <span class="token operator">=</span> numStr<span class="token punctuation">.</span>length

  <span class="token keyword">if</span> <span class="token punctuation">(</span>numLen <span class="token operator">&lt;</span> <span class="token number">6</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> numStr
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>numLen <span class="token operator">&gt;=</span> <span class="token number">6</span> <span class="token operator">&amp;&amp;</span> numLen <span class="token operator">&lt;=</span> <span class="token number">8</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> decimal <span class="token operator">=</span> numStr<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>numLen <span class="token operator">-</span> <span class="token number">4</span><span class="token punctuation">,</span> numLen <span class="token operator">-</span> <span class="token number">4</span> <span class="token operator">+</span> point<span class="token punctuation">)</span>
    <span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>num <span class="token operator">/</span> <span class="token number">10000</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'.'</span> <span class="token operator">+</span> decimal <span class="token operator">+</span> <span class="token string">'万'</span>
    <span class="token keyword">return</span> res
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>numLen <span class="token operator">&gt;</span> <span class="token number">8</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> decimal <span class="token operator">=</span> numStr<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>numLen <span class="token operator">-</span> <span class="token number">8</span><span class="token punctuation">,</span> numLen <span class="token operator">-</span> <span class="token number">8</span> <span class="token operator">+</span> point<span class="token punctuation">)</span>
    <span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>num <span class="token operator">/</span> <span class="token number">100000000</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'.'</span> <span class="token operator">+</span> decimal <span class="token operator">+</span> <span class="token string">'亿'</span>
    <span class="token keyword">return</span> res
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">numConversion</span><span class="token punctuation">(</span><span class="token number">12345</span><span class="token punctuation">)</span> <span class="token comment">// 12345</span>
<span class="token function">numConversion</span><span class="token punctuation">(</span><span class="token number">1234567</span><span class="token punctuation">)</span> <span class="token comment">// 123.45万</span>
<span class="token function">numConversion</span><span class="token punctuation">(</span><span class="token number">123456789</span><span class="token punctuation">)</span> <span class="token comment">// 1.23亿</span>
</code></pre></div><hr> <h3 id="_15-常见的xss转义场景"><a href="#_15-常见的xss转义场景" class="header-anchor">#</a> 15.常见的XSS转义场景</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 转义HTML特殊字符</span>
<span class="token keyword">function</span> <span class="token function">HtmlEncode</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> hex <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token string">'0'</span><span class="token punctuation">,</span><span class="token string">'1'</span><span class="token punctuation">,</span><span class="token string">'2'</span><span class="token punctuation">,</span><span class="token string">'3'</span><span class="token punctuation">,</span><span class="token string">'4'</span><span class="token punctuation">,</span><span class="token string">'5'</span><span class="token punctuation">,</span><span class="token string">'6'</span><span class="token punctuation">,</span><span class="token string">'7'</span><span class="token punctuation">,</span><span class="token string">'8'</span><span class="token punctuation">,</span><span class="token string">'9'</span><span class="token punctuation">,</span><span class="token string">'a'</span><span class="token punctuation">,</span><span class="token string">'b'</span><span class="token punctuation">,</span><span class="token string">'c'</span><span class="token punctuation">,</span><span class="token string">'d'</span><span class="token punctuation">,</span><span class="token string">'e'</span><span class="token punctuation">,</span><span class="token string">'f'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> preescape <span class="token operator">=</span> str<span class="token punctuation">;</span>
    <span class="token keyword">var</span> escaped <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> preescape<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">var</span> p <span class="token operator">=</span> preescape<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        escaped <span class="token operator">=</span> escaped <span class="token operator">+</span> <span class="token function">escapeCharx</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">return</span> escaped<span class="token punctuation">;</span>
                    
    <span class="token keyword">function</span> <span class="token function">escapeCharx</span><span class="token punctuation">(</span><span class="token parameter">original</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">var</span> found<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> thechar<span class="token operator">=</span>original<span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">switch</span><span class="token punctuation">(</span>thechar<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">case</span> <span class="token number">10</span><span class="token operator">:</span> <span class="token keyword">return</span> <span class="token string">&quot;&lt;br/&gt;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token comment">//newline</span>
            <span class="token keyword">case</span> <span class="token number">32</span><span class="token operator">:</span> <span class="token keyword">return</span> <span class="token string">&quot;&amp;nbsp;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token comment">//space</span>
            <span class="token keyword">case</span> <span class="token number">34</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;quot;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token comment">//&quot;</span>
            <span class="token keyword">case</span> <span class="token number">38</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;amp;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token comment">//&amp;</span>
            <span class="token keyword">case</span> <span class="token number">39</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;#x27;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token comment">//'</span>
            <span class="token keyword">case</span> <span class="token number">47</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;#x2F;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token comment">// /</span>
            <span class="token keyword">case</span> <span class="token number">60</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;lt;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token comment">//&lt;</span>
            <span class="token keyword">case</span> <span class="token number">62</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;gt;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token comment">//&gt;</span>
            <span class="token keyword">case</span> <span class="token number">198</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;AElig;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token number">193</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;Aacute;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token number">194</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;Acirc;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> 
            <span class="token keyword">case</span> <span class="token number">192</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;Agrave;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> 
            <span class="token keyword">case</span> <span class="token number">197</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;Aring;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> 
            <span class="token keyword">case</span> <span class="token number">195</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;Atilde;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> 
            <span class="token keyword">case</span> <span class="token number">196</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;Auml;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> 
            <span class="token keyword">case</span> <span class="token number">199</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;Ccedil;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> 
            <span class="token keyword">case</span> <span class="token number">208</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;ETH;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token number">201</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;Eacute;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> 
            <span class="token keyword">case</span> <span class="token number">202</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;Ecirc;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> 
            <span class="token keyword">case</span> <span class="token number">200</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;Egrave;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> 
            <span class="token keyword">case</span> <span class="token number">203</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;Euml;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token number">205</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;Iacute;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token number">206</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;Icirc;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> 
            <span class="token keyword">case</span> <span class="token number">204</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;Igrave;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> 
            <span class="token keyword">case</span> <span class="token number">207</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;Iuml;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token number">209</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;Ntilde;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> 
            <span class="token keyword">case</span> <span class="token number">211</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;Oacute;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token number">212</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;Ocirc;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> 
            <span class="token keyword">case</span> <span class="token number">210</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;Ograve;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> 
            <span class="token keyword">case</span> <span class="token number">216</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;Oslash;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> 
            <span class="token keyword">case</span> <span class="token number">213</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;Otilde;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> 
            <span class="token keyword">case</span> <span class="token number">214</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;Ouml;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token number">222</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;THORN;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> 
            <span class="token keyword">case</span> <span class="token number">218</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;Uacute;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> 
            <span class="token keyword">case</span> <span class="token number">219</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;Ucirc;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> 
            <span class="token keyword">case</span> <span class="token number">217</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;Ugrave;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> 
            <span class="token keyword">case</span> <span class="token number">220</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;Uuml;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> 
            <span class="token keyword">case</span> <span class="token number">221</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;Yacute;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token number">225</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;aacute;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> 
            <span class="token keyword">case</span> <span class="token number">226</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;acirc;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> 
            <span class="token keyword">case</span> <span class="token number">230</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;aelig;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> 
            <span class="token keyword">case</span> <span class="token number">224</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;agrave;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> 
            <span class="token keyword">case</span> <span class="token number">229</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;aring;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> 
            <span class="token keyword">case</span> <span class="token number">227</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;atilde;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> 
            <span class="token keyword">case</span> <span class="token number">228</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;auml;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> 
            <span class="token keyword">case</span> <span class="token number">231</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;ccedil;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> 
            <span class="token keyword">case</span> <span class="token number">233</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;eacute;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token number">234</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;ecirc;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> 
            <span class="token keyword">case</span> <span class="token number">232</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;egrave;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> 
            <span class="token keyword">case</span> <span class="token number">240</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;eth;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> 
            <span class="token keyword">case</span> <span class="token number">235</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;euml;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> 
            <span class="token keyword">case</span> <span class="token number">237</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;iacute;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> 
            <span class="token keyword">case</span> <span class="token number">238</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;icirc;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> 
            <span class="token keyword">case</span> <span class="token number">236</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;igrave;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> 
            <span class="token keyword">case</span> <span class="token number">239</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;iuml;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> 
            <span class="token keyword">case</span> <span class="token number">241</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;ntilde;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> 
            <span class="token keyword">case</span> <span class="token number">243</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;oacute;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token number">244</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;ocirc;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> 
            <span class="token keyword">case</span> <span class="token number">242</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;ograve;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> 
            <span class="token keyword">case</span> <span class="token number">248</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;oslash;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> 
            <span class="token keyword">case</span> <span class="token number">245</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;otilde;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token number">246</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;ouml;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> 
            <span class="token keyword">case</span> <span class="token number">223</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;szlig;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> 
            <span class="token keyword">case</span> <span class="token number">254</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;thorn;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> 
            <span class="token keyword">case</span> <span class="token number">250</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;uacute;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> 
            <span class="token keyword">case</span> <span class="token number">251</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;ucirc;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> 
            <span class="token keyword">case</span> <span class="token number">249</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;ugrave;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> 
            <span class="token keyword">case</span> <span class="token number">252</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;uuml;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> 
            <span class="token keyword">case</span> <span class="token number">253</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;yacute;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> 
            <span class="token keyword">case</span> <span class="token number">255</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;yuml;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token number">162</span><span class="token operator">:</span><span class="token keyword">return</span> <span class="token string">&quot;&amp;cent;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> 
            <span class="token keyword">case</span> <span class="token string">'\r'</span><span class="token operator">:</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">default</span><span class="token operator">:</span>
                found<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>found<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>thechar<span class="token operator">&gt;</span><span class="token number">127</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">var</span> c<span class="token operator">=</span>thechar<span class="token punctuation">;</span>
                <span class="token keyword">var</span> a4<span class="token operator">=</span>c<span class="token operator">%</span><span class="token number">16</span><span class="token punctuation">;</span>
                c<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>c<span class="token operator">/</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
                <span class="token keyword">var</span> a3<span class="token operator">=</span>c<span class="token operator">%</span><span class="token number">16</span><span class="token punctuation">;</span>
                c<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>c<span class="token operator">/</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">var</span> a2<span class="token operator">=</span>c<span class="token operator">%</span><span class="token number">16</span><span class="token punctuation">;</span>
                c<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>c<span class="token operator">/</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">var</span> a1<span class="token operator">=</span>c<span class="token operator">%</span><span class="token number">16</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> <span class="token string">&quot;&amp;#x&quot;</span><span class="token operator">+</span>hex<span class="token punctuation">[</span>a1<span class="token punctuation">]</span><span class="token operator">+</span>hex<span class="token punctuation">[</span>a2<span class="token punctuation">]</span><span class="token operator">+</span>hex<span class="token punctuation">[</span>a3<span class="token punctuation">]</span><span class="token operator">+</span>hex<span class="token punctuation">[</span>a4<span class="token punctuation">]</span><span class="token operator">+</span><span class="token string">&quot;;&quot;</span><span class="token punctuation">;</span>        
            <span class="token punctuation">}</span>
            <span class="token keyword">else</span><span class="token punctuation">{</span>
                <span class="token keyword">return</span> original<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>    
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 转义JS特殊字符</span>
<span class="token keyword">function</span> <span class="token function">JavaScriptEncode</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> 
     
    <span class="token keyword">var</span> hex<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token string">'0'</span><span class="token punctuation">,</span><span class="token string">'1'</span><span class="token punctuation">,</span><span class="token string">'2'</span><span class="token punctuation">,</span><span class="token string">'3'</span><span class="token punctuation">,</span><span class="token string">'4'</span><span class="token punctuation">,</span><span class="token string">'5'</span><span class="token punctuation">,</span><span class="token string">'6'</span><span class="token punctuation">,</span><span class="token string">'7'</span><span class="token punctuation">,</span><span class="token string">'8'</span><span class="token punctuation">,</span><span class="token string">'9'</span><span class="token punctuation">,</span><span class="token string">'a'</span><span class="token punctuation">,</span><span class="token string">'b'</span><span class="token punctuation">,</span><span class="token string">'c'</span><span class="token punctuation">,</span><span class="token string">'d'</span><span class="token punctuation">,</span><span class="token string">'e'</span><span class="token punctuation">,</span><span class="token string">'f'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
    <span class="token keyword">function</span> <span class="token function">changeTo16Hex</span><span class="token punctuation">(</span><span class="token parameter">charCode</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;\\x&quot;</span> <span class="token operator">+</span> charCode<span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">function</span> <span class="token function">encodeCharx</span><span class="token punctuation">(</span><span class="token parameter">original</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        
        <span class="token keyword">var</span> found <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> thecharchar <span class="token operator">=</span> original<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> thechar <span class="token operator">=</span> original<span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">switch</span><span class="token punctuation">(</span>thecharchar<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">case</span> <span class="token string">'\n'</span><span class="token operator">:</span> <span class="token keyword">return</span> <span class="token string">&quot;\\n&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token comment">//newline</span>
            <span class="token keyword">case</span> <span class="token string">'\r'</span><span class="token operator">:</span> <span class="token keyword">return</span> <span class="token string">&quot;\\r&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token comment">//Carriage return</span>
            <span class="token keyword">case</span> <span class="token string">'\''</span><span class="token operator">:</span> <span class="token keyword">return</span> <span class="token string">&quot;\\'&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token string">'&quot;'</span><span class="token operator">:</span> <span class="token keyword">return</span> <span class="token string">&quot;\\\&quot;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token string">'\&amp;'</span><span class="token operator">:</span> <span class="token keyword">return</span> <span class="token string">&quot;\\&amp;&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token string">'\\'</span><span class="token operator">:</span> <span class="token keyword">return</span> <span class="token string">&quot;\\\\&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token string">'\t'</span><span class="token operator">:</span> <span class="token keyword">return</span> <span class="token string">&quot;\\t&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token string">'\b'</span><span class="token operator">:</span> <span class="token keyword">return</span> <span class="token string">&quot;\\b&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token string">'\f'</span><span class="token operator">:</span> <span class="token keyword">return</span> <span class="token string">&quot;\\f&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token string">'/'</span><span class="token operator">:</span> <span class="token keyword">return</span> <span class="token string">&quot;\\x2F&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token string">'&lt;'</span><span class="token operator">:</span> <span class="token keyword">return</span> <span class="token string">&quot;\\x3C&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token string">'&gt;'</span><span class="token operator">:</span> <span class="token keyword">return</span> <span class="token string">&quot;\\x3E&quot;</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">default</span><span class="token operator">:</span>
                found<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>found<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>thechar <span class="token operator">&gt;</span> <span class="token number">47</span> <span class="token operator">&amp;&amp;</span> thechar <span class="token operator">&lt;</span> <span class="token number">58</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">//数字</span>
                <span class="token keyword">return</span> original<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            
            <span class="token keyword">if</span><span class="token punctuation">(</span>thechar <span class="token operator">&gt;</span> <span class="token number">64</span> <span class="token operator">&amp;&amp;</span> thechar <span class="token operator">&lt;</span> <span class="token number">91</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">//大写字母</span>
                <span class="token keyword">return</span> original<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">if</span><span class="token punctuation">(</span>thechar <span class="token operator">&gt;</span> <span class="token number">96</span> <span class="token operator">&amp;&amp;</span> thechar <span class="token operator">&lt;</span> <span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">//小写字母</span>
                <span class="token keyword">return</span> original<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>        
            
            <span class="token keyword">if</span><span class="token punctuation">(</span>thechar<span class="token operator">&gt;</span><span class="token number">127</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//大于127用unicode</span>
                <span class="token keyword">var</span> c <span class="token operator">=</span> thechar<span class="token punctuation">;</span>
                <span class="token keyword">var</span> a4 <span class="token operator">=</span> c<span class="token operator">%</span><span class="token number">16</span><span class="token punctuation">;</span>
                c <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>c<span class="token operator">/</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
                <span class="token keyword">var</span> a3 <span class="token operator">=</span> c<span class="token operator">%</span><span class="token number">16</span><span class="token punctuation">;</span>
                c <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>c<span class="token operator">/</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">var</span> a2 <span class="token operator">=</span> c<span class="token operator">%</span><span class="token number">16</span><span class="token punctuation">;</span>
                c <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>c<span class="token operator">/</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">var</span> a1 <span class="token operator">=</span> c<span class="token operator">%</span><span class="token number">16</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> <span class="token string">&quot;\\u&quot;</span><span class="token operator">+</span>hex<span class="token punctuation">[</span>a1<span class="token punctuation">]</span><span class="token operator">+</span>hex<span class="token punctuation">[</span>a2<span class="token punctuation">]</span><span class="token operator">+</span>hex<span class="token punctuation">[</span>a3<span class="token punctuation">]</span><span class="token operator">+</span>hex<span class="token punctuation">[</span>a4<span class="token punctuation">]</span><span class="token operator">+</span><span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>        
            <span class="token punctuation">}</span>
            <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token function">changeTo16Hex</span><span class="token punctuation">(</span>original<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>     
  
    <span class="token keyword">var</span> preescape <span class="token operator">=</span> str<span class="token punctuation">;</span>
    <span class="token keyword">var</span> escaped <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> preescape<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        escaped <span class="token operator">=</span> escaped <span class="token operator">+</span> <span class="token function">encodeCharx</span><span class="token punctuation">(</span>preescape<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> escaped<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><hr> <h2 id="📚参考列表-致敬"><a href="#📚参考列表-致敬" class="header-anchor">#</a> 📚参考列表（致敬）</h2> <ul><li><a href="https://30secondsofcode.org/" target="_blank" rel="noopener noreferrer">30s-code<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://juejin.im/post/5d01bd04f265da1b7a4b6e03#heading-2" target="_blank" rel="noopener noreferrer">掘金文章-2019.6.17日整理<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://qishaoxuan.github.io/js_tricks/" target="_blank" rel="noopener noreferrer">js tricks<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://github.com/any86/any-rule" target="_blank" rel="noopener noreferrer">正则参考，感谢<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://juejin.im/user/59df61ec51882578ce26ee6e" target="_blank" rel="noopener noreferrer">掘金作者-前端小智 感谢<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://github.com/lengyuexin/blink/blob/master/blink.js" target="_blank" rel="noopener noreferrer">GitHub lengyuexin 感谢<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>日常工作总结</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/1.quickcheck/1.前端/2.CSS和CSS3速查.html" class="prev">
        2.CSS和CSS3速查
      </a></span> <span class="next"><a href="/1.quickcheck/1.前端/4.jQuery及其周边库速查.html">
        4.jQuery及其周边库速查
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.a28e9894.js" defer></script><script src="/assets/js/2.b5be6ff6.js" defer></script><script src="/assets/js/8.6639ecf1.js" defer></script><script src="/assets/js/3.87d40112.js" defer></script>
  </body>
</html>
