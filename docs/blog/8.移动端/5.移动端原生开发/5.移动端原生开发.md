---
title: 5.ç§»åŠ¨ç«¯åŸç”Ÿå¼€å‘
date: 2020-01-30 00:00:00
permalink: 
tag: 
 - blog
 - 8.ç§»åŠ¨ç«¯
---

## ç¬¬ä¸€ç« ï¼šAndroidç³»ç»Ÿç®€ä»‹å’Œç¯å¢ƒæ­å»º

ç¯å¢ƒæ­å»ºæ˜¯çœŸçš„éš¾...ï¼Œæˆ‘è¿™é‡Œç”¨çš„æ˜¯ android Studio Mac ç‰ˆæœ¬

---

## ç¬¬äºŒç« ï¼šAndroidåŸºç¡€UIä½¿ç”¨

> å¸ƒå±€ç®¡ç†å™¨ä¹‹é—´çš„ç»§æ‰¿å…³ç³»ï¼šå¸ƒå±€ç®¡ç†å™¨éƒ½æ˜¯ä»¥ViewGroupï¼ˆè§†å›¾ç»„ï¼Œè¿™ä¸ªæ˜¯é€šè¿‡Viewç»§æ‰¿æ¥çš„ï¼‰ä¸ºåŸºç±»æ´¾ç”Ÿå‡ºæ¥çš„ï¼Œä½¿ç”¨å¸ƒå±€ç®¡ç†å™¨å¯ä»¥é€‚é…ä¸åŒæ‰‹æœºå±å¹•çš„åˆ†è¾¨ç‡ï¼Œå°ºå¯¸å¤§å°

---

### ğŸ”¥ ç¬¬ä¸€èŠ‚ï¼šAndroidå¸ƒå±€ï¼ˆçº¿æ€§å¸ƒå±€ï¼‰

> çº¿æ€§å¸ƒå±€ï¼ˆLinearLayoutï¼‰ï¼šæŒ‰ç…§å‚ç›´æˆ–è€…æ°´å¹³æ–¹å‘å¸ƒå±€çš„ç»„ä»¶

é€šè¿‡ android:orientation å±æ€§è®¾ç½®çº¿æ€§å¸ƒå±€æ–¹å‘

é€šç”¨å±æ€§ï¼ˆæ¯ä¸ªæ§ä»¶éƒ½è¦è®¾ç½®çš„ï¼‰

- android:layout_width="wrap_content"  å½“å‰ç»„ä»¶çš„å®½åº¦
    - å€¼ï¼šwrap_contentï¼šåŒ…è£¹å†…å®¹
    - å€¼ï¼šmatch_parentï¼šåŒ¹é…çˆ¶æ§ä»¶
- android:layout_height="wrap_content" å½“å‰ç»„ä»¶çš„é«˜åº¦
    - å€¼ï¼šwrap_contentï¼šåŒ…è£¹å†…å®¹
    - å€¼ï¼šmatch_parentï¼šåŒ¹é…çˆ¶æ§ä»¶
- android:orientation è®¾ç½®å¸ƒå±€æ–¹å‘
    - horizontalï¼šæŒ‰ç…§æ°´å¹³æ–¹å‘æ‘†æ”¾
    - verticalï¼šå‚ç›´æ‘†æ”¾
- android:gravity ç”¨æ¥æ§åˆ¶ç»„ä»¶çš„å¯¹é½æ–¹å¼
- android:layout_gravity è®¾ç½®çš„æ˜¯æœ¬èº«çš„å¯¹é½æ–¹å¼
- layout_weight æ§åˆ¶å„ä¸ªç»„ä»¶åœ¨å¸ƒå±€ä¸­çš„ç›¸å¯¹å¤§å°
- android:paddingï¼šå†…è¾¹è·
    - android:paddingTop="50dp" ï¼šå†…è¾¹è·ï¼ˆé¡¶éƒ¨ï¼‰
    - ...
    - androidï¼špadding="" ï¼šå†…è¾¹è·ï¼ˆå››ä¸ªæ–¹å‘ï¼Œå’Œcssç±»ä¼¼ï¼‰
- android:layout_marginï¼šå¤–è¾¹è·
    - android:layout_marginTop="50dp"ï¼šå¤–è¾¹è·ï¼ˆé¡¶éƒ¨ï¼‰
    - ...
    - android:layout_marginï¼ˆå››ä¸ªæ–¹å‘ï¼‰

---

éé€šç”¨å¸ƒå±€

- android:gravityï¼šæ§åˆ¶å®¹å™¨å†…å­æ§ä»¶çš„æ–¹å‘
    - å€¼ï¼šleft,right,top,bottom
    - top|rightï¼ˆä¸¤ä¸ªå±æ€§ä¸€èµ·åŠ ï¼Œå³ä¸Šï¼‰
    - center(å‚ç›´æ°´å¹³å±…ä¸­)ï¼Œcenter_horizontalï¼ˆæ°´å¹³å±…ä¸­ï¼‰ï¼Œcenter_verticalï¼ˆå‚ç›´å±…ä¸­ï¼‰
- android:layout_gravityï¼šè®¾ç½®æœ¬èº«çš„æ–¹å‘ï¼ˆå¸¸ç”¨åœ¨å­ç»„ä»¶ä¸­ï¼Œå–å€¼æ–¹å‘å’Œandroid:gravityä¸€æ ·ï¼‰
- æƒé‡å¸ƒå±€ï¼šç­‰åˆ†ï¼Œç±»ä¼¼äºcssæ …æ ¼å¸ƒå±€ï¼ˆå€¼è¶Šå¤§ï¼Œå ç”¨çš„ç©ºé—´è¶Šå¤§ï¼‰
    - android:layout_weight="1"
    - android:layout_height="1"

---

å¸¸ç”¨å•ä½

- è®¾ç½®é•¿å®½çš„æ—¶å€™ï¼Œdpï¼ˆdipï¼‰
- ä½¿ç”¨å­—ä½“çš„æ—¶å€™ï¼Œä½¿ç”¨sp
- inï¼šè¡¨ç¤ºè‹±å¯¸ï¼ˆå±å¹•ç‰©ç†å°ºå¯¸ï¼‰
- mmï¼šè¡¨ç¤ºæ¯«ç±³ï¼ˆå±å¹•ç‰©ç†å°ºå¯¸ï¼‰
- ptï¼šè¡¨ç¤ºä¸€ä¸ªç‚¹ï¼ˆå±å¹•ç‰©ç†å°ºå¯¸ï¼‰

---

```xml
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    android:gravity="center_vertical"
    >

    <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_gravity="center"
        android:layout_weight="1"
        android:text="è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ä¸ªtext" />

    <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_weight="1"
        android:text="è¿™æ˜¯æˆ‘çš„ç¬¬äºŒä¸ªtext" />

</LinearLayout>
```

<img src="./img/1.png" />

---

### ğŸ”¥ ç¬¬äºŒèŠ‚ï¼šAndroidå¸ƒå±€ï¼ˆç›¸å¯¹å¸ƒå±€ï¼‰

> ç›¸å¯¹å¸ƒå±€ï¼ˆRelativeLayoutï¼‰ï¼šç›¸å¯¹å…¶ä»–

---

### ğŸ”¥ ç¬¬ä¸‰èŠ‚ï¼šAndroidå¸ƒå±€ï¼ˆå¸§å¸ƒå±€ï¼‰

> å¸§å¸ƒå±€ï¼ˆFrameLayoutï¼‰ï¼šç»„ä»¶ä»å±å¹•å·¦ä¸Šæ–¹å¸ƒå±€ç»„ä»¶

---

### ç¬¬å››èŠ‚ï¼šAndroidå¸ƒå±€ï¼ˆç»å¯¹å¸ƒå±€ï¼‰

> ç»å¯¹å¸ƒå±€ï¼ˆAbsoluteLayoutï¼‰ï¼šæŒ‰ç…§ç»å¯¹åæ ‡æ¥å¸ƒå±€ç»„ä»¶

---


### ç¬¬äº”èŠ‚ï¼šAndroidå¸ƒå±€ï¼ˆè¡¨æ ¼å¸ƒå±€ï¼‰

> è¡¨æ ¼å¸ƒå±€ï¼ˆTableLayoutï¼‰ï¼šæŒ‰ç…§è¡Œåˆ—æ–¹å¼å¸ƒå±€ç»„ä»¶

---

### ç¬¬å…­èŠ‚ï¼šTextViewï¼ˆï¼‰

---

### ç¬¬ä¸ƒèŠ‚ï¼šEditTextï¼ˆï¼‰

---

### ç¬¬å…«èŠ‚ï¼šButtonï¼ˆæŒ‰é’®ï¼‰

---

### ç¬¬ä¹èŠ‚ï¼šImageViewï¼ˆå›¾ç‰‡ç»„ä»¶ï¼‰

---

### ç¬¬åèŠ‚ï¼šspinnerç»„ä»¶ï¼ˆä¸‹æ‹‰åˆ—è¡¨ï¼‰

---
### ç¬¬åä¸€èŠ‚ï¼šRadioButtonï¼ˆå•é€‰æŒ‰é’®ï¼‰



---

### ç¬¬åäºŒèŠ‚ï¼šcheckBoxï¼ˆå¤šé€‰æŒ‰é’®ï¼‰

<img src="./img/3.png" />

```xml
<!-- android:checked="true" -->
<CheckBox
    android:id="@+id/checkBox_Apple"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:onClick="choose"
    android:text="è‹¹æœ" />

<CheckBox
    android:id="@+id/checkBox_Apple"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:onClick="choose"
    android:text="è‘¡è„" />

<CheckBox
    android:id="@+id/checkBox_Apple"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:onClick="choose"
    android:text="æ¢¨" />

<TextView
    android:id="@+id/textViewResult"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content" />
```

---

### ç¬¬åä¸‰èŠ‚ï¼šListViewå’Œé€‚é…å™¨ä½¿ç”¨ï¼ˆåˆ—è¡¨ï¼‰



---

```java
public class MainActivity extends AppCompatActivity {

    private TextView textViewResult;
    // ä¸»è¦å­˜æ”¾ç»“æœçš„é›†åˆ
    private List<String> lists = new ArrayList<String>();

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        textViewResult = (TextView)findViewById(R.id.textViewResult);
    }

    // é€šè¿‡ç‚¹å‡»äº‹ä»¶è¿›è¡Œç›‘å¬
    public void choose(View view) {
        // å¾—åˆ°Viewå¯¹è±¡ ---> Checkbox
        CheckBox checkBox = (CheckBox) view;
        // è·å–checkBoxçŠ¶æ€
        boolean isChecked = checkBox.isChecked();
        // å°†è¿™ä¸ªç»“æœæ·»åŠ åˆ°é›†åˆä¸­
        if (isChecked) {
            lists.add(checkBox.getText().toString()); // é€‰ä¸­
        } else {
            lists.remove(checkBox.getText().toString()); // æ²¡æœ‰é€‰ä¸­
        }

        // å±•ç¤ºç»“æœ
        textViewResult.setText("é€‰ä¸­çš„å†…å®¹æ˜¯ï¼š" + lists.toString());
    }

}

```

---

### ç¬¬åå››èŠ‚ï¼šGridViewï¼ˆç½‘æ ¼è§†å›¾ï¼‰

---

## ç¬¬ä¸‰ç« ï¼šActivityçš„ç”Ÿå‘½å‘¨æœŸå’Œä¼ å€¼

---

## ç¬¬å››ç« ï¼šå¼‚æ­¥ä»»åŠ¡AsyncTaskçš„åº”ç”¨

---

## ç¬¬äº”ç« ï¼šAndroidæ•°æ®å­˜å‚¨

> å¦‚æœä½ ä¸æƒ³æ‰‹æœºå…³æœºä¹‹åæ•°æ®å°±æ²¡æœ‰äº†ï¼Œé‚£ä¹ˆä½ å°†éœ€è¦æ•°æ®å­˜å‚¨ï¼ˆï¼‰

---

### ç¬¬ä¸€èŠ‚ï¼šSharedPreferenceså­˜å‚¨æ•°æ®

---

### ç¬¬äºŒèŠ‚ï¼šå†…éƒ¨å­˜å‚¨

---

### ç¬¬ä¸‰èŠ‚ï¼šå¤–éƒ¨å­˜å‚¨

---

### ç¬¬å››èŠ‚ï¼šæ•°æ®åº“å­˜å‚¨

> SQLiteæ•°æ®åº“å­˜å‚¨ï¼ˆè½»é‡çº§åµŒå…¥å¼å…³ç³»æ•°æ®åº“ï¼ŒAndroidå·²ç»ç»§æ‰¿äº†è¿™ä¸ªåº“ï¼‰

<img style="width: 200px;" src="./img/2.png" />

```xml
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    tools:context=".MainActivity">

    <Button
        android:layout_width="100dp"
        android:layout_height="100dp"
        android:onClick="createDb"
        android:text="åˆ›å»ºæ•°æ®åº“" />

    <Button
        android:id="@+id/buttonInsert"
        android:layout_width="100dp"
        android:layout_height="100dp"
        android:onClick="insertData"
        android:text="æ·»åŠ æ•°æ®" />

    <Button
        android:id="@+id/buttonUpadte"
        android:layout_width="100dp"
        android:layout_height="100dp"
        android:onClick="updateData"
        android:text="æ›´æ–°æ•°æ®" />

    <Button
        android:id="@+id/buttonDelete"
        android:layout_width="100dp"
        android:layout_height="100dp"
        android:onClick="deleteData"
        android:text="åˆ é™¤æ–¹æ³•" />

    <Button
        android:id="@+id/buttonQuery"
        android:layout_width="100dp"
        android:layout_height="100dp"
        android:onClick="queryData"
        android:text="æŸ¥è¯¢æ•°æ®" />
</LinearLayout>
```

---

MainActivity

```java
package com.example.myapplication;

import androidx.appcompat.app.AppCompatActivity;

import android.content.ContentValues;
import android.database.Cursor;
import android.database.sqlite.SQLiteDatabase;
import android.os.Bundle;
import android.util.Log;
import android.view.View;
import android.widget.Toast;

import java.security.Key;

public class MainActivity extends AppCompatActivity {

    private MyOpenHelper helper;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        helper = new MyOpenHelper(this);
    }

    // åˆ›å»ºæ•°æ®åº“
    public void createDb(View view) {
        SQLiteDatabase db = helper.getReadableDatabase();
        Log.i("aaa", "ç‚¹å‡»æŒ‰é”®åˆ›å»ºæ•°æ®åº“");
    }

    // å‘è¡¨ä¸­æ·»åŠ æ•°æ®
    public void insertData(View view) {
        Log.i("aaa", "ç‚¹å‡»æŒ‰é”®åˆ›å»ºæ•°æ®åº“");

        SQLiteDatabase db = helper.getWritableDatabase();

        // ç¬¬ä¸€ç§æ–¹æ³•ï¼šsqlè¯­å¥
         String sql = "insert into employee values(123, 'æœ±æ˜†é¹', 23, 'ç”·')";
         db.execSQL(sql);

        // ç¬¬äºŒç§æ–¹æ³•ï¼š
        // ContentValues values = new ContentValues();
        // values.put("'_id'", 21);
        // values.put("name", "æœ±æ˜†é¹");
        // values.put("age", 23);
        // values.put("gender", "ç”·");
        // db.insert("employee", null, values);

        Toast.makeText(this, "æ·»åŠ æ•°æ®å®Œæˆ", Toast.LENGTH_LONG).show();
    }

    // æ›´æ–°æ•°æ®
    public void updateData(View view) {
        SQLiteDatabase db = helper.getWritableDatabase();

        // ç¬¬ä¸€ç§æ–¹æ³•ï¼šsqlè¯­å¥
        // String sql = "update employee set age=30 where _id=1";
        // db.execSQL(sql);

        // ç¬¬äºŒç§æ–¹æ³•ï¼š
        ContentValues values = new ContentValues();
        values.put("age", 30);
        int row = db.update("employee", values, "name=?", new String[]{"æœ±æ˜†é¹"});
        Toast.makeText(this, "æ›´æ–°æ•°æ®å®Œæˆ--->" + row, Toast.LENGTH_LONG).show();
    }

    // åˆ é™¤æ•°æ®
    public void deleteData(View view) {
        SQLiteDatabase db = helper.getWritableDatabase();

        // ç¬¬ä¸€ç§æ–¹æ³•ï¼šsqlè¯­å¥
        // String sql = "delete from employee where name='æœ±æ˜†é¹'";
        // db.execSQL(sql);

        // ç¬¬äºŒç§æ–¹æ³•
        int row = db.delete("employee", "name=?", new String[]{"æœ±æ˜†é¹"});

        Toast.makeText(this, "åˆ é™¤æ•°æ®å®Œæˆ--->" + row, Toast.LENGTH_LONG).show();
    }

    // æŸ¥è¯¢æ–¹æ³•
    public void queryData(View view) {
        SQLiteDatabase db = helper.getReadableDatabase();

        // å‚æ•°ï¼šè¡¨æ˜ï¼Œåˆ—åï¼Œ...
        Cursor c = db.query("employee", null, null, null, null, null, null);

        // éå†Cursor
        while (c.moveToNext()) {
            int index = c.getColumnIndex("name");
            String name = c.getString(index);

            int age = c.getInt(c.getColumnIndex("age")); // è·å–å¹´é¾„
            String gender = c.getString(c.getColumnIndex("gender")); // è·å–æ€§åˆ«

            Log.i("aaa", "===>" + name + "--" + age + "--" + gender);
        }

    }
}
```

---

MyOpenHelper

```java
package com.example.myapplication;

import android.content.Context;
import android.database.sqlite.SQLiteDatabase;
import android.database.sqlite.SQLiteOpenHelper;
import android.util.Log;

import androidx.annotation.Nullable;

public class MyOpenHelper extends SQLiteOpenHelper {
    private final static String TEST = "company";
    private final static int VERSION = 1;

    /**
     * æ·»åŠ æ„é€ æ–¹æ³•
     *
     * @param context ä¸Šä¸‹æ–‡ç¯å¢ƒ
     * @param name    æ•°æ®åº“åç§°
     * @param factory æ¸¸æ ‡å·¥å‚
     * @param version æ•°æ®åº“ç‰ˆæœ¬
     *
     */
    public MyOpenHelper(@Nullable Context context, @Nullable String name, @Nullable SQLiteDatabase.CursorFactory factory, int version) {
        super(context, name, factory, version);
    }

    public MyOpenHelper(Context context) {
        super(context, TEST, null, VERSION);
    }

    @Override
    public void onCreate(SQLiteDatabase db) {
        // åˆ›å»ºè¡¨ï¼ˆidï¼Œåå­—ï¼Œå¹´é¾„ï¼Œæ€§åˆ«ï¼‰
        String sql = "create table employee(_id primary key, name varchar(20), age init, gender char(2))";
        db.execSQL(sql);
        Log.i("aaa", "=============> åˆ›å»ºè¡¨æˆåŠŸ");
    }

    @Override
    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
        if (newVersion > oldVersion) {
            Log.i("aaa","æ•°æ®åº“ç‰ˆæœ¬å‘ç”Ÿæ›´æ–°");
        }
    }
}
```


---

## ç¬¬å…­ç« ï¼šAndroid å¯¹è¯æ¡†Dialogï¼Œèœå•Menuï¼Œé€šçŸ¥Notification

---

## ç¬¬ä¸ƒç« ï¼šFragmentç¢ç‰‡åœ¨å¼€å‘ä¸­ä½¿ç”¨

---

## ç¬¬å…«ç« ï¼šViewPagerä»‹ç»å’Œä½¿ç”¨

---

## ç¬¬ä¹ç« ï¼šAndroidå¹¿æ’­æ¥æ”¶å™¨

### ç¬¬ä¸€èŠ‚ï¼šä»€ä¹ˆæ˜¯å¹¿æ’­

> å¹¿æ’­æ˜¯ä¸€ç§åœ¨ä¸åŒåº”ç”¨ç¨‹åºä¹‹é—´ä¼ è¾“ä¿¡æ¯çš„æœºåˆ¶

---

### ç¬¬äºŒèŠ‚ï¼šæ¥æ”¶å¹¿æ’­

---

### ç¬¬ä¸‰èŠ‚ï¼šå‘é€å¹¿æ’­

---

## ç¬¬åç« ï¼šAndroidä¸­Serviceï¼ˆæœåŠ¡ï¼‰




