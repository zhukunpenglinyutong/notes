# 3.Vueå…¨å®¶æ¡¶

## âš½ï¸ç¬¬ä¸€éƒ¨åˆ†ï¼šVue-Cli

> [Vue-Cli...](https://cli.vuejs.org/zh/guide/cli-service.html)

### 1.å®‰è£…è„šæ‰‹æ¶å’Œä½¿ç”¨

- npm i -g @vue/cli å®‰è£…è„šæ‰‹æ¶ï¼Œç”¨äºç”Ÿæˆé¡¹ç›®
- npm i -g @vue/cli-service-global å¿«é€ŸåŸå‹å¼€å‘ï¼Œç¼–è¯‘.vueæ–‡ä»¶
- ç›´æ¥ä½¿ç”¨ç¼–è¯‘.vueæ–‡ä»¶: vue serve app.vue

**ä½¿ç”¨Cliç”Ÿæˆï¼švue create åç§°**

```sh
# Clié€‰æ‹©é…ç½®

defaultï¼ˆbabel, eslintï¼‰ # é»˜è®¤é…ç½®
Manually select features # è‡ªå®šä¹‰é…ç½®

# è‡ªå®šä¹‰é…ç½®
Babel # å¯åŠ¨Babel
Typescript # æ”¯æŒTypescript
Progressive Web Appï¼ˆPWAï¼‰Support # PWA
Router # è·¯ç”±
Vuex # çŠ¶æ€ç®¡ç†
CSS Pre-processors # CSSé¢„å¤„ç†å™¨
Lintor / Formattor # 
Lint Testing # 
E2E Testing # E2E æµ‹è¯•

Where do you prefer placing config for ... # æ–‡ä»¶æ”¾åˆ°å“ªé‡Œ
In deficated config files # å•ç‹¬æˆä¸€ä¸ªæ–‡ä»¶
In package.json # æ”¾åˆ° package.json é‡Œé¢

Save this as a preset for futrue projectsï¼Ÿ # æ˜¯å¦ä¿ç•™é¢„è®¾ç»™æœªæ¥ä½¿ç”¨

```

---

### 2.ç›®å½•ä»‹ç»

**åŸºç¡€ç›®å½•**

- publiceï¼ˆé™æ€æ–‡ä»¶ï¼‰
- srcï¼ˆæºæ–‡ä»¶ï¼‰
    - assetsï¼ˆé™æ€èµ„æºï¼‰
    - componentsï¼ˆç»„ä»¶ï¼‰
    - App.vue
    - main.js å…¥å£æ–‡ä»¶

**æ‹“å±•ç›®å½•**

- src
    - assetsï¼ˆé™æ€èµ„æºï¼‰
    - componentsï¼ˆç»„ä»¶ï¼‰
    - viewsï¼ˆé¡µé¢çº§ç»„ä»¶ï¼‰
    - routerï¼ˆè·¯ç”±æ–‡ä»¶ï¼‰
    - vuexï¼ˆVuexæ–‡ä»¶ï¼‰
    - App.vue
    - main.js å…¥å£æ–‡ä»¶
- vue.config.js Vue-Clié…ç½®æ–‡ä»¶

---

## ğŸ€ç¬¬äºŒéƒ¨åˆ†ï¼šVue-Router

> [Vue-Routerå®˜ç½‘...](https://router.vuejs.org/zh/)

### 1.å®‰è£…å’Œä½¿ç”¨

- è¦ä¸å°±æ˜¯ vue create é¡¹ç›®åç§°çš„æ—¶å€™ï¼Œé€‰ä¸Švue-routerï¼ˆæ¨èï¼‰
- è¦ä¸å°±æ˜¯ vue add router
- è¦ä¸å°±æ˜¯ npm ä¸‹è½½ï¼Œç„¶åè‡ªå·±å»ºç«‹æ–‡ä»¶å¤¹ï¼Œè°ƒæ•´ main.js 

**åŸºæœ¬ä½¿ç”¨**

```js
// router.js
import Vue from 'vue'
import Router from 'vue-router'

Vue.use(Router) // ä¼šå¾€Vueä¸Šæ·»åŠ  $router $route

// è·¯ç”±çš„ä½œç”¨ï¼šåœ¨ä¸åŒçš„è·¯å¾„ï¼Œå±•ç¤ºä¸åŒçš„å†…å®¹ï¼Œä¸‹é¢çš„é…ç½®å°±æ˜¯åšè¿™ä¸ªäº‹æƒ…
export default new Router({
    routes: [
        {
            path: '/',
            name: 'home',
            // ç»„ä»¶æ‡’åŠ è½½å†™æ³•ï¼ˆæé«˜é¦–å±åŠ è½½ï¼‰
            component: () => import(/* webpackChunkName: "about" */ './views/Home.vue')
        }
    ]
})

```

---

### 2.router-link && router-view

```html
<router-link to="/">é¦–é¡µ</router-link>
<router-link to="{ path: '/' }">é¦–é¡µ</router-link>
<!-- é»˜è®¤æ¸²æŸ“æˆaæ ‡ç­¾ï¼Œå¦‚æœä½ ä¸æƒ³æ¸²æŸ“æˆaæ ‡ç­¾ï¼Œå¯ä»¥é€šè¿‡ tagè¿›è¡Œè®¾ç½® -->
<router-link tag="li" to="{ name: 'home' }">é¦–é¡µ</router-link>

<!-- å±•ç¤ºè·³è½¬çš„ -->
<router-view></router-view>
```



---

### 3.åµŒå¥—è·¯ç”± && $router

```js
import Router from 'vue-router'
import Vue from 'vue'

Vue.use(Router)

export default new Router({
    routes: [
        {
            path: '/',
            name: ...,
            component: ...,
            redirect: '/login', // é‡å®šå‘
            children: [
                {
                    path: 'login',
                    name: ...,
                    component: ...
                },
                {
                    path: 'register',
                    name: ...,
                    component: ...
                }
            ]
        },
        {
            path: '*',
            redirect: '/404',
            component: ...
        }
    ]
})

// åœ¨ç»„ä»¶ä¸­è·³è½¬
this.$router.push('/home')
this.$router.replace('/home')

// è·³è½¬æ•ˆæœä¸€æ ·ï¼Œä¸ä¸€æ ·çš„åœ°æ–¹åœ¨äº å›é€€çš„æ•ˆæœä¸Š
// è§£é‡Šè¿™ä¸¤ä¸ªä¸åŒï¼Œæˆ‘ä»¬å…ˆç½‘ç«™è·¯ç”±æƒ³è±¡æˆä¸€ä¸ªæ•°ç»„ï¼Œ
// [a, b, c] --> this.$router.push('/d') --> [a, b, c, d]
// [a, b, c] --> this.$router.replace('/d') --> [a, b, d]

// this.$router.go()
this.$router.go(0) // ä¸åŠ¨
this.$router.go(-1) // é¡µé¢å¾€åé€€
this.$router.go(1) // é¡µé¢å‰è¿›


```

---

### 4.å¯¼èˆªå®ˆå« & åŠ¨æ€è·¯ç”±

**å…¨å±€å¯¼èˆªå®ˆå«**

```js
const router = new VueRouter({ ... })

router.beforeEach((to, from, next) => {
  // to: å³å°†è¦è¿›å…¥çš„ç›®æ ‡ è·¯ç”±å¯¹è±¡
  // from: å½“å‰å¯¼èˆªæ­£è¦ç¦»å¼€çš„è·¯ç”±
  // next: ä¸€å®šè¦è°ƒç”¨è¯¥æ–¹æ³•æ¥ resolve è¿™ä¸ªé’©å­ã€‚æ‰§è¡Œæ•ˆæœä¾èµ– next æ–¹æ³•çš„è°ƒç”¨å‚æ•° | next('/home') å¯ä»¥æ”¹å˜è¦è¿›å…¥çš„è·¯ç”±
})

router.afterEach((to, from) => {
  // ...
})
```

---

**è·¯ç”±å¯¼èˆªå®ˆå«**

```js
const router = new VueRouter({
  routes: [
    {
      path: '/foo',
      component: Foo,
      beforeEnter: (to, from, next) => {
        // ...
      }
    }
  ]
})
```

---

**ç»„ä»¶å¯¼èˆªå®ˆå«**

```html
<script>
export default {
    // è·¯ç”±ç¦»å¼€ä¹‹å‰
    beforeRouteLeave (to, from, next) {
        // this: æ˜¯ ç»„ä»¶å®ä¾‹
        // to: å³å°†è¦è¿›å…¥çš„ç›®æ ‡ è·¯ç”±å¯¹è±¡
        // from: å½“å‰è·¯ç”±æ‰€åœ¨çš„ä¸€äº›ä¿¡æ¯
        // next: ä¸€å®šè¦è°ƒç”¨è¯¥æ–¹æ³•æ¥ resolve è¿™ä¸ªé’©å­ã€‚æ‰§è¡Œæ•ˆæœä¾èµ– next æ–¹æ³•çš„è°ƒç”¨å‚æ•° | next('/home') å¯ä»¥æ”¹å˜è¦è¿›å…¥çš„è·¯ç”±

        // å¸¸ç”¨äºå¡«å†™è¡¨å•çš„æ—¶å€™ï¼Œè¯¯è§¦è·¯ç”±è·³è½¬
    },
    // è·¯ç”±è¿›æ¥ä¹‹å‰
    beforRouteEnter (to, from, next) {
        // this: æ˜¯ undefinedï¼ˆå› ä¸ºè·¯ç”±è¿˜æœªè¿›æ¥ï¼‰
    }
}
</script>
```

---

### 5.$router & $route

---

### 6.è·¯ç”±å…ƒä¿¡æ¯


---

## ğŸˆç¬¬ä¸‰éƒ¨åˆ†ï¼šAxios

---

## âš¾ï¸ç¬¬å››éƒ¨åˆ†ï¼šVuex

---

## ğŸ¾ç¬¬äº”éƒ¨åˆ†ï¼šVueæµ‹è¯•ï¼ˆJestï¼‰

---

## ğŸ±ç¬¬å…­éƒ¨åˆ†ï¼šVueæµ‹è¯•ï¼ˆmochaï¼‰

---

## â›³ï¸ç¬¬ä¸ƒéƒ¨åˆ†ï¼šUIç»„ä»¶åº“ï¼ˆElementï¼‰