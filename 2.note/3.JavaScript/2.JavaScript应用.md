# 2.JavaScriptåº”ç”¨

**å¯¹åº”ã€ŠJavaScripté«˜çº§ç¨‹åºç¼–ç¨‹ã€‹**

---

## ğŸ²ç¬¬é›¶ç« ï¼šç»¼åˆåº”ç”¨

### 1.è¿›åˆ¶ä¹‹é—´çš„è½¬æ¢

```js

// æ ¸å¿ƒæ˜¯ parseInt() å’Œ toString

// parseInt() å¯ä»¥ä¼ ä¸¤ä¸ªå‚æ•°ï¼Œå‚æ•°ä¸€ï¼šéœ€è¦è½¬æ¢çš„å‚æ•°ï¼Œå‚æ•°äºŒï¼šè§„å®šå½“å‰ä¼ å…¥çš„å‚æ•°æ˜¯å‡ è¿›åˆ¶çš„ï¼Œå¹¶ä»¥æ­¤ä¸ºä¾æ®ï¼Œå°†å‚æ•°ä¸€è½¬ä¸ºåè¿›åˆ¶

// æœ‰äº†è¿™ä¸ªç‰¹æ€§ï¼Œæˆ‘ä»¬å¯ä»¥å°†ä»»æ„è¿›åˆ¶çš„æ•°å€¼ï¼Œè½¬ä¸ºåè¿›åˆ¶
let num1 = "1111011"
let num2 = parseInt(num1, 2) // 123ï¼ˆåè¿›åˆ¶ï¼‰

// xxx.toString() ä¹Ÿèƒ½ä¼ å‚æ•°ï¼Œè¡¨ç¤ºå°†ä¸€ä¸ªåè¿›åˆ¶çš„æ•°å€¼ï¼Œè½¬ä¸ºä»»æ„è¿›åˆ¶
num2.toString(16) // 7bï¼ˆåå…­è¿›åˆ¶ï¼‰


// â£ï¸ å¯ä»¥å°è£…ä¸€ä¸ªè¿›åˆ¶è½¬åŒ–çš„æ–¹æ³•

```

---

### 2.typeof åˆ¤æ–­ç±»å‹

```js

// typeof èƒ½æ‰“å°å‡ºæ¥çš„å†…å®¹ï¼š number, string, boolean, function, object, undefined

typeof(a) // æœªå®šä¹‰çš„å˜é‡ 'undefined'ï¼ˆä¸ºä»€ä¹ˆï¼Ÿæ˜¯è¯­æ³•æå‡ä¹ˆï¼‰ï¼Œä¹Ÿå¯ä»¥å»æ‰æ‹¬å·ï¼ŒåŠ ä¸€ä¸ªç©ºæ ¼
typeof 'zhu' // 'string'
typeof true // 'boolean '
typeof NaN // "number"
typeof fn // å‡½æ•° "function"

typeof {} // "object"
typeof null // "object"
typeof [] // 'object'

// â£ï¸ ç²¾å‡†åˆ¤æ–­ Object.prototype.toString.call() 
Object.prototype.toString.call(1) // "[object Number]" , æ³¨æ„ä¼ å…¥NaNè¿˜æ˜¯ æ•°å­—ç±»å‹
Object.prototype.toString.call('zhu') // "[object String]"
Object.prototype.toString.call(true) // "[object Boolean]"
Object.prototype.toString.call(fn) // "[object Function]"
Object.prototype.toString.call({}) // "[object Object]"
Object.prototype.toString.call([]) // "[object Array]"
Object.prototype.toString.call(null) // "[object Null]"
Object.prototype.toString.call() // "[object Undefined]"
Object.prototype.toString.call(Math) // "[object Math]"
// ...

```

---

### 3.forã€forEachã€for in ã€ for of çš„åŒºåˆ«

---

**forå¾ªç¯**

```js
// forå¾ªç¯ï¼Œå®ƒç”¨æ¥éå†æ•°ç»„
let arr = [1,2,3,4]
for(var i = 0; i < arr.length; i++) {
    console.log(arr[i]) // 1,2,3,4
}
```

---

**forEachï¼šä»ES5å¼€å§‹ Javascriptå¢åŠ äº†forEachæ–¹æ³• ç”¨æ¥éå†æ•°ç»„**

```js
let arr = [1,2,3]
arr.forEach((item, index, arr) => {
    console.log(item, index, arr)
})

// â£ï¸ å†™æ³•ç®€å•äº†å¾ˆå¤šï¼Œä½†æ˜¯ä¹Ÿå­˜åœ¨ä¸€ä¸ªå±€é™ å°±æ˜¯ä½ ä¸èƒ½ä¸­æ–­å¾ªç¯(ä½¿ç”¨breakè¯­å¥æˆ–ä½¿ç”¨returnè¯­å¥ï¼‰ï¼Œæˆ‘å†™è¿‡é‡Œé¢çš„åŸç†ï¼Œæ‰€ä»¥ä¹Ÿæ˜ç™½ä¸ºä»€ä¹ˆ
```

---

**forâ€¦inï¼šä¸ºå¾ªç¯â€enumerableâ€œå¯¹è±¡è€Œè®¾è®¡çš„**

```js
let obj = {
    name: 'æœ±æ˜†é¹',
    age: '20',
    __proto__: {
      sex: 'ç”·'
    }
}

for (let prop in obj) {
    console.log(prop)    //éå†çš„å®é™…ä¸Šæ˜¯å¯¹è±¡çš„å±æ€§åç§° name, age, sex
    console.log(obj[prop])  //è¿™ä¸ªæ‰æ˜¯å±æ€§å¯¹åº”çš„å€¼ æœ±æ˜†é¹, 20, ç”·
}

// for - in ä¹Ÿå¯ç”¨æ¥å¾ªç¯æ•°ç»„ï¼Œä½†ä¸€èˆ¬å¹¶ä¸æ¨è
```

---

**forâ€¦ofï¼šES6ä¸­æ–°å¢åŠ çš„è¯­æ³• å¯ä»¥å¾ªç¯ä¸€ä¸ªæ‹¥æœ‰enumerableå±æ€§çš„å¯¹è±¡**

```js

// â£ï¸æ•°ç»„ï¼Œå­—ç¬¦ä¸²ï¼ŒMap,Setï¼Œç±»æ•°ç»„...æœ‰è¿­ä»£å™¨æ¥å£ï¼Œæ™®é€šå¯¹è±¡æ²¡æœ‰

// æ™®é€šå¯¹è±¡ä¸èƒ½éå† âŒ
for (let prop in obj) {
    console.log(prop) // Uncaught TypeError: obj[Symbol.iterator] is not a function
}

for (let prop of 'zhu') {
    console.log(prop) // z | h | u
}

for (let prop of new Set([1,2,3])) {
    console.log(prop) // 1 | 2 | 3
}
```

---

### 4.èŠ‚æµï¼Œé˜²æŠ–

**åœ¨å‰ç«¯å¼€å‘ä¸­æœ‰ä¸€éƒ¨åˆ†çš„ç”¨æˆ·è¡Œä¸ºä¼šé¢‘ç¹çš„è§¦å‘äº‹ä»¶æ‰§è¡Œï¼Œè€Œå¯¹äºDOMæ“ä½œï¼Œèµ„æºåŠ è½½ç­‰è€—è´¹æ€§èƒ½çš„å¤„ç†ï¼Œå¾ˆå¯èƒ½é€ æˆé¡µé¢çš„å¡é¡¿ï¼Œç”šè‡³æµè§ˆå™¨çš„å´©æºƒï¼Œå‡½æ•°èŠ‚æµå’Œå‡½æ•°é˜²æŠ–å°±æ˜¯ä¸ºäº†è§£å†³ç±»ä¼¼éœ€æ±‚åº”è¿è€Œç”Ÿçš„**

```js

// é˜²æŠ–ï¼šå‡½æ•°é˜²æŠ–å°±æ˜¯åœ¨å‡½æ•°éœ€è¦é¢‘ç¹è§¦å‘æƒ…å†µæ—¶ï¼Œåªæœ‰è¶³å¤Ÿç©ºé—²çš„æ—¶é—´ï¼Œæ‰æ‰§è¡Œä¸€æ¬¡ã€‚ç»å¸¸ç”¨äº æœç´¢å’Œæ‹–æ‹½
function debounce(fn) {
  let timeout = null; // åˆ›å»ºä¸€ä¸ªæ ‡è®°ç”¨æ¥å­˜æ”¾å®šæ—¶å™¨çš„è¿”å›å€¼
  return function () {
    clearTimeout(timeout); // æ¯å½“ç”¨æˆ·è¾“å…¥çš„æ—¶å€™æŠŠå‰ä¸€ä¸ª setTimeout clear æ‰
    timeout = setTimeout(() => { // ç„¶ååˆåˆ›å»ºä¸€ä¸ªæ–°çš„ setTimeout, è¿™æ ·å°±èƒ½ä¿è¯è¾“å…¥å­—ç¬¦åçš„ interval é—´éš”å†…å¦‚æœè¿˜æœ‰å­—ç¬¦è¾“å…¥çš„è¯ï¼Œå°±ä¸ä¼šæ‰§è¡Œ fn å‡½æ•°
      fn.apply(this, arguments);
    }, 500);
  };
}

debounce(fn) // ä½¿ç”¨


// èŠ‚æµï¼šæŒ‡å®šæ—¶é—´é—´éš”å†…åªä¼šæ‰§è¡Œä¸€æ¬¡ä»»åŠ¡ï¼ˆä¾‹å¦‚ä¸€ä¸ªä¸€ç§’å†…è¿ç»­è§¦å‘çš„äº‹ä»¶ï¼Œå¦‚æœç”¨äº†èŠ‚æµï¼Œè®©å…¶300msè§¦å‘ä¸€æ¬¡ï¼Œé‚£ä¹ˆ1så°±åªèƒ½è§¦å‘3æ¬¡ï¼‰
function throttle(fn) {
  let canRun = true; // é€šè¿‡é—­åŒ…ä¿å­˜ä¸€ä¸ªæ ‡è®°
  return function () {
    if (!canRun) return; // åœ¨å‡½æ•°å¼€å¤´åˆ¤æ–­æ ‡è®°æ˜¯å¦ä¸ºtrueï¼Œä¸ä¸ºtrueåˆ™return
    canRun = false; // ç«‹å³è®¾ç½®ä¸ºfalse
    setTimeout(() => { // å°†å¤–éƒ¨ä¼ å…¥çš„å‡½æ•°çš„æ‰§è¡Œæ”¾åœ¨setTimeoutä¸­
      fn.apply(this, arguments);
      // æœ€ååœ¨setTimeoutæ‰§è¡Œå®Œæ¯•åå†æŠŠæ ‡è®°è®¾ç½®ä¸ºtrue(å…³é”®)è¡¨ç¤ºå¯ä»¥æ‰§è¡Œä¸‹ä¸€æ¬¡å¾ªç¯äº†ã€‚å½“å®šæ—¶å™¨æ²¡æœ‰æ‰§è¡Œçš„æ—¶å€™æ ‡è®°æ°¸è¿œæ˜¯falseï¼Œåœ¨å¼€å¤´è¢«returnæ‰
      canRun = true;
    }, 500);
  };
}

throttle(fn) // ä½¿ç”¨
```

---


## ğŸŒµç¬¬ä¸€ç« ï¼šæ•°å€¼ï¼ˆNumberï¼‰

---

## ğŸ„ç¬¬äºŒç« ï¼šå­—ç¬¦ï¼ˆStringï¼‰

---

## ğŸŒ²ç¬¬ä¸‰ç« ï¼šå¸ƒå°”ï¼ˆBooleanï¼‰

---

## ğŸŒ³ç¬¬å››ç« ï¼šæ•°ç»„ï¼ˆArrayï¼‰

---

## ğŸŒ´ç¬¬äº”ç« ï¼šå‡½æ•°ï¼ˆFunctionï¼‰

---

### 1.ç«‹å³æ‰§è¡Œå‡½æ•°ï¼ˆIIFEï¼‰

**â£ï¸ ç«‹å³æ‰§è¡Œå‡½æ•°ä¸æ˜¯å®˜æ–¹çš„ï¼ŒåƒCSSçš„æµ®åŠ¨ï¼Œä¹Ÿæ˜¯äººä»¬è¯•å‡ºæ¥çš„ï¼Œä½œç”¨æ˜¯ç«‹å³æ‰§è¡Œå‡½æ•°å†…å®¹**

**åŸºç¡€ä½¿ç”¨ï¼Œæ›´è¯¦ç»†çš„è¯·çœ‹3.JavaScriptæ·±å…¥**

```js
(function () {})() // æˆ‘ä¸€èˆ¬ç”¨è¿™ä¸ª

(function () {} ()) // å®˜æ–¹æ¨è

let test = function () {
  console.log('æ‰§è¡Œäº†')
}() // 'æ‰§è¡Œäº†'

+function test () {
  console.log('æ‰§è¡Œäº†')
}() // 'æ‰§è¡Œäº†'

-function test () {
  console.log('æ‰§è¡Œäº†')
}() // 'æ‰§è¡Œäº†'

!function test () {
  console.log('æ‰§è¡Œäº†')
}() // 'æ‰§è¡Œäº†'

console.log(test) //undefined, ç«‹å³æ‰§è¡Œå‡½æ•°ä¼šå¿½ç•¥å‡½æ•°åç§°

```

---

### 2.é—­åŒ…çš„åº”ç”¨ï¼ˆæ„Ÿè§‰å¯ä»¥åˆå¹¶åˆ°å‡½æ•°éƒ¨åˆ†ï¼‰

**å®ç°å…¬æœ‰å˜é‡**

```js

// ç¤ºä¾‹ï¼šå‡½æ•°ç´¯åŠ å™¨
function add () {
    
    let count = 0

    return function () {
        count ++
        console.log(count)
    }
}

let countFn = add()
countFn() // 1
countFn() // 2
countFn() // 3

```

**å¯ä»¥åšç¼“å­˜ï¼ˆå­˜å‚¨ç»“æ„ï¼‰**

```js
function test () {
    let num = 100

    function a () {
        num ++
        console.log(num)
    }

    function b () {
        num --
        console.log(num)
    }

    return [a, b]
}

let myFn = test()
myFn[0]() // 101
myFn[1]() // 100

// ES6 å†™æ³•
// let [a, b] = test()
// a()
// b()


// ****** ğŸ”¥ç¤ºä¾‹äºŒ *******

function eater () {
    
    let name = 'æœ±æ˜†é¹' // è¿™ä¸ªå°±æ˜¯ç¼“å­˜

    let zhu = {
        say: function () {
            console.log('æˆ‘çš„å§“åæ˜¯ï¼š' + name)
            name = ''
        },
        setName: function (myName) {
            name = myName
        }
    }

    return zhu
}

let eater1 = eater()

eater1.setName('æ— ')
eater1.say() // æˆ‘çš„å§“åæ˜¯ï¼šæ— 

```

**å¯ä»¥å®ç°å°è£…ï¼Œå±æ€§ç§æœ‰åŒ–**

<img src="https://itzkp-1253302184.cos.ap-beijing.myqcloud.com/notes/2.note/4.%E6%8A%80%E6%9C%AF%E6%A0%B9%E5%9F%BA%E7%AC%94%E8%AE%B0/JS%E6%A0%B9%E5%9F%BA/4.png" />


**æ¨¡å—åŒ–å¼€å‘ï¼Œé˜²æ­¢æ±¡æŸ“å…¨å±€å˜é‡**

ä¸»è¦åˆ©ç”¨å‡½æ•°æ˜¯ å‡½æ•°ä½œç”¨åŸŸï¼Œæ˜¯ç‹¬ç«‹çš„ä½œç”¨åŸŸ


---

### 1.å‡½æ•°å°¾é€’å½’ä¼˜åŒ–

**åœ¨ä¸€ä¸ªå‡½æ•°ä¸­ï¼Œå†æ¬¡è°ƒç”¨è‡ªèº«æ‰§è¡Œï¼Œä¼šé€ æˆå‡½æ•°ä½œç”¨åŸŸç­‰å¤§é‡ä¿¡æ¯è¢«æš‚å­˜ï¼Œåªæœ‰ç­‰åˆ°å‡½æ•°æ‰§è¡Œå®Œæˆä¹‹åï¼Œæ‰é€å±‚é‡Šæ”¾ï¼Œç‰¹åˆ«å ç”¨èµ„æºï¼Œç¨æœ‰ä¸æ…å°±ä¼šå¯¼è‡´æµè§ˆå™¨å´©æºƒ**

```js
// å°¾é€’å½’å‡½æ•° æ‘˜è‡ªé˜®ä¸€å³°ES6
function tco(f) {
  let value;
  let active = false;
  let accumulated = [];

  return function accumulator() {
    accumulated.push(arguments);
    if (!active) {
      active = true;
      while (accumulated.length) {
        value = f.apply(this, accumulated.shift());
      }
      active = false;
      return value;
    }
  };
}

// ä½¿ç”¨
æ–°çš„å‡½æ•° = tco(é€’å½’å‡½æ•°)
```

---

## ğŸŒ±ç¬¬å…­ç« ï¼šå¯¹è±¡ï¼ˆObjectï¼‰

---

## ä¹‹å‰çš„å†…å®¹ï¼Œç­‰å¾…é‡æ„


### ğŸŒ²æ•°ç»„ï¼ˆArrayï¼‰

---

### ğŸ”¥åŸºæœ¬ä½¿ç”¨

- forEach(): éå†æ•°ç»„
- pop()ï¼šåˆ é™¤æ•°ç»„ä¸­æœ€åä¸€ä¸ªå…ƒç´ ï¼Œå¹¶è¿”å›è¯¥å…ƒç´ çš„å€¼ã€‚æ­¤æ–¹æ³•æ›´æ”¹æ•°ç»„çš„é•¿åº¦
- shift()ï¼šåˆ é™¤æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶è¿”å›è¯¥å…ƒç´ çš„å€¼ã€‚æ­¤æ–¹æ³•æ›´æ”¹æ•°ç»„çš„é•¿åº¦
- push(): å°†ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ æ·»åŠ åˆ°æ•°ç»„çš„æœ«å°¾ï¼Œå¹¶è¿”å›è¯¥æ•°ç»„çš„æ–°é•¿åº¦
- unshift()ï¼šå°†ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ æ·»åŠ åˆ°æ•°ç»„çš„å¼€å¤´ï¼Œå¹¶è¿”å›è¯¥æ•°ç»„çš„æ–°é•¿åº¦(è¯¥æ–¹æ³•ä¿®æ”¹åŸæœ‰æ•°ç»„)

---

### ğŸ”¥å¤„ç†ï¼šArray.prototype.map()

**map() æ–¹æ³•åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„ï¼Œå…¶ç»“æœæ˜¯è¯¥æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½è°ƒç”¨ä¸€ä¸ªæä¾›çš„å‡½æ•°åè¿”å›çš„ç»“æœ**

- æ­¤æ–¹æ³•å¯ä»¥æ‰¹é‡å¤„ç† æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶ä¸”è¿”å›å€¼ï¼ˆä¸ä¼šæ”¹å˜åŸæ•°ç»„ï¼‰

```js
[1, 2, 3].map( x => x * 2) // [2, 4, 6]
```

---

### ğŸ”¥å¤„ç†ï¼šArray.prototype.join()

**join() æ–¹æ³•å°†ä¸€ä¸ªæ•°ç»„ï¼ˆæˆ–ä¸€ä¸ªç±»æ•°ç»„å¯¹è±¡ï¼‰çš„æ‰€æœ‰å…ƒç´ è¿æ¥æˆä¸€ä¸ªå­—ç¬¦ä¸²å¹¶è¿”å›è¿™ä¸ªå­—ç¬¦ä¸²ã€‚å¦‚æœæ•°ç»„åªæœ‰ä¸€ä¸ªé¡¹ç›®ï¼Œé‚£ä¹ˆå°†è¿”å›è¯¥é¡¹ç›®è€Œä¸ä½¿ç”¨åˆ†éš”ç¬¦ã€‚**

```js
['Fire', 'Air', 'Water'].join() // "Fire,Air,Water"
['Fire', 'Air', 'Water'].join('') // "FireAirWater"
['Fire', 'Air', 'Water'].join('-') // "Fire-Air-Water"
```

---

### ğŸ”¥å¤„ç†ï¼šArray.prototype.slice() å–å‡ºä»»æ„å…ƒç´ 

**slice() æ–¹æ³•è¿”å›ä¸€ä¸ªæ–°çš„æ•°ç»„å¯¹è±¡ï¼Œè¿™ä¸€å¯¹è±¡æ˜¯ä¸€ä¸ªç”± beginå’Œ endï¼ˆä¸åŒ…æ‹¬endï¼‰å†³å®šçš„åŸæ•°ç»„çš„æµ…æ‹·è´ã€‚åŸå§‹æ•°ç»„ä¸ä¼šè¢«æ”¹å˜ã€‚**

- æ‹¿åˆ°æ•°ç»„ä¸­ä»»æ„åŒºé—´çš„æ•°æ®

```JS
// å‚æ•°ä¸€ï¼šä»å“ªå¼€å§‹ï¼Œå‚æ•°äºŒï¼ˆå¯é€‰ï¼‰ç»“æŸä½ç½®ï¼Œä¸é€‰çš„è¯ å°±èŠ‚é€‰åˆ°æœ€åäº†
[1, 2, 3].slice(0, 1) // [1]
[1, 2, 3].slice(0, 0) // []
```

---

### ğŸ”¥å¤„ç†ï¼šArray.prototype.splice() åˆ é™¤ä»»æ„å…ƒç´ ï¼Œæ“ä½œä»»æ„å…ƒç´ 

**splice() æ–¹æ³•é€šè¿‡åˆ é™¤æˆ–æ›¿æ¢ç°æœ‰å…ƒç´ æˆ–è€…åŸåœ°æ·»åŠ æ–°çš„å…ƒç´ æ¥ä¿®æ”¹æ•°ç»„,å¹¶ä»¥æ•°ç»„å½¢å¼è¿”å›è¢«ä¿®æ”¹çš„å†…å®¹ã€‚æ­¤æ–¹æ³•ä¼šæ”¹å˜åŸæ•°ç»„ã€‚**

```js
// å‚æ•°ä¸€ï¼šä»å“ªå¼€å§‹ | å‚æ•°äºŒï¼šæ“ä½œå…ƒç´ çš„ä¸ªæ•° | å‚æ•°ä¸‰ï¼šæ’å…¥å…ƒç´ çš„å€¼...ï¼ˆå¯ä»¥å†™å¤šä¸ªå‚æ•°ä¸‰ï¼‰
[1, 2, 3].splice(0, 1) // åˆ é™¤ [2, 3]
[1, 2, 3].splice(0) // åˆ é™¤ [0]
[1, 2, 3].splice(0, 0, -1) // æ’å…¥ [-1, 1, 2, 3]
```

---

### æ’åºï¼šArray.prototype.sort()

**sort() æ–¹æ³•ç”¨åŸåœ°ç®—æ³•å¯¹æ•°ç»„çš„å…ƒç´ è¿›è¡Œæ’åºï¼Œå¹¶è¿”å›æ•°ç»„ã€‚æ’åºç®—æ³•ç°åœ¨æ˜¯ç¨³å®šçš„ã€‚é»˜è®¤æ’åºé¡ºåºæ˜¯æ ¹æ®å­—ç¬¦ä¸²Unicodeç ç‚¹**

```js
[1, 1000, 1002, 200, 40].sort() // [1, 1000, 1002, 200, 40] å› ä¸ºæ˜¯æ ¹æ® å­—ç¬¦ä¸²Unicodeç ç‚¹è¿›è¡Œæ’åºçš„
[1, 1000, 1002, 200, 40].sort( (a, b) => a - b) // å‡åº [1, 40, 200, 1000, 1002]
[1, 1000, 1002, 200, 40].sort( (a, b) => b - a) // é™åº [1002, 1000, 200, 40, 1]
```

---

### ğŸ”¥å¤„ç†ï¼šArray.prototype.flatMap()

**flatMap() æ–¹æ³•é¦–å…ˆä½¿ç”¨æ˜ å°„å‡½æ•°æ˜ å°„æ¯ä¸ªå…ƒç´ ï¼Œç„¶åå°†ç»“æœå‹ç¼©æˆä¸€ä¸ªæ–°æ•°ç»„ã€‚å®ƒä¸ map å’Œ æ·±åº¦å€¼1çš„ flat å‡ ä¹ç›¸åŒï¼Œä½† flatMap é€šå¸¸åœ¨åˆå¹¶æˆä¸€ç§æ–¹æ³•çš„æ•ˆç‡ç¨å¾®é«˜ä¸€äº›ã€‚ä¸ä¼šæ”¹å˜åŸæ•°ç»„**

- æ„Ÿè§‰è¿™ä¸ªåƒæ˜¯æ“ä½œæ¯ä¸€ä¸ªå¯¹è±¡ï¼Œè®©å…¶å¯ä»¥è¿”å›ä¸€ä¸ªå€¼ï¼Œæˆ‘è§‰å¾—å¯ä»¥åº”ç”¨åˆ° å°†æ¯ä¸€é¡¹çš„ å­—ç¬¦ä¸²è½¬ä¸ºç‰¹å®šçš„ï¼Œæˆ‘ä¹‹å‰ä½¿ç”¨ forEach åšçš„
- é¦–å…ˆç»å†äº†ä¸¤æ­¥ï¼š
    - flat() å°†å¤šç»´æ•°ç»„è½¬ä¸ºä¸€ä¸ªæ–°æ•°ç»„
    - map() 

```js

[1, 2, 3].flatMap( x => x * 2) // [2, 4, 6]
[1, 2, 3].map( x => x * 2) // [2, 4, 6]

// è™½ç„¶ä¸Šé¢ç”¨ map å’Œ flatMapéƒ½å¯ä»¥ï¼Œä½†æ˜¯ä¸‹é¢
["ä»Šå¤©å¤©æ°”ä¸é”™", "", "æ—©ä¸Šå¥½"].map(s => s.split('')) // [["ä»Š", "å¤©", "å¤©", "æ°”", "ä¸", "é”™"],[""],["æ—©", "ä¸Š", "å¥½"]]
["ä»Šå¤©å¤©æ°”ä¸é”™", "", "æ—©ä¸Šå¥½"].flatMap(s => s.split('')) // ["ä»Š", "å¤©", "å¤©", "æ°”", "ä¸", "é”™", "", "æ—©", "ä¸Š", "å¥½"]

```

---

### ğŸ”¥æŸ¥è¯¢ï¼šArray.prototype.includes()

**includes() æ–¹æ³•ç”¨æ¥åˆ¤æ–­ä¸€ä¸ªæ•°ç»„æ˜¯å¦åŒ…å«ä¸€ä¸ªæŒ‡å®šçš„å€¼ï¼Œæ ¹æ®æƒ…å†µï¼Œå¦‚æœåŒ…å«åˆ™è¿”å› trueï¼Œå¦åˆ™è¿”å›falseã€‚**

```js
[1, 2, 3].includes(1) // true
[1, 2, 3].includes(4) // false
[1, 2, 3].includes(1, 1) // false // å‚æ•°äºŒï¼šfromIndex ä»fromIndex ç´¢å¼•å¤„å¼€å§‹æŸ¥æ‰¾ valueToFindã€‚å¦‚æœä¸ºè´Ÿå€¼ï¼Œåˆ™æŒ‰å‡åºä» array.length + fromIndex çš„ç´¢å¼•å¼€å§‹æœ ï¼ˆå³ä½¿ä»æœ«å°¾å¼€å§‹å¾€å‰è·³ fromIndex çš„ç»å¯¹å€¼ä¸ªç´¢å¼•ï¼Œç„¶åå¾€åæœå¯»ï¼‰ã€‚é»˜è®¤ä¸º 0ã€‚
```

---

### ğŸ”¥Array.prototype.reduce()

**reduce() æ–¹æ³•å¯¹æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ æ‰§è¡Œä¸€ä¸ªç”±æ‚¨æä¾›çš„reducerå‡½æ•°(å‡åºæ‰§è¡Œ)ï¼Œå°†å…¶ç»“æœæ±‡æ€»ä¸ºå•ä¸ªè¿”å›å€¼ã€‚**

æ„Ÿè§‰å¾ˆæœ‰ç”¨ï¼Œä½†æ˜¯æˆ‘ç”¨çš„ä¸ç†Ÿç»ƒ [å„ç§åº”ç”¨](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce)

```js
[1, 2, 3, 4].reduce( (x, y) => x + y ) // 10 åšç´¯åŠ 
[1, 2, 3, 4, 1, 1].reduce( (allNames, name) => { 
  (name in allNames) ? allNames[name]++ : allNames[name] = 1;
  return allNames;
}, {}) // è®¡ç®—æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•° { 1: 3, 2: 1, 3: 1, 4: 1 }
```

---

### æ’åºï¼šArray.prototype.reverse()

**reverse() æ–¹æ³•å°†æ•°ç»„ä¸­å…ƒç´ çš„ä½ç½®é¢ å€’,å¹¶è¿”å›è¯¥æ•°ç»„ã€‚è¯¥æ–¹æ³•ä¼šæ”¹å˜åŸæ•°ç»„ã€‚**

---

### æŸ¥æ‰¾ï¼šArray.prototype.indexOf()

**indexOf()æ–¹æ³•è¿”å›åœ¨æ•°ç»„ä¸­å¯ä»¥æ‰¾åˆ°ä¸€ä¸ªç»™å®šå…ƒç´ çš„ç¬¬ä¸€ä¸ªç´¢å¼•ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è¿”å›-1ã€‚**

```js
[1, 2, 3].indexOf(1) // 0
// å‚æ•°äºŒï¼šfromIndex å¼€å§‹æŸ¥æ‰¾çš„ä½ç½®ã€‚å¦‚æœè¯¥ç´¢å¼•å€¼å¤§äºæˆ–ç­‰äºæ•°ç»„é•¿åº¦ï¼Œæ„å‘³ç€ä¸ä¼šåœ¨æ•°ç»„é‡ŒæŸ¥æ‰¾ï¼Œè¿”å›-1ã€‚å¦‚æœå‚æ•°ä¸­æä¾›çš„ç´¢å¼•å€¼æ˜¯ä¸€ä¸ªè´Ÿå€¼ï¼Œåˆ™å°†å…¶ä½œä¸ºæ•°ç»„æœ«å°¾çš„ä¸€ä¸ªæŠµæ¶ˆï¼Œå³-1è¡¨ç¤ºä»æœ€åä¸€ä¸ªå…ƒç´ å¼€å§‹æŸ¥æ‰¾ï¼Œ-2è¡¨ç¤ºä»å€’æ•°ç¬¬äºŒä¸ªå…ƒç´ å¼€å§‹æŸ¥æ‰¾ ï¼Œä»¥æ­¤ç±»æ¨ã€‚ æ³¨æ„ï¼šå¦‚æœå‚æ•°ä¸­æä¾›çš„ç´¢å¼•å€¼æ˜¯ä¸€ä¸ªè´Ÿå€¼ï¼Œå¹¶ä¸æ”¹å˜å…¶æŸ¥æ‰¾é¡ºåºï¼ŒæŸ¥æ‰¾é¡ºåºä»ç„¶æ˜¯ä»å‰å‘åæŸ¥è¯¢æ•°ç»„ã€‚å¦‚æœæŠµæ¶ˆåçš„ç´¢å¼•å€¼ä»å°äº0ï¼Œåˆ™æ•´ä¸ªæ•°ç»„éƒ½å°†ä¼šè¢«æŸ¥è¯¢ã€‚å…¶é»˜è®¤å€¼ä¸º0.
[2, 5, 9].indexOf(2, -3) // 0
```

---

### æŸ¥è¯¢ï¼šArray.prototype.find() && Array.prototype.findIndex()

**find() æ–¹æ³•è¿”å›æ•°ç»„ä¸­æ»¡è¶³æä¾›çš„æµ‹è¯•å‡½æ•°çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„å€¼ã€‚å¦åˆ™è¿”å› undefinedã€‚**

```js
let arr = [1, 2, 3]
arr.find(x => x > 1) // 2
arr.find(x => x >= 1) // 1
```

**findIndex()æ–¹æ³•è¿”å›æ•°ç»„ä¸­æ»¡è¶³æä¾›çš„æµ‹è¯•å‡½æ•°çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•ã€‚å¦åˆ™è¿”å›-1**

```js
let arr = [1, 2, 3]
arr.findIndex(x => x > 1) // 1
arr.findIndex(x => x >= 10) // -1
```

---

### æŸ¥è¯¢å¢åŠ ï¼šArray.prototype.filter()

**filter() æ–¹æ³•åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„, å…¶åŒ…å«é€šè¿‡æ‰€æä¾›å‡½æ•°å®ç°çš„æµ‹è¯•çš„æ‰€æœ‰å…ƒç´ ï¼Œä¸ä¼šæ”¹å˜åŸæœ‰å€¼ï¼Œå¦‚æœæ²¡ç¬¦åˆçš„è¿”å›[]**

```js
let arr = [1, 2, 3]
arr.filter( x => x > 1) // [2, 3]
```

---

### æŸ¥è¯¢æµ‹è¯•ï¼šArray.prototype.every()

**every() æ–¹æ³•æµ‹è¯•ä¸€ä¸ªæ•°ç»„å†…çš„æ‰€æœ‰å…ƒç´ æ˜¯å¦éƒ½èƒ½é€šè¿‡æŸä¸ªæŒ‡å®šå‡½æ•°çš„æµ‹è¯•ã€‚å®ƒè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ã€‚**

```js

let arr = [1, 2, 3]
arr.every( x => x > 2) // false

```

---

### æŸ¥è¯¢æµ‹è¯•ï¼šArray.prototype.some()

**some() æ–¹æ³•æµ‹è¯•æ˜¯å¦è‡³å°‘æœ‰ä¸€ä¸ªå…ƒç´ å¯ä»¥é€šè¿‡è¢«æä¾›çš„å‡½æ•°æ–¹æ³•ã€‚è¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªBooleanç±»å‹çš„å€¼ã€‚**

```js

let arr = [1, 2, 3]
arr.some( x => x > 2) // true


```

---

### å¢åŠ ï¼šArray.prototype.concat()

**æ­¤æ–¹æ³•ç”¨äºåˆå¹¶ä¸¤ä¸ªæˆ–å¤šä¸ªæ•°ç»„ã€‚æ­¤æ–¹æ³•ä¸ä¼šæ›´æ”¹ç°æœ‰æ•°ç»„ï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªæ–°æ•°ç»„ã€‚**

```js
let arr1 = [1, 2, 3],
    arr2 = [4, 5, 6],
    arr3 = [7, 8, 9]

let arr = arr1.concat(arr1, arr2) // [1, 2, 3, 4, 5, 6, 7, 8, 9]
```

---

### Array.prototype.flat() é€‚åˆå¤šç»´æ•°ç»„è½¬ä¸€çº¬æ•°ç»„

**flat() æ–¹æ³•ä¼šæŒ‰ç…§ä¸€ä¸ªå¯æŒ‡å®šçš„æ·±åº¦é€’å½’éå†æ•°ç»„ï¼Œå¹¶å°†æ‰€æœ‰å…ƒç´ ä¸éå†åˆ°çš„å­æ•°ç»„ä¸­çš„å…ƒç´ åˆå¹¶ä¸ºä¸€ä¸ªæ–°æ•°ç»„è¿”å›**

```js
[1, 2, [3, 4]].flat() // [1, 2, 3, 4]
[1, 2, [3, 4, [5, 6]]].flat(1) // [1, 2, 3, 4, [5, 6]]
[1, 2, [3, 4, [5, 6]]].flat(Infinity) // [1, 2, 3, 4, 5, 6]
```

---

### å¢åŠ ï¼šArray.prototype.fill()

**fill() æ–¹æ³•ç”¨ä¸€ä¸ªå›ºå®šå€¼å¡«å……ä¸€ä¸ªæ•°ç»„ä¸­ä»èµ·å§‹ç´¢å¼•åˆ°ç»ˆæ­¢ç´¢å¼•å†…çš„å…¨éƒ¨å…ƒç´ ã€‚ä¸åŒ…æ‹¬ç»ˆæ­¢ç´¢å¼•ã€‚**

```js
// æœ‰ä¸‰ä¸ªå‚æ•°ï¼Œ| ç”¨æ¥å¡«å……æ•°ç»„å…ƒç´ çš„å€¼ | èµ·å§‹ç´¢å¼•ï¼Œé»˜è®¤å€¼ä¸º0 | ç»ˆæ­¢ç´¢å¼•ï¼Œé»˜è®¤å€¼ä¸º this.length
[1, 2, 3].fill(4) // [4, 4, 4]
[1, 2, 3].fill(4, 1) // [1, 4, 4]
[1, 2, 3].fill(4, 1, 1) // [1, 2, 3]
```

---

### Array.prototype.toSting()

**toString() è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºæŒ‡å®šçš„æ•°ç»„åŠå…¶å…ƒç´ **

```js
[1, 2, 'a', '1a'].toString() // "1,2,a,1a"
```

---

### Array.prototype.lastIndexOf()

**lastIndexOf() æ–¹æ³•è¿”å›æŒ‡å®šå…ƒç´ ï¼ˆä¹Ÿå³æœ‰æ•ˆçš„ JavaScript å€¼æˆ–å˜é‡ï¼‰åœ¨æ•°ç»„ä¸­çš„æœ€åä¸€ä¸ªçš„ç´¢å¼•ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™è¿”å› -1ã€‚ä»æ•°ç»„çš„åé¢å‘å‰æŸ¥æ‰¾ï¼Œä» fromIndex å¤„å¼€å§‹ã€‚**

```js

['Dodo', 'Tiger', 'Penguin', 'Dodo'].lastIndexOf('Dodo') // 3

```

---

### Array.of()

**Array.of() æ–¹æ³•åˆ›å»ºä¸€ä¸ªå…·æœ‰å¯å˜æ•°é‡å‚æ•°çš„æ–°æ•°ç»„å®ä¾‹ï¼Œè€Œä¸è€ƒè™‘å‚æ•°çš„æ•°é‡æˆ–ç±»å‹**

æˆ‘è§‰çš„è¿™ä¸ªæˆ‘ä¸å¸¸ç”¨ï¼Œæ˜¯ç”¨æ¥åˆ›å»ºæ•°ç»„çš„ï¼Œä¸Array() åˆ›å»ºæ•°ç»„ä¸åŒçš„æ˜¯ï¼Œè¿™ä¸ªæ˜¯å¯å˜æ•°é‡å‚æ•°

```js
Array.of(7);       // [7] 
Array.of(1, 2, 3); // [1, 2, 3]

Array(7);          // [ , , , , , , ]
Array(1, 2, 3);    // [1, 2, 3]
```

---

### Array.prototype.copyWithin()

**copyWithin() æ–¹æ³•æµ…å¤åˆ¶æ•°ç»„çš„ä¸€éƒ¨åˆ†åˆ°åŒä¸€æ•°ç»„ä¸­çš„å¦ä¸€ä¸ªä½ç½®ï¼Œå¹¶è¿”å›å®ƒï¼Œä¸ä¼šæ”¹å˜åŸæ•°ç»„çš„é•¿åº¦ã€‚**

---

### Array.prototype.entries()

**entries() æ–¹æ³•è¿”å›ä¸€ä¸ªæ–°çš„Array Iteratorå¯¹è±¡ï¼Œè¯¥å¯¹è±¡åŒ…å«æ•°ç»„ä¸­æ¯ä¸ªç´¢å¼•çš„é”®/å€¼å¯¹**

---

### Array.prototype.keys()

**keys() æ–¹æ³•è¿”å›ä¸€ä¸ªåŒ…å«æ•°ç»„ä¸­æ¯ä¸ªç´¢å¼•é”®çš„Array Iteratorå¯¹è±¡ã€‚**

```js
var array1 = ['a', 'b', 'c'];
var iterator = array1.keys(); 
  
for (let key of iterator) {
  console.log(key); // expected output: 0 1 2
}
```

---

### Array.prototype.values()

**values() æ–¹æ³•è¿”å›ä¸€ä¸ªæ–°çš„ Array Iterator å¯¹è±¡ï¼Œè¯¥å¯¹è±¡åŒ…å«æ•°ç»„æ¯ä¸ªç´¢å¼•çš„å€¼**

```js
const array1 = ['a', 'b', 'c'];
const iterator = array1.values();

for (const value of iterator) {
  console.log(value); // expected output: "a" "b" "c"
}
```

---

### Array.prototype.reduceRight()

**reduceRight() æ–¹æ³•æ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºç´¯åŠ å™¨ï¼ˆaccumulatorï¼‰å’Œæ•°ç»„çš„æ¯ä¸ªå€¼ï¼ˆä»å³åˆ°å·¦ï¼‰å°†å…¶å‡å°‘ä¸ºå•ä¸ªå€¼ã€‚**

---

### Array.prototype.toLocaleString()

**toLocaleString() è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²è¡¨ç¤ºæ•°ç»„ä¸­çš„å…ƒç´ ã€‚æ•°ç»„ä¸­çš„å…ƒç´ å°†ä½¿ç”¨å„è‡ªçš„ toLocaleString æ–¹æ³•è½¬æˆå­—ç¬¦ä¸²ï¼Œè¿™äº›å­—ç¬¦ä¸²å°†ä½¿ç”¨ä¸€ä¸ªç‰¹å®šè¯­è¨€ç¯å¢ƒçš„å­—ç¬¦ä¸²ï¼ˆä¾‹å¦‚ä¸€ä¸ªé€—å· ","ï¼‰éš”å¼€ã€‚**

æ„Ÿè§‰æœ‰ä½¿ç”¨çš„åœºæ™¯

```js
['ï¿¥7', 500, 8123, 12].toLocaleString('ja-JP', { style: 'currency', currency: 'JPY' });

// "ï¿¥7,ï¿¥500,ï¿¥8,123,ï¿¥12"
```


---

### ğŸ˜å¯¹è±¡ï¼ˆObjectï¼‰

---

### â°æ—¶é—´ï¼ˆDateï¼‰

### 1.åŸºæœ¬ä½¿ç”¨

```js
new Date() // åˆ›å»ºä¸€ä¸ªæ—¶é—´å¯¹è±¡ Fri Jul 12 2019 19:59:59 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)

// è¿”å›è‡ª1970å¹´1æœˆ1æ—¥ 00:00:00 UTCåˆ°å½“å‰æ—¶é—´çš„æ¯«ç§’æ•°ã€‚
Date.now(); // 1562932828164

// è§£æä¸€ä¸ªè¡¨ç¤ºæŸä¸ªæ—¥æœŸçš„å­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›ä»1970-1-1 00:00:00 UTC åˆ°è¯¥æ—¥æœŸå¯¹è±¡ï¼ˆè¯¥æ—¥æœŸå¯¹è±¡çš„UTCæ—¶é—´ï¼‰çš„æ¯«ç§’æ•°
Date.parse('2019.7.12') // 1562860800000

// å¹´æœˆæ—¥æ—¶åˆ†ç§’ è·å–
let dateMe = new Date()

dateMe.getFullYear() // 2019 | æ ¹æ®æœ¬åœ°æ—¶é—´è¿”å›æŒ‡å®šæ—¥æœŸçš„å¹´ä»½
dateMe.getMonth() // 6 | æ ¹æ®æœ¬åœ°æ—¶é—´ï¼Œè¿”å›ä¸€ä¸ªæŒ‡å®šçš„æ—¥æœŸå¯¹è±¡çš„æœˆä»½ï¼Œä¸ºåŸºäº0çš„å€¼ï¼ˆ0è¡¨ç¤ºä¸€å¹´ä¸­çš„ç¬¬ä¸€æœˆï¼‰ã€‚
dateMe.getDate() // 12 | æ ¹æ®æœ¬åœ°æ—¶é—´ï¼Œè¿”å›ä¸€ä¸ªæŒ‡å®šçš„æ—¥æœŸå¯¹è±¡ä¸ºä¸€ä¸ªæœˆä¸­çš„å“ªä¸€æ—¥ï¼ˆä»1--31ï¼‰
dateMe.getHours() // 20 |æ ¹æ®æœ¬åœ°æ—¶é—´ï¼Œè¿”å›ä¸€ä¸ªæŒ‡å®šçš„æ—¥æœŸå¯¹è±¡çš„å°æ—¶ã€‚
dateMe.getMinutes() // 11 | æ ¹æ®æœ¬åœ°æ—¶é—´ï¼Œè¿”å›ä¸€ä¸ªæŒ‡å®šçš„æ—¥æœŸå¯¹è±¡çš„åˆ†é’Ÿæ•°ã€‚
dateMe.getSeconds() // 29 | æ–¹æ³•æ ¹æ®æœ¬åœ°æ—¶é—´ï¼Œè¿”å›ä¸€ä¸ªæŒ‡å®šçš„æ—¥æœŸå¯¹è±¡çš„ç§’æ•°
dateMe.getMilliseconds() // 363 | æ ¹æ®æœ¬åœ°æ—¶é—´ï¼Œè¿”å›ä¸€ä¸ªæŒ‡å®šçš„æ—¥æœŸå¯¹è±¡çš„æ¯«ç§’æ•°ã€‚

dateMe.toJSON() // ğŸ”¥ "2019-07-12T12:05:15.363Z" | è¿”å› Date å¯¹è±¡çš„å­—ç¬¦ä¸²å½¢å¼
dateMe.getDay() // 5 | æ ¹æ®æœ¬åœ°æ—¶é—´ï¼Œè¿”å›ä¸€ä¸ªå…·ä½“æ—¥æœŸä¸­ä¸€å‘¨çš„ç¬¬å‡ å¤©ï¼Œ0 è¡¨ç¤ºæ˜ŸæœŸå¤©ï¼ˆ0 - 6ï¼‰
dateMe.getTime() // 1562933115363 | æ–¹æ³•è¿”å›ä¸€ä¸ªæ—¶é—´çš„æ ¼æ—å¨æ²»æ—¶é—´æ•°å€¼ã€‚
dateMe.toString() // "Fri Jul 12 2019 20:05:15 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)" | è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºè¯¥Dateå¯¹è±¡
dateMe.getTimezoneOffset() // -480ï¼ˆè¯´æ˜æ¯”æ­£å¸¸æ—¶åŒºæ…¢480åˆ†é’Ÿï¼Œæ‰€ä»¥è¦åŠ 480åˆ†é’Ÿæ‰å¯¹ï¼‰ | è¿”å›åè°ƒä¸–ç•Œæ—¶ï¼ˆUTCï¼‰ç›¸å¯¹äºå½“å‰æ—¶åŒºçš„æ—¶é—´å·®å€¼ï¼Œå•ä½ä¸ºåˆ†é’Ÿã€‚
dateMe.toDateString() // "Fri Jul 12 2019" | ä»¥ç¾å¼è‹±è¯­å’Œäººç±»æ˜“è¯»çš„å½¢å¼è¿”å›ä¸€ä¸ªæ—¥æœŸå¯¹è±¡æ—¥æœŸéƒ¨åˆ†çš„å­—ç¬¦ä¸²ã€‚

```

[MDN æ›´å¤šè¯¦ç»†](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Date)

---

