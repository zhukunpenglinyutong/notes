# v0.2æ–¹å‘æŒ‡å—

## å‰è¨€

ä¸å¯å¦è®¤çš„è‡ªé«˜è€ƒä»¥æ¥æˆ‘çš„å­¦ä¹ æ°´å¹³å°±ä¸€ç›´é™ä½å¾ˆå¤šï¼Œè¦ä¸è¯´æœ‰çš„é«˜ä¸­å­¦ä¹ èƒ½åŠ›å¥½çš„äººï¼Œåœ¨å¤§å­¦ä¹‹åçš„èŒåœºç”Ÿæ´»ä¸­å­¦ä¹ çš„ä¹Ÿéå¸¸çš„æ£’ï¼Œè¿™é‡Œæˆ‘æ·±åˆ‡çš„æ„Ÿå—åˆ°æ˜¯å­¦ä¹ æ–¹æ³•çš„é—®é¢˜

ä¸¾ä¾‹ä¸€ï¼šæˆ‘é«˜ä¸­å°±ä¸å–œæ¬¢æ€»ç»“ï¼Œå› ä¸ºé«˜ä¸­æ˜¯ä½“è‚²ç‰¹é•¿ç”Ÿï¼Œæ—©ä¸Šæ™šä¸Šéƒ½åœ¨è®­ç»ƒï¼Œä¸Šè¯¾ä¹Ÿæ¯”è¾ƒç–²æƒ«ï¼Œèƒ½è·Ÿä¸Šè€å¸ˆè®²è¯¾å°±å¯ä»¥äº†ï¼Œé«˜è€ƒå‰å—ä¼¤ä½“è‚²æ²¡è€ƒäº†ï¼Œèµ°çš„æ­£å¸¸åˆ†æ•°çº¿ï¼Œä½†æ˜¯......ï¼Œé«˜ä¸­ä¸å–œæ¬¢æ€»ç»“ï¼Œäºæ˜¯æˆç»©ä¸ç†æƒ³ï¼Œå‹çº¿è¿‡äº†æœ¬ç§‘çº¿ä½†æ˜¯æ²¡æŠ¥ä¸Šï¼Œä¸Šäº†ä¸“ç§‘ï¼Œåœ¨ä¸“ç§‘è¿™å‡ å¹´å› ä¸ºå‚ä¸äº†å¾ˆå¤šäº‹æƒ…ï¼Œå¯¼è‡´æˆ‘å¯¹äºå­¦ä¹ æ–¹æ³•è¿™å—ä¸€ç›´æ²¡æœ‰æ€è€ƒè¿‡ï¼Œç”šè‡³ä¹Ÿæ²¡æœ‰è®¤è¯†åˆ°å…¶ä¸­çš„é‡è¦æ€§ï¼Œæœ€è¿‘å‡†å¤‡æ¢å·¥ä½œäº†ï¼ˆè¿˜èƒ½å¾…ä¸€äº›æ—¶é—´ï¼‰ï¼Œæœ‰æ—¶é—´é™ä¸‹æ¥æ€è€ƒä¸€ä¸‹äº†

æˆ‘å‘ç°ï¼Œæˆ‘æ ¸å¿ƒçš„å­¦ä¹ æ–¹æ³•ä¸­æœ‰ä¸€ä¸ªé‡å¤§è¯¯åŒºï¼Œå°±æ˜¯å­¦ä¹ åˆ°ä¸€ä¸ªçŸ¥è¯†ç‚¹ä¹‹åï¼Œå°±æ²¾æ²¾è‡ªå–œï¼Œè‡ªä»¥ä¸ºæ˜¯ï¼Œäºæ˜¯ä¹ï¼Œæˆ‘ç»å¸¸è¢«è¿™ç§å–œæ‚¦å†²å‡»ï¼Œå¯¼è‡´æˆ‘ä¸è®°å½•å½“æ—¶ç†è§£æ—¶å€™çš„æ„Ÿæ‚Ÿï¼Œè¿™æ ·å°±å¯¼è‡´äº†æˆ‘å¾ˆé•¿æ—¶é—´ä¹‹åå¯èƒ½ä¼šæœ‰ä¸€ä¸ªçŸ¥è¯†çš„é—å¿˜ï¼Œç„¶åå¦‚æœè¿˜éœ€è¦å­¦ä¹ çš„è¯ï¼Œå¯èƒ½è¿˜éœ€è¦èŠ±åŒæ ·çš„æ—¶é—´ï¼Œè¿™......å°±éå¸¸çš„å¯æ€•äº†

ä¸¾ä¾‹äºŒï¼šé«˜è€ƒæˆ‘æœ‰ä¸€é—¨å­¦ç§‘æ¯”è¾ƒå¥½ï¼Œå¯¹çš„è¯•å·ï¼Œåº”è¯¥æ˜¯æ»¡åˆ†ğŸ’¯ï¼Œå°±æ˜¯ç†ç»¼é‡Œé¢çš„ç”Ÿç‰©ï¼Œä¸ºä»€ä¹ˆè¿™ä¸ªåˆ†æ•°å¾ˆé«˜å‘¢ï¼Œå› ä¸ºè¿™ä¸ªæ˜¯æˆ‘å”¯ä¸€ä¸€ä¸ªæ•´ç†ç¬”è®°ï¼Œç„¶åä¸æ–­é‡æ„ç¬”è®°çš„å­¦ç§‘ï¼ˆé‡æ„äº†3æ¬¡ä»¥ä¸Šï¼Œæ¯æ¬¡éƒ½æ˜¯é‡å†™ä¸€ä»½ï¼Œå†™åšï¼Œå†å†™è–„ï¼Œåœ¨å†™åšï¼‰ï¼Œé‚£æ—¶å€™è·ç¦»é«˜è€ƒåªæœ‰1ä¸ªæœˆäº†ï¼Œæˆ‘ç”¨äº†åŒæ ·çš„æ–¹æ³•åœ¨æ•°å­¦èº«ä¸Šï¼Œç»“æœæˆç»©æé«˜äº†50å¤šåˆ†ï¼Œè¿™ä¹Ÿå¾ˆå¤§ç¨‹åº¦ä¸Šï¼Œè®©æˆ‘å‹çº¿è¿‡äº†æœ¬ç§‘çº¿ï¼Œä½†å¯æƒœæ²¡æŠ¥ä¸Šï¼Œä½†æ˜¯ä¸åæ‚”ï¼Œè¦è¯´åæ‚”çš„ï¼Œå°±æ˜¯æˆ‘æœ€è¿‘ï¼Œå·²ç»è¿‡å»ä¸‰å¹´äº†ï¼Œæˆ‘æ‰æ„è¯†åˆ°è¿™ä¸ªå­¦ä¹ æ¨¡å‹çš„é‡è¦æ€§ï¼Œè®°å½• ---> é‡æ„ï¼ˆä¸æ–­ä¼˜åŒ–ï¼‰---> è®°å½•

åˆ†æï¼šä¸Šé¢çš„é‚£ä¸ªæ¨¡å‹è•´å«ç€ï¼Œç†è§£ï¼Œå¤ä¹ ï¼Œè®°å½•ï¼Œä¸€ç³»åˆ—å¾ˆé‡è¦çš„ä¸œè¥¿ï¼Œçœ‹ä¼¼å¾ˆç®€å•ï¼Œä¼¼ä¹è§¦æ‰‹å¯åŠï¼Œä½†è¿™äº›éƒ½æ˜¯æˆ‘ç›®å‰æˆ–ç¼ºçš„ï¼Œæ‰€ä»¥ v0.2 æ–¹å‘çš„ç›®æ ‡æ˜¯ **åšæœ€å¥½çš„é€ŸæŸ¥ç¬”è®°ï¼ˆå¹¶ä¸æ–­å®Œå–„ï¼‰**

---

## æŠ€æœ¯è¾¾æˆ

æœ¬ç‰ˆæœ¬éœ€è¦å®Œæˆè‡ªåŠ¨åŒ– CI/CDï¼Œ

```javascript

 â‘               â‘¡               â‘¢              â‘£
å¼€å‘ ---> gitlab.itzkp.com ---> GitHub ---> notes.itzkp.com

å…¶ä¸­  â‘¡â‘¢ æ­¥éª¤å€ŸåŠ©äº jenkins.itzkp.com çš„åŠŸèƒ½è¿›è¡Œæ„å»ºï¼Œæœ€ç»ˆæ•ˆæœæ˜¯è¾¾æˆ â‘£

```

---

## CI/CD å…·ä½“ç»†èŠ‚

- 1.æœ¬åœ°å¼€å‘æäº¤åˆ°GitLabä¸Šä¹‹åï¼Œè§¦å‘ ä»»åŠ¡1ï¼ŒJenkinsä¼šå°† GitLabæäº¤å†…å®¹ï¼Œæäº¤åˆ° GiHub
- 2.GitHubæäº¤æˆåŠŸä¹‹åï¼Œè§¦å‘ ä»»åŠ¡2ï¼ŒJenkins ä¼šå°†GitHubä¸Šçš„æ–‡ä»¶æ‹‰å–åˆ°æœ¬åœ°ï¼ˆé˜¿é‡Œäº‘æœåŠ¡å™¨ï¼‰ï¼Œç„¶åå€ŸåŠ©Nodeç¨‹åºï¼Œæ ¹æ®è§„åˆ™ç”Ÿæˆæ­£ç¡®çš„é™æ€æ–‡ä»¶ï¼Œç„¶åæ‰“åŒ…å‘åˆ° è…¾è®¯äº‘æœåŠ¡å™¨ï¼ˆnotes.itzkp.comç¯å¢ƒï¼‰ï¼Œé‡å¯pm2ï¼ˆå¦‚æœå¯ä»¥ç›´æ¥æ›¿æ¢å†…å®¹çš„è¯ï¼Œå¯èƒ½ä¸éœ€è¦é‡å¯ï¼‰

---

## Nodeä¸­é—´å¤„ç†ç¨‹åºå…·ä½“è§„åˆ™

```javascript

var fs = require("fs");
var path = require('path')

// â‘  ï¼šå°† record.md å†…å®¹å¤åˆ¶åˆ° 1.quickcheck å’Œ 2.noteä¸‹ï¼Œå¹¶ä¸”åå­—éƒ½å«åš README.md

// å¼‚æ­¥è¯»å–
fs.readFile('record.md', function (err, data) {
  
  if (err) {
      return console.error(err);
  }
  // console.log("å¼‚æ­¥è¯»å–: " + data.toString());

  // å¼‚æ­¥å†™å…¥
  fs.writeFile('./docs/1.quickcheck/README.md', data,  function(err) {
    if (err) {
        return console.error(err);
    }
    console.log("2.quickcheck README.md æ•°æ®å†™å…¥æˆåŠŸï¼");
  });

  fs.writeFile('./docs/2.note/README.md', data,  function(err) {
    if (err) {
        return console.error(err);
    }
    console.log("3.note README.md æ•°æ®å†™å…¥æˆåŠŸï¼");
  });

});


// â‘¡ éå† 1.quickcheck å’Œ 2.note æ–‡ä»¶å¤¹ï¼Œç”Ÿæˆè·¯å¾„å¯¼èˆª

// è¯»å–ç›®å½•,å¹¶æ ¹æ®æ­¤ç”Ÿæˆè§„åˆ™å†™å…¥ config.jsä¸­
let strOne = ''
let one = fs.readdirSync('./1.quickcheck')
one.forEach(item => {
  if (!/.md/.test(item) && item !== '.DS_Store') {

    let files2 = []
    let files2Str = ''
    fs.readdirSync(path.join('./1.quickcheck', item)).forEach( item1 => {
      // Macç³»ç»Ÿä¸‹çš„é—®é¢˜
      if (item1 !== '.DS_Store') {
        files2.push(`${path.join(path.join('./2.note', item), item1)}`)
      }
    })

    files2.forEach( item2 => {
      files2Str += `
      '${item2}',`
    })

    strOne += `
      {
        title: '${item}',
        children: [${files2Str}]
      },
    `
  }
})

let strTwo = ''
let two = fs.readdirSync('./2.note')
two.forEach(item => {
  if (!/.md/.test(item) && item !== '.DS_Store') {

    let files2 = []
    let files2Str = ''
    fs.readdirSync(path.join('./2.note', item)).forEach( item1 => {
      // Macç³»ç»Ÿä¸‹çš„é—®é¢˜
      if (item1 !== '.DS_Store') {
        files2.push(`${path.join(path.join('./2.note', item), item1)}`)
      }
    })

    files2.forEach( item2 => {
      files2Str += `
      '${item2}',`
    })

    strTwo += `
      {
        title: '${item}',
        children: [${files2Str}]
      },
    `
  }
})

// å†™å…¥
let configStr = `
module.exports = {
  title: 'Notes',
  description: 'çŸ¥è¯†é€ŸæŸ¥ï¼ˆäº†ä¸èµ·çš„ä¸ªäººå·¥å…·åº“',
  head: [
    ['link', { rel: 'icon', href: '/favicon.ico' }]
  ],
  themeConfig: {
    repo: 'https://github.com/zhukunpenglinyutong/notes',
    //å¯¼èˆª
    nav: [
      { text: 'é€ŸæŸ¥', link: '/1.quickcheck/' },
      { text: 'ç¬”è®°', link: '/2.note/' }
    ],
    // ä¾§è¾¹æ 
    sidebar: {
      '/1.quickcheck': [
        ${strOne}
      ],
      '/2.note': [
        ${strTwo}
      ]
    }
  },
  serviceWorker: true,
}
`

fs.writeFile('./docs/.vuepress/config.js', configStr,  function(err) {
  if (err) {
      return console.error(err);
  }
  console.log("1.configStr æ•°æ®å†™å…¥æˆåŠŸï¼");
});

```

---

## ä½¿ç”¨

<img src="https://itzkp-1253302184.cos.ap-beijing.myqcloud.com/notes/2.note/0.%E9%A1%B9%E7%9B%AE%E6%96%B9%E5%90%91%E6%8C%87%E5%8D%97/4.png" />
<img src="https://itzkp-1253302184.cos.ap-beijing.myqcloud.com/notes/2.note/0.%E9%A1%B9%E7%9B%AE%E6%96%B9%E5%90%91%E6%8C%87%E5%8D%97/5.png" />


---

## CI/CD å…·ä½“ç»†èŠ‚ï¼ˆç®€æ˜“ç‰ˆï¼‰

```javascript

// æ•´ä½“æ€è·¯æ¢³ç†
â‘  Jenkinsæ£€æµ‹ GitHubé’©å­ï¼Œè§¦å‘ä¹‹åï¼Œå°† GitHubä¸Šçš„æ–‡ä»¶ä¸‹è½½åˆ° è…¾è®¯äº‘ä¸Šé¢ï¼Œ
â‘¡ ç„¶åæ‰§è¡Œ Nodeå¤„ç†ç¨‹åº
â‘¢ ç„¶åé‡å¯ pm2

// é¢„è®¡é—®é¢˜æ€è€ƒ
â‘  Jenkinsæ”¾åˆ° é˜¿é‡Œäº‘æœåŠ¡å™¨ä¸Šï¼Œæ˜¯å¦èƒ½æ§åˆ¶åˆ° è…¾è®¯äº‘æœåŠ¡å™¨ä¸Šçš„ä¿¡æ¯ï¼ˆæœ¬åœ°çš„æˆ‘è¯•è¿‡ï¼Œå¯ä»¥ï¼Œshè„šæœ¬ä¹Ÿæ²¡é—®é¢˜ï¼‰
â‘¡ é›†æˆé”™è¯¯è¿˜æœ‰é‚®ä»¶ä¿¡æ¯çš„å‘é€ï¼ŒJenkinsæˆ‘è¿˜ä¸å¤ªä¼š

```

---

## åè®°

- v0.2 ç‰ˆæœ¬ï¼Œè¦æœ‰ è‡³å°‘200ä¸ªæ–¹æ³•ï¼Œå’Œ 30+ é€ŸæŸ¥ç¬”è®°ç»„æˆï¼Œè¿˜è¦æœ‰ä¸€æ¡å®Œå–„çš„ CI/CD é“¾è·¯ï¼Œæ‰èƒ½ä½œä¸ºæœ€åŸºç¡€çš„æ”¯æ’‘ï¼ˆé¢„è®¡å®Œæˆ6æœˆ20æ—¥å·¦å³ï¼‰ ğŸ”¥





